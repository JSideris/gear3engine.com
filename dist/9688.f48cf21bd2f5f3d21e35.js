/*! For license information please see 9688.f48cf21bd2f5f3d21e35.js.LICENSE.txt */
"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[9688],{9688:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});var n=r(932),i=r(19),a=r(414),o=r(8950),s=r(2514),h=r(9166),l=r(5868),u=r(3663),f=r(2755),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},c(e,t)},d=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},p=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var n in t){var i=t[n].match(/^[a-z]+/gm)[0],a=t[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var h=a[s].split("="),l=h[0],u=h[1].replace(/"/gm,""),f=parseFloat(u),c=isNaN(f)?u:f;o[l]=c}r[i].push(o)}var p=new d;return r.info.forEach((function(e){return p.info.push({face:e.face,size:parseInt(e.size,10)})})),r.common.forEach((function(e){return p.common.push({lineHeight:parseInt(e.lineHeight,10)})})),r.page.forEach((function(e){return p.page.push({id:parseInt(e.id,10),file:e.file})})),r.char.forEach((function(e){return p.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),r.kerning.forEach((function(e){return p.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),r.distanceField.forEach((function(e){return p.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),p},e}(),g=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new d,r=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),i=e.getElementsByTagName("page"),a=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),s=e.getElementsByTagName("distanceField"),h=0;h<r.length;h++)t.info.push({face:r[h].getAttribute("face"),size:parseInt(r[h].getAttribute("size"),10)});for(h=0;h<n.length;h++)t.common.push({lineHeight:parseInt(n[h].getAttribute("lineHeight"),10)});for(h=0;h<i.length;h++)t.page.push({id:parseInt(i[h].getAttribute("id"),10)||0,file:i[h].getAttribute("file")});for(h=0;h<a.length;h++){var l=a[h];t.char.push({id:parseInt(l.getAttribute("id"),10),page:parseInt(l.getAttribute("page"),10)||0,x:parseInt(l.getAttribute("x"),10),y:parseInt(l.getAttribute("y"),10),width:parseInt(l.getAttribute("width"),10),height:parseInt(l.getAttribute("height"),10),xoffset:parseInt(l.getAttribute("xoffset"),10),yoffset:parseInt(l.getAttribute("yoffset"),10),xadvance:parseInt(l.getAttribute("xadvance"),10)})}for(h=0;h<o.length;h++)t.kerning.push({first:parseInt(o[h].getAttribute("first"),10),second:parseInt(o[h].getAttribute("second"),10),amount:parseInt(o[h].getAttribute("amount"),10)});for(h=0;h<s.length;h++)t.distanceField.push({fieldType:s[h].getAttribute("fieldType"),distanceRange:parseInt(s[h].getAttribute("distanceRange"),10)});return t},e}(),x=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return g.test(t)}return!1},e.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return g.parse(t)},e}(),v=[p,g,x];function m(e){for(var t=0;t<v.length;t++)if(v[t].test(e))return v[t];return null}function y(e,t,r,n,i,a,s){var l=r.text,u=r.fontProperties;t.translate(n,i),t.scale(a,a);var f=s.strokeThickness/2,c=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function(e,t,r,n,i,a){var o,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,f=e.width/n-l-2*u,c=e.height/n-l-2*u,d=s.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var g=d.length+1,x=1;x<g;++x)p.push(x/g);if(d.unshift(s[0]),p.unshift(0),d.push(s[s.length-1]),p.push(1),r.fillGradientType===h.TEXT_GRADIENT.LINEAR_VERTICAL){o=t.createLinearGradient(f/2,u,f/2,c+u);var v=0,m=(a.fontProperties.fontSize+r.strokeThickness)/c;for(x=0;x<i.length;x++)for(var y=a.lineHeight*x,b=0;b<d.length;b++){var _=y/c+("number"==typeof p[b]?p[b]:b/d.length)*m,T=Math.max(v,_);T=Math.min(T,1),o.addColorStop(T,d[b]),v=T}}else{o=t.createLinearGradient(u,c/2,f+u,c/2);var w=d.length+1,A=1;for(x=0;x<d.length;x++){var M;M="number"==typeof p[x]?p[x]:A/w,o.addColorStop(M,d[x]),A++}}return o}(e,t,s,a,[l],r),t.strokeStyle=s.stroke,s.dropShadow){var d=s.dropShadowColor,p=o.hex2rgb("number"==typeof d?d:o.string2hex(d)),g=s.dropShadowBlur*a,x=s.dropShadowDistance*a;t.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",t.shadowBlur=g,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*x,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*x}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(l,f,c+r.lineHeight-u.descent),s.fill&&t.fillText(l,f,c+r.lineHeight-u.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function b(e){return Array.from?Array.from(e):e.split("")}function _(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var T=function(){function e(e,t,r){var i,a,h=e.info[0],u=e.common[0],f=e.page[0],c=e.distanceField[0],d=o.getResolutionOfUrl(f.file),p={};this._ownsTextures=r,this.font=h.face,this.size=h.size,this.lineHeight=u.lineHeight/d,this.chars={},this.pageTextures=p;for(var g=0;g<e.page.length;g++){var x=e.page[g],v=x.id,m=x.file;p[v]=t instanceof Array?t[g]:t[m],(null==c?void 0:c.fieldType)&&"none"!==c.fieldType&&(p[v].baseTexture.alphaMode=l.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA)}for(g=0;g<e.char.length;g++){var y=e.char[g],b=(v=y.id,y.page),_=e.char[g],T=_.x,w=_.y,A=_.width,M=_.height,S=_.xoffset,P=_.yoffset,C=_.xadvance;T/=d,w/=d,A/=d,M/=d,S/=d,P/=d,C/=d;var E=new n.Rectangle(T+p[b].frame.x/d,w+p[b].frame.y/d,A,M);this.chars[v]={xOffset:S,yOffset:P,xAdvance:C,kerning:{},texture:new s.Texture(p[b].baseTexture,E),page:b}}for(g=0;g<e.kerning.length;g++){var O=e.kerning[g],I=O.first,F=O.second,k=O.amount;I/=d,F/=d,k/=d,this.chars[F]&&(this.chars[F].kerning[I]=k)}this.distanceFieldRange=null==c?void 0:c.distanceRange,this.distanceFieldType=null!==(a=null===(i=null==c?void 0:c.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==a?a:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,n){var i;if(t instanceof d)i=t;else{var a=m(t);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(t)}r instanceof s.Texture&&(r=[r]);var o=new e(i,r,n);return e.available[o.font]=o,o},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,n){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},e.defaultOptions,n),a=i.chars,o=i.padding,l=i.resolution,u=i.textureWidth,f=i.textureHeight,c=function(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)t.push(String.fromCharCode(s))}else t.push.apply(t,b(i))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(a),p=r instanceof h.TextStyle?r:new h.TextStyle(r),g=u,x=new d;x.info[0]={face:p.fontFamily,size:p.fontSize},x.common[0]={lineHeight:p.fontSize};for(var v,m,T,w=0,A=0,M=0,S=[],P=0;P<c.length;P++){v||((v=document.createElement("canvas")).width=u,v.height=f,m=v.getContext("2d"),T=new s.BaseTexture(v,{resolution:l}),S.push(new s.Texture(T)),x.page.push({id:S.length-1,file:""}));var C=h.TextMetrics.measureText(c[P],p,!1,v),E=C.width,O=Math.ceil(C.height),I=Math.ceil(("italic"===p.fontStyle?2:1)*E);if(A>=f-O*l){if(0===A)throw new Error("[BitmapFont] textureHeight "+f+"px is too small for "+p.fontSize+"px fonts");--P,v=null,m=null,T=null,A=0,w=0,M=0}else if(M=Math.max(O+C.fontProperties.descent,M),I*l+w>=g)--P,A+=M*l,A=Math.ceil(A),w=0,M=0;else{y(v,m,C,w,A,l,p);var F=_(C.text);x.char.push({id:F,page:S.length-1,x:w/l,y:A/l,width:I,height:O,xoffset:0,yoffset:0,xadvance:Math.ceil(E-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),w+=(I+2*o)*l,w=Math.ceil(w)}}P=0;for(var k=c.length;P<k;P++)for(var B=c[P],D=0;D<k;D++){var N=c[D],L=m.measureText(B).width,H=m.measureText(N).width,z=m.measureText(B+N).width-(L+H);z&&x.kerning.push({first:_(B),second:_(N),amount:z})}var R=new e(x,S,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=R,R},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),w=[],A=[],M=[],S=function(e){function t(r,a){void 0===a&&(a={});var o=e.call(this)||this;o._tint=16777215;var s=Object.assign({},t.styleDefaults,a),h=s.align,l=s.tint,u=s.maxWidth,f=s.letterSpacing,c=s.fontName,d=s.fontSize;if(!T.available[c])throw new Error('Missing BitmapFont "'+c+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=h,o._tint=l,o._fontName=c,o._fontSize=d||T.available[c].size,o.text=r,o._maxWidth=u,o._maxLineHeight=0,o._letterSpacing=f,o._anchor=new n.ObservablePoint((function(){o.dirty=!0}),o,0,0),o._roundPixels=i.settings.ROUND_PIXELS,o.dirty=!0,o._resolution=i.settings.RESOLUTION,o._autoResolution=!0,o._textureCache={},o}return function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(t,e),t.prototype.updateText=function(){for(var e,t=T.available[this._fontName],r=this._fontSize/t.size,i=new n.Point,h=[],u=[],f=[],c=b(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),d=this._maxWidth*t.size/this._fontSize,p="none"===t.distanceFieldType?w:A,g=null,x=0,v=0,m=0,y=-1,S=0,P=0,C=0,E=0,O=0;O<c.length;O++){var I=_(J=c[O]);if(/(?:\s)/.test(J)&&(y=O,S=x,E++),"\r"!==J&&"\n"!==J){var F=t.chars[I];if(F){g&&F.kerning[g]&&(i.x+=F.kerning[g]);var k=M.pop()||{texture:s.Texture.EMPTY,line:0,charCode:0,prevSpaces:0,position:new n.Point};k.texture=F.texture,k.line=m,k.charCode=I,k.position.x=i.x+F.xOffset+this._letterSpacing/2,k.position.y=i.y+F.yOffset,k.prevSpaces=E,h.push(k),x=k.position.x+Math.max(F.xAdvance,F.texture.orig.width),i.x+=F.xAdvance+this._letterSpacing,C=Math.max(C,F.yOffset+F.texture.height),g=I,-1!==y&&d>0&&i.x>d&&(++P,o.removeItems(h,1+y-P,1+O-y),O=y,y=-1,u.push(S),f.push(h.length>0?h[h.length-1].prevSpaces:0),v=Math.max(v,S),m++,i.x=0,i.y+=t.lineHeight,g=null,E=0)}}else u.push(x),f.push(-1),v=Math.max(v,x),++m,++P,i.x=0,i.y+=t.lineHeight,g=null,E=0}var B=c[c.length-1];"\r"!==B&&"\n"!==B&&(/(?:\s)/.test(B)&&(x=S),u.push(x),v=Math.max(v,x),f.push(-1));var D=[];for(O=0;O<=m;O++){var N=0;"right"===this._align?N=v-u[O]:"center"===this._align?N=(v-u[O])/2:"justify"===this._align&&(N=f[O]<0?0:(v-u[O])/f[O]),D.push(N)}var L=h.length,H={},z=[],R=this._activePagesMeshData;for(O=0;O<R.length;O++)p.push(R[O]);for(O=0;O<L;O++){var j=(Q=h[O].texture).baseTexture.uid;if(!H[j]){if(!(oe=p.pop())){var W=new a.MeshGeometry,U=void 0,X=void 0;"none"===t.distanceFieldType?(U=new a.MeshMaterial(s.Texture.EMPTY),X=l.BLEND_MODES.NORMAL):(U=new a.MeshMaterial(s.Texture.EMPTY,{program:s.Program.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),X=l.BLEND_MODES.NORMAL_NPM);var G=new a.Mesh(W,U);G.blendMode=X,oe={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:G,vertices:null,uvs:null,indices:null}}oe.index=0,oe.indexCount=0,oe.vertexCount=0,oe.uvsCount=0,oe.total=0;var Y=this._textureCache;Y[j]=Y[j]||new s.Texture(Q.baseTexture),oe.mesh.texture=Y[j],oe.mesh.tint=this._tint,z.push(oe),H[j]=oe}H[j].total++}for(O=0;O<R.length;O++)-1===z.indexOf(R[O])&&this.removeChild(R[O].mesh);for(O=0;O<z.length;O++)z[O].mesh.parent!==this&&this.addChild(z[O].mesh);for(var O in this._activePagesMeshData=z,H){var V=(oe=H[O]).total;if(!((null===(e=oe.indices)||void 0===e?void 0:e.length)>6*V)||oe.vertices.length<2*a.Mesh.BATCHABLE_SIZE)oe.vertices=new Float32Array(8*V),oe.uvs=new Float32Array(8*V),oe.indices=new Uint16Array(6*V);else for(var Z=oe.total,q=oe.vertices,$=4*Z*2;$<q.length;$++)q[$]=0;oe.mesh.size=6*V}for(O=0;O<L;O++){var J,K=(J=h[O]).position.x+D[J.line]*("justify"===this._align?J.prevSpaces:1);this._roundPixels&&(K=Math.round(K));var Q,ee=K*r,te=J.position.y*r,re=H[(Q=J.texture).baseTexture.uid],ne=Q.frame,ie=Q._uvs,ae=re.index++;re.indices[6*ae+0]=0+4*ae,re.indices[6*ae+1]=1+4*ae,re.indices[6*ae+2]=2+4*ae,re.indices[6*ae+3]=0+4*ae,re.indices[6*ae+4]=2+4*ae,re.indices[6*ae+5]=3+4*ae,re.vertices[8*ae+0]=ee,re.vertices[8*ae+1]=te,re.vertices[8*ae+2]=ee+ne.width*r,re.vertices[8*ae+3]=te,re.vertices[8*ae+4]=ee+ne.width*r,re.vertices[8*ae+5]=te+ne.height*r,re.vertices[8*ae+6]=ee,re.vertices[8*ae+7]=te+ne.height*r,re.uvs[8*ae+0]=ie.x0,re.uvs[8*ae+1]=ie.y0,re.uvs[8*ae+2]=ie.x1,re.uvs[8*ae+3]=ie.y1,re.uvs[8*ae+4]=ie.x2,re.uvs[8*ae+5]=ie.y2,re.uvs[8*ae+6]=ie.x3,re.uvs[8*ae+7]=ie.y3}for(var O in this._textWidth=v*r,this._textHeight=(i.y+t.lineHeight)*r,H){var oe=H[O];if(0!==this.anchor.x||0!==this.anchor.y)for(var se=0,he=this._textWidth*this.anchor.x,le=this._textHeight*this.anchor.y,ue=0;ue<oe.total;ue++)oe.vertices[se++]-=he,oe.vertices[se++]-=le,oe.vertices[se++]-=he,oe.vertices[se++]-=le,oe.vertices[se++]-=he,oe.vertices[se++]-=le,oe.vertices[se++]-=he,oe.vertices[se++]-=le;this._maxLineHeight=C*r;var fe=oe.mesh.geometry.getBuffer("aVertexPosition"),ce=oe.mesh.geometry.getBuffer("aTextureCoord"),de=oe.mesh.geometry.getIndex();fe.data=oe.vertices,ce.data=oe.uvs,de.data=oe.indices,fe.update(),ce.update(),de.update()}for(O=0;O<h.length;O++)M.push(h[O])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var r=T.available[this._fontName],n=r.distanceFieldRange,i=r.distanceFieldType,a=r.size;if("none"!==i)for(var o=this.worldTransform,s=o.a,h=o.b,l=o.c,u=o.d,f=Math.sqrt(s*s+h*h),c=Math.sqrt(l*l+u*u),d=(Math.abs(f)+Math.abs(c))/2,p=this._fontSize/a,g=0,x=this._activePagesMeshData;g<x.length;g++)x[g].mesh.shader.uniforms.uFWidth=d*n*p*this._resolution;e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!T.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var r=this._textureCache;for(var n in r)r[n].destroy(),delete r[n];this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(u.Container),P=function(){function e(){}return e.add=function(){f.LoaderResource.setExtensionXhrType("fnt",f.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var n=m(t.data);if(n)for(var i=e.getBaseUrl(this,t),a=n.parse(t.data),o={},s=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===a.page.length&&(t.bitmapFont=T.install(a,o,!0),r())},h=0;h<a.page.length;++h){var l=a.page[h].file,u=i+l,c=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===u){p.metadata.pageFile=l,p.texture?s(p):p.onAfterMiddleware.add(s),c=!0;break}}if(!c){var g={crossOrigin:t.crossOrigin,loadType:f.LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},t.metadata.imageMetadata),parentResource:t};this.add(u,g,s)}}else r()},e.getBaseUrl=function(t,r){var n=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),t.baseUrl&&n&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(n+="/")),(n=n.replace(t.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}();t.BitmapFont=T,t.BitmapFontData=d,t.BitmapFontLoader=P,t.BitmapText=S}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNTLEtBa0JyRSxPQWpCSVQsRUFBU3NCLFlBQ00sTUFBWEQsSUFDQUEsRUFBUyxJQUVURCxFQUFPbEIsU0FBV21CLEdBRXVDLE1BQXJERCxFQUFPbEIsUUFBUXNCLE9BQU9KLEVBQU9sQixRQUFRaFUsT0FBUyxLQUM5Q21WLEdBQVUsT0FLdEJBLEVBQVNBLEVBQU9oWCxRQUFRK1csRUFBT2xCLFFBQVMsTUFFVyxNQUFyQ21CLEVBQU9HLE9BQU9ILEVBQU9uVixPQUFTLEtBQ3hDbVYsR0FBVSxLQUVQQSxDQUNYLEVBS0E1QixFQUFpQjhCLFFBQVUsU0FBVWQsR0FDakMsSUFBSWdCLEVBQU1oQixFQUNMcFcsUUFBUSxNQUFPLEtBQ2ZBLFFBQVEsTUFBTyxJQUNmQSxRQUFRLFlBQWEsSUFFMUIsT0FBSW9YLElBQVFoQixFQUNELElBR00sS0FBUmdCLEVBQ0UsSUFFSkEsQ0FDWCxFQUNPaEMsQ0FDWCxDQXBIcUMsR0FzSHJDbFksRUFBUWdLLFdBQWFBLEVBQ3JCaEssRUFBUW1CLGVBQWlCQSxFQUN6Qm5CLEVBQVFrWSxpQkFBbUJBLEVBQzNCbFksRUFBUThPLFdBQWFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VhcjNlbmdpbmUtd2Vic2l0ZS8uLi8uLi9HQU1FUy1TSU1VTEFUT1JTLUZVTi9nZWFyM2VuZ2luZS9wbHVnaW5zL2czZS1jYW52YXMtMmQvbm9kZV9tb2R1bGVzL0BwaXhpL3RleHQtYml0bWFwL2Rpc3QvY2pzL3RleHQtYml0bWFwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2Ni40LjJcbiAqIENvbXBpbGVkIFRodSwgMDIgSnVuIDIwMjIgMTU6Mzk6MjYgVVRDXG4gKlxuICogQHBpeGkvdGV4dC1iaXRtYXAgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBtYXRoID0gcmVxdWlyZSgnQHBpeGkvbWF0aCcpO1xudmFyIHNldHRpbmdzID0gcmVxdWlyZSgnQHBpeGkvc2V0dGluZ3MnKTtcbnZhciBtZXNoID0gcmVxdWlyZSgnQHBpeGkvbWVzaCcpO1xudmFyIHV0aWxzID0gcmVxdWlyZSgnQHBpeGkvdXRpbHMnKTtcbnZhciBjb3JlID0gcmVxdWlyZSgnQHBpeGkvY29yZScpO1xudmFyIHRleHQgPSByZXF1aXJlKCdAcGl4aS90ZXh0Jyk7XG52YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnQHBpeGkvY29uc3RhbnRzJyk7XG52YXIgZGlzcGxheSA9IHJlcXVpcmUoJ0BwaXhpL2Rpc3BsYXknKTtcbnZhciBsb2FkZXJzID0gcmVxdWlyZSgnQHBpeGkvbG9hZGVycycpO1xuXG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgeyBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgeyBkW3BdID0gYltwXTsgfSB9IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cblxuLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuLyoqXG4gKiBOb3JtYWxpemVkIHBhcnNlZCBkYXRhIGZyb20gLmZudCBmaWxlcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250RGF0YSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250RGF0YSgpIHtcbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIHRoaXMucGFnZSA9IFtdO1xuICAgICAgICB0aGlzLmNoYXIgPSBbXTtcbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZCA9IFtdO1xuICAgIH1cbiAgICByZXR1cm4gQml0bWFwRm9udERhdGE7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcmV0dXJucyAtIFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB0eHQgLSBSYXcgc3RyaW5nIGRhdGEgdG8gYmUgY29udmVydGVkXG4gICAgICogQHJldHVybnMgLSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgICAgIGRpc3RhbmNlRmllbGQ6IFtdLFxuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBpIGluIGl0ZW1zKSB7XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gbmFtZVxuICAgICAgICAgICAgdmFyIG5hbWUgPSBpdGVtc1tpXS5tYXRjaCgvXlthLXpdKy9nbSlbMF07XG4gICAgICAgICAgICAvLyBFeHRyYWN0IGl0ZW0gYXR0cmlidXRlIGxpc3QgYXMgc3RyaW5nIGV4LjogXCJ3aWR0aD0xMFwiXG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTGlzdCA9IGl0ZW1zW2ldLm1hdGNoKC9bYS16QS1aXSs9KFteXFxzXCInXSt8XCIoW15cIl0qKVwiKS9nbSk7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGF0dHJpYnV0ZSBsaXN0IGludG8gYW4gb2JqZWN0XG4gICAgICAgICAgICB2YXIgaXRlbURhdGEgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGlfMSBpbiBhdHRyaWJ1dGVMaXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gU3BsaXQga2V5LXZhbHVlIHBhaXJzXG4gICAgICAgICAgICAgICAgdmFyIHNwbGl0ID0gYXR0cmlidXRlTGlzdFtpXzFdLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHNwbGl0WzBdO1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBldmVudHVhbCBxdW90ZXMgZnJvbSB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciBzdHJWYWx1ZSA9IHNwbGl0WzFdLnJlcGxhY2UoL1wiL2dtLCAnJyk7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IHRvIGNvbnZlcnQgdmFsdWUgaW50byBmbG9hdFxuICAgICAgICAgICAgICAgIHZhciBmbG9hdFZhbHVlID0gcGFyc2VGbG9hdChzdHJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHN0cmluZyB2YWx1ZSBjYXNlIGZsb2F0IHZhbHVlIGlzIE5hTlxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlzTmFOKGZsb2F0VmFsdWUpID8gc3RyVmFsdWUgOiBmbG9hdFZhbHVlO1xuICAgICAgICAgICAgICAgIGl0ZW1EYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1c2ggY3VycmVudCBpdGVtIHRvIHRoZSByZXN1bHRpbmcgZGF0YVxuICAgICAgICAgICAgcmF3RGF0YVtuYW1lXS5wdXNoKGl0ZW1EYXRhKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250RGF0YSgpO1xuICAgICAgICByYXdEYXRhLmluZm8uZm9yRWFjaChmdW5jdGlvbiAoaW5mbykgeyByZXR1cm4gZm9udC5pbmZvLnB1c2goe1xuICAgICAgICAgICAgZmFjZTogaW5mby5mYWNlLFxuICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mby5zaXplLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jb21tb24uZm9yRWFjaChmdW5jdGlvbiAoY29tbW9uKSB7IHJldHVybiBmb250LmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbi5saW5lSGVpZ2h0LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5wYWdlLmZvckVhY2goZnVuY3Rpb24gKHBhZ2UpIHsgcmV0dXJuIGZvbnQucGFnZS5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlLmlkLCAxMCksXG4gICAgICAgICAgICBmaWxlOiBwYWdlLmZpbGUsXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5jaGFyLmZvckVhY2goZnVuY3Rpb24gKGNoYXIpIHsgcmV0dXJuIGZvbnQuY2hhci5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBwYXJzZUludChjaGFyLmlkLCAxMCksXG4gICAgICAgICAgICBwYWdlOiBwYXJzZUludChjaGFyLnBhZ2UsIDEwKSxcbiAgICAgICAgICAgIHg6IHBhcnNlSW50KGNoYXIueCwgMTApLFxuICAgICAgICAgICAgeTogcGFyc2VJbnQoY2hhci55LCAxMCksXG4gICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQoY2hhci53aWR0aCwgMTApLFxuICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChjaGFyLmhlaWdodCwgMTApLFxuICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQoY2hhci54b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB5b2Zmc2V0OiBwYXJzZUludChjaGFyLnlvZmZzZXQsIDEwKSxcbiAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChjaGFyLnhhZHZhbmNlLCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5rZXJuaW5nLmZvckVhY2goZnVuY3Rpb24gKGtlcm5pbmcpIHsgcmV0dXJuIGZvbnQua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nLmZpcnN0LCAxMCksXG4gICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmcuc2Vjb25kLCAxMCksXG4gICAgICAgICAgICBhbW91bnQ6IHBhcnNlSW50KGtlcm5pbmcuYW1vdW50LCAxMCksXG4gICAgICAgIH0pOyB9KTtcbiAgICAgICAgcmF3RGF0YS5kaXN0YW5jZUZpZWxkLmZvckVhY2goZnVuY3Rpb24gKGRmKSB7IHJldHVybiBmb250LmRpc3RhbmNlRmllbGQucHVzaCh7XG4gICAgICAgICAgICBkaXN0YW5jZVJhbmdlOiBwYXJzZUludChkZi5kaXN0YW5jZVJhbmdlLCAxMCksXG4gICAgICAgICAgICBmaWVsZFR5cGU6IGRmLmZpZWxkVHlwZSxcbiAgICAgICAgfSk7IH0pO1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIHJldHVybiBUZXh0Rm9ybWF0O1xufSgpKTtcblxuLyoqXG4gKiBCaXRtYXBGb250IGZvcm1hdCB0aGF0J3MgWE1MLWJhc2VkLlxuICogQHByaXZhdGVcbiAqL1xudmFyIFhNTEZvcm1hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBYTUxGb3JtYXQoKSB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHJlc291cmNlIHJlZmVycyB0byB4bWwgZm9udCBkYXRhLlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHJldHVybnMgLSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gZGF0YSBpbnN0YW5jZW9mIFhNTERvY3VtZW50XG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJykubGVuZ3RoXG4gICAgICAgICAgICAmJiBkYXRhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJylbMF0uZ2V0QXR0cmlidXRlKCdmYWNlJykgIT09IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSBYTUwgaW50byBCaXRtYXBGb250RGF0YSB0aGF0IHdlIGNhbiB1c2UuXG4gICAgICogQHBhcmFtIHhtbFxuICAgICAqIEByZXR1cm5zIC0gRGF0YSB0byB1c2UgZm9yIEJpdG1hcEZvbnRcbiAgICAgKi9cbiAgICBYTUxGb3JtYXQucGFyc2UgPSBmdW5jdGlvbiAoeG1sKSB7XG4gICAgICAgIHZhciBkYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIHZhciBpbmZvID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdpbmZvJyk7XG4gICAgICAgIHZhciBjb21tb24gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2NvbW1vbicpO1xuICAgICAgICB2YXIgcGFnZSA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncGFnZScpO1xuICAgICAgICB2YXIgY2hhciA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY2hhcicpO1xuICAgICAgICB2YXIga2VybmluZyA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgna2VybmluZycpO1xuICAgICAgICB2YXIgZGlzdGFuY2VGaWVsZCA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZGlzdGFuY2VGaWVsZCcpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuaW5mby5wdXNoKHtcbiAgICAgICAgICAgICAgICBmYWNlOiBpbmZvW2ldLmdldEF0dHJpYnV0ZSgnZmFjZScpLFxuICAgICAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm9baV0uZ2V0QXR0cmlidXRlKCdzaXplJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLmNvbW1vbi5wdXNoKHtcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb25baV0uZ2V0QXR0cmlidXRlKCdsaW5lSGVpZ2h0JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBwYXJzZUludChwYWdlW2ldLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgZmlsZTogcGFnZVtpXS5nZXRBdHRyaWJ1dGUoJ2ZpbGUnKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGxldHRlciA9IGNoYXJbaV07XG4gICAgICAgICAgICBkYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2lkJyksIDEwKSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdwYWdlJyksIDEwKSB8fCAwLFxuICAgICAgICAgICAgICAgIHg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3gnKSwgMTApLFxuICAgICAgICAgICAgICAgIHk6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3knKSwgMTApLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLCAxMCksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3lvZmZzZXQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBwYXJzZUludChsZXR0ZXIuZ2V0QXR0cmlidXRlKCd4YWR2YW5jZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEua2VybmluZy5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2ZpcnN0JyksIDEwKSxcbiAgICAgICAgICAgICAgICBzZWNvbmQ6IHBhcnNlSW50KGtlcm5pbmdbaV0uZ2V0QXR0cmlidXRlKCdzZWNvbmQnKSwgMTApLFxuICAgICAgICAgICAgICAgIGFtb3VudDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ2Ftb3VudCcpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRpc3RhbmNlRmllbGQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuZGlzdGFuY2VGaWVsZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBmaWVsZFR5cGU6IGRpc3RhbmNlRmllbGRbaV0uZ2V0QXR0cmlidXRlKCdmaWVsZFR5cGUnKSxcbiAgICAgICAgICAgICAgICBkaXN0YW5jZVJhbmdlOiBwYXJzZUludChkaXN0YW5jZUZpZWxkW2ldLmdldEF0dHJpYnV0ZSgnZGlzdGFuY2VSYW5nZScpLCAxMCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MU3RyaW5nRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTFN0cmluZ0Zvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHRleHQgeG1sIGZvbnQgZGF0YS5cbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEByZXR1cm5zIC0gVHJ1ZSBpZiByZXNvdXJjZSBjb3VsZCBiZSB0cmVhdGVkIGFzIGZvbnQgZGF0YSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC50ZXN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyAmJiBkYXRhLmluZGV4T2YoJzxmb250PicpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciB4bWwgPSBuZXcgZ2xvYmFsVGhpcy5ET01QYXJzZXIoKS5wYXJzZUZyb21TdHJpbmcoZGF0YSwgJ3RleHQveG1sJyk7XG4gICAgICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnRlc3QoeG1sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb252ZXJ0IHRoZSB0ZXh0IFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKiBAcGFyYW0geG1sVHh0XG4gICAgICogQHJldHVybnMgLSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyBnbG9iYWxUaGlzLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyh4bWxUeHQsICd0ZXh0L3htbCcpO1xuICAgICAgICByZXR1cm4gWE1MRm9ybWF0LnBhcnNlKHhtbCk7XG4gICAgfTtcbiAgICByZXR1cm4gWE1MU3RyaW5nRm9ybWF0O1xufSgpKTtcblxuLy8gUmVnaXN0ZXJlZCBmb3JtYXRzLCBtYXliZSBtYWtlIHRoaXMgZXh0ZW5zaWJsZSBpbiB0aGUgZnV0dXJlP1xudmFyIGZvcm1hdHMgPSBbXG4gICAgVGV4dEZvcm1hdCxcbiAgICBYTUxGb3JtYXQsXG4gICAgWE1MU3RyaW5nRm9ybWF0IF07XG4vKipcbiAqIEF1dG8tZGV0ZWN0IEJpdG1hcEZvbnQgcGFyc2luZyBmb3JtYXQgYmFzZWQgb24gZGF0YS5cbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2FueX0gZGF0YSAtIERhdGEgdG8gZGV0ZWN0IGZvcm1hdFxuICogQHJldHVybnMge2FueX0gRm9ybWF0IG9yIG51bGxcbiAqL1xuZnVuY3Rpb24gYXV0b0RldGVjdEZvcm1hdChkYXRhKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmb3JtYXRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChmb3JtYXRzW2ldLnRlc3QoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGdlbmVyYXRlRmlsbFN0eWxlICYgVGV4dCNnZW5lcmF0ZUZpbGxTdHlsZVxuLyoqXG4gKiBHZW5lcmF0ZXMgdGhlIGZpbGwgc3R5bGUuIENhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlIGEgZ3JhZGllbnQgYmFzZWQgb24gdGhlIGZpbGwgc3R5bGUgYmVpbmcgYW4gYXJyYXlcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0gY2FudmFzXG4gKiBAcGFyYW0gY29udGV4dFxuICogQHBhcmFtIHtvYmplY3R9IHN0eWxlIC0gVGhlIHN0eWxlLlxuICogQHBhcmFtIHJlc29sdXRpb25cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcGFyYW0gbWV0cmljc1xuICogQHJldHVybnMge3N0cmluZ3xudW1iZXJ8Q2FudmFzR3JhZGllbnR9IFRoZSBmaWxsIHN0eWxlXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIGxpbmVzLCBtZXRyaWNzKSB7XG4gICAgLy8gVE9ETzogQ2FuJ3QgaGF2ZSBkaWZmZXJlbnQgdHlwZXMgZm9yIGdldHRlciBhbmQgc2V0dGVyLiBUaGUgZ2V0dGVyIHNob3VsZG4ndCBoYXZlIHRoZSBudW1iZXIgdHlwZSBhc1xuICAgIC8vICAgICAgIHRoZSBzZXR0ZXIgY29udmVydHMgdG8gc3RyaW5nLiBTZWUgdGhpcyB0aHJlYWQgZm9yIG1vcmUgZGV0YWlsczpcbiAgICAvLyAgICAgICBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI1MjFcbiAgICB2YXIgZmlsbFN0eWxlID0gc3R5bGUuZmlsbDtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZmlsbFN0eWxlKSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlO1xuICAgIH1cbiAgICBlbHNlIGlmIChmaWxsU3R5bGUubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBmaWxsU3R5bGVbMF07XG4gICAgfVxuICAgIC8vIHRoZSBncmFkaWVudCB3aWxsIGJlIGV2ZW5seSBzcGFjZWQgb3V0IGFjY29yZGluZyB0byBob3cgbGFyZ2UgdGhlIGFycmF5IGlzLlxuICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSB3b3VsZCBjcmVhdGVkIHN0b3BzIGF0IDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIHZhciBncmFkaWVudDtcbiAgICAvLyBhIGRyb3BzaGFkb3cgd2lsbCBlbmxhcmdlIHRoZSBjYW52YXMgYW5kIHJlc3VsdCBpbiB0aGUgZ3JhZGllbnQgYmVpbmdcbiAgICAvLyBnZW5lcmF0ZWQgd2l0aCB0aGUgaW5jb3JyZWN0IGRpbWVuc2lvbnNcbiAgICB2YXIgZHJvcFNoYWRvd0NvcnJlY3Rpb24gPSAoc3R5bGUuZHJvcFNoYWRvdykgPyBzdHlsZS5kcm9wU2hhZG93RGlzdGFuY2UgOiAwO1xuICAgIC8vIHNob3VsZCBhbHNvIHRha2UgcGFkZGluZyBpbnRvIGFjY291bnQsIHBhZGRpbmcgY2FuIG9mZnNldCB0aGUgZ3JhZGllbnRcbiAgICB2YXIgcGFkZGluZyA9IHN0eWxlLnBhZGRpbmcgfHwgMDtcbiAgICB2YXIgd2lkdGggPSAoY2FudmFzLndpZHRoIC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgdmFyIGhlaWdodCA9IChjYW52YXMuaGVpZ2h0IC8gcmVzb2x1dGlvbikgLSBkcm9wU2hhZG93Q29ycmVjdGlvbiAtIChwYWRkaW5nICogMik7XG4gICAgLy8gbWFrZSBhIGNvcHkgb2YgdGhlIHN0eWxlIHNldHRpbmdzLCBzbyB3ZSBjYW4gbWFuaXB1bGF0ZSB0aGVtIGxhdGVyXG4gICAgdmFyIGZpbGwgPSBmaWxsU3R5bGUuc2xpY2UoKTtcbiAgICB2YXIgZmlsbEdyYWRpZW50U3RvcHMgPSBzdHlsZS5maWxsR3JhZGllbnRTdG9wcy5zbGljZSgpO1xuICAgIC8vIHdhbnRpbmcgdG8gZXZlbmx5IGRpc3RyaWJ1dGUgdGhlIGZpbGxzLiBTbyBhbiBhcnJheSBvZiA0IGNvbG91cnMgc2hvdWxkIGdpdmUgZmlsbHMgb2YgMC4yNSwgMC41IGFuZCAwLjc1XG4gICAgaWYgKCFmaWxsR3JhZGllbnRTdG9wcy5sZW5ndGgpIHtcbiAgICAgICAgdmFyIGxlbmd0aFBsdXMxID0gZmlsbC5sZW5ndGggKyAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGxlbmd0aFBsdXMxOyArK2kpIHtcbiAgICAgICAgICAgIGZpbGxHcmFkaWVudFN0b3BzLnB1c2goaSAvIGxlbmd0aFBsdXMxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzdG9wIHRoZSBibGVlZGluZyBvZiB0aGUgbGFzdCBncmFkaWVudCBvbiB0aGUgbGluZSBhYm92ZSB0byB0aGUgdG9wIGdyYWRpZW50IG9mIHRoZSB0aGlzIGxpbmVcbiAgICAvLyBieSBoYXJkIGRlZmluaW5nIHRoZSBmaXJzdCBncmFkaWVudCBjb2xvdXIgYXQgcG9pbnQgMCwgYW5kIGxhc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDFcbiAgICBmaWxsLnVuc2hpZnQoZmlsbFN0eWxlWzBdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy51bnNoaWZ0KDApO1xuICAgIGZpbGwucHVzaChmaWxsU3R5bGVbZmlsbFN0eWxlLmxlbmd0aCAtIDFdKTtcbiAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKDEpO1xuICAgIGlmIChzdHlsZS5maWxsR3JhZGllbnRUeXBlID09PSB0ZXh0LlRFWFRfR1JBRElFTlQuTElORUFSX1ZFUlRJQ0FMKSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgdG9wIGNlbnRlciBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBib3R0b20gbWlkZGxlIG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHdpZHRoIC8gMiwgcGFkZGluZywgd2lkdGggLyAyLCBoZWlnaHQgKyBwYWRkaW5nKTtcbiAgICAgICAgLy8gd2UgbmVlZCB0byByZXBlYXQgdGhlIGdyYWRpZW50IHNvIHRoYXQgZWFjaCBpbmRpdmlkdWFsIGxpbmUgb2YgdGV4dCBoYXMgdGhlIHNhbWUgdmVydGljYWwgZ3JhZGllbnQgZWZmZWN0XG4gICAgICAgIC8vIFsnI0ZGMDAwMCcsICcjMDBGRjAwJywgJyMwMDAwRkYnXSBvdmVyIDIgbGluZXMgd291bGQgY3JlYXRlIHN0b3BzIGF0IDAuMTI1LCAwLjI1LCAwLjM3NSwgMC42MjUsIDAuNzUsIDAuODc1XG4gICAgICAgIC8vIFRoZXJlJ3MgcG90ZW50aWFsIGZvciBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gaXNzdWVzIGF0IHRoZSBzZWFtcyBiZXR3ZWVuIGdyYWRpZW50IHJlcGVhdHMuXG4gICAgICAgIC8vIFRoZSBsb29wIGJlbG93IGdlbmVyYXRlcyB0aGUgc3RvcHMgaW4gb3JkZXIsIHNvIHRyYWNrIHRoZSBsYXN0IGdlbmVyYXRlZCBvbmUgdG8gcHJldmVudFxuICAgICAgICAvLyBmbG9hdGluZyBwb2ludCBwcmVjaXNpb24gZnJvbSBtYWtpbmcgdXMgZ28gdGhlIHRlZW5pZXN0IGJpdCBiYWNrd2FyZHMsIHJlc3VsdGluZyBpblxuICAgICAgICAvLyB0aGUgZmlyc3QgYW5kIGxhc3QgY29sb3JzIGdldHRpbmcgc3dhcHBlZC5cbiAgICAgICAgdmFyIGxhc3RJdGVyYXRpb25TdG9wID0gMDtcbiAgICAgICAgLy8gQWN0dWFsIGhlaWdodCBvZiB0aGUgdGV4dCBpdHNlbGYsIG5vdCBjb3VudGluZyBzcGFjaW5nIGZvciBsaW5lSGVpZ2h0L2xlYWRpbmcvZHJvcFNoYWRvdyBldGNcbiAgICAgICAgdmFyIHRleHRIZWlnaHQgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmZvbnRTaXplICsgc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgICAgICAvLyB0ZXh0SGVpZ2h0LCBidXQgYXMgYSAwLTEgc2l6ZSBpbiBnbG9iYWwgZ3JhZGllbnQgc3RvcCBzcGFjZVxuICAgICAgICB2YXIgZ3JhZFN0b3BMaW5lSGVpZ2h0ID0gdGV4dEhlaWdodCAvIGhlaWdodDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRoaXNMaW5lVG9wID0gbWV0cmljcy5saW5lSGVpZ2h0ICogaTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsbC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIDAtMSBzdG9wIHBvaW50IGZvciB0aGUgY3VycmVudCBsaW5lLCBtdWx0aXBsaWVkIHRvIGdsb2JhbCBzcGFjZSBhZnRlcndhcmRzXG4gICAgICAgICAgICAgICAgdmFyIGxpbmVTdG9wID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbGxHcmFkaWVudFN0b3BzW2pdID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2pdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluZVN0b3AgPSBqIC8gZmlsbC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBnbG9iYWxTdG9wID0gKHRoaXNMaW5lVG9wIC8gaGVpZ2h0KSArIChsaW5lU3RvcCAqIGdyYWRTdG9wTGluZUhlaWdodCk7XG4gICAgICAgICAgICAgICAgLy8gUHJldmVudCBjb2xvciBzdG9wIGdlbmVyYXRpb24gZ29pbmcgYmFja3dhcmRzIGZyb20gZmxvYXRpbmcgcG9pbnQgaW1wcmVjaXNpb25cbiAgICAgICAgICAgICAgICB2YXIgY2xhbXBlZFN0b3AgPSBNYXRoLm1heChsYXN0SXRlcmF0aW9uU3RvcCwgZ2xvYmFsU3RvcCk7XG4gICAgICAgICAgICAgICAgY2xhbXBlZFN0b3AgPSBNYXRoLm1pbihjbGFtcGVkU3RvcCwgMSk7IC8vIENhcCBhdCAxIGFzIHdlbGwgZm9yIHNhZmV0eSdzIHNha2UgdG8gYXZvaWQgYSBwb3NzaWJsZSB0aHJvdy5cbiAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoY2xhbXBlZFN0b3AsIGZpbGxbal0pO1xuICAgICAgICAgICAgICAgIGxhc3RJdGVyYXRpb25TdG9wID0gY2xhbXBlZFN0b3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHN0YXJ0IHRoZSBncmFkaWVudCBhdCB0aGUgY2VudGVyIGxlZnQgb2YgdGhlIGNhbnZhcywgYW5kIGVuZCBhdCB0aGUgY2VudGVyIHJpZ2h0IG9mIHRoZSBjYW52YXNcbiAgICAgICAgZ3JhZGllbnQgPSBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KHBhZGRpbmcsIGhlaWdodCAvIDIsIHdpZHRoICsgcGFkZGluZywgaGVpZ2h0IC8gMik7XG4gICAgICAgIC8vIGNhbiBqdXN0IGV2ZW5seSBzcGFjZSBvdXQgdGhlIGdyYWRpZW50cyBpbiB0aGlzIGNhc2UsIGFzIG11bHRpcGxlIGxpbmVzIG1ha2VzIG5vIGRpZmZlcmVuY2VcbiAgICAgICAgLy8gdG8gYW4gZXZlbiBsZWZ0IHRvIHJpZ2h0IGdyYWRpZW50XG4gICAgICAgIHZhciB0b3RhbEl0ZXJhdGlvbnMgPSBmaWxsLmxlbmd0aCArIDE7XG4gICAgICAgIHZhciBjdXJyZW50SXRlcmF0aW9uID0gMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RvcCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbaV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGZpbGxHcmFkaWVudFN0b3BzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RvcCA9IGN1cnJlbnRJdGVyYXRpb24gLyB0b3RhbEl0ZXJhdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3Aoc3RvcCwgZmlsbFtpXSk7XG4gICAgICAgICAgICBjdXJyZW50SXRlcmF0aW9uKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGdyYWRpZW50O1xufVxuXG4vLyBUT0RPOiBQcmV2ZW50IGNvZGUgZHVwbGljYXRpb24gYi93IGRyYXdHbHlwaCAmIFRleHQjdXBkYXRlVGV4dFxuLyoqXG4gKiBEcmF3cyB0aGUgZ2x5cGggYG1ldHJpY3MudGV4dGAgb24gdGhlIGdpdmVuIGNhbnZhcy5cbiAqXG4gKiBJZ25vcmVkIGJlY2F1c2Ugbm90IGRpcmVjdGx5IGV4cG9zZWQuXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0XG4gKiBAcGFyYW0ge1RleHRNZXRyaWNzfSBtZXRyaWNzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcGFyYW0ge1RleHRTdHlsZX0gc3R5bGVcbiAqL1xuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICB2YXIgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgdmFyIHR4ID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICB2YXIgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB2YXIgcmdiID0gdXRpbHMuaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHV0aWxzLnN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgICAgIHZhciBkcm9wU2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gZGVmYXVsdHMgbmVlZGVkIGZvciBvbGRlciBicm93c2VycyAoZS5nLiBPcGVyYSAyOSlcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQb255ZmlsbCBmb3IgSUUgYmVjYXVzZSBpdCBkb2Vzbid0IHN1cHBvcnQgYEFycmF5LmZyb21gXG4gKiBAcGFyYW0gdGV4dFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc3BsaXRUZXh0VG9DaGFyYWN0ZXJzKHRleHQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSA/IEFycmF5LmZyb20odGV4dCkgOiB0ZXh0LnNwbGl0KCcnKTtcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB7c3RyaW5nIHwgc3RyaW5nW10gfCBzdHJpbmdbXVtdIH0gY2hhcnNcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0gdGhlIGZsYXR0ZW5lZCBhcnJheSBvZiBjaGFyYWN0ZXJzXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBzcGxpdFRleHRUb0NoYXJhY3RlcnMoaXRlbSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBFbXB0eSBzZXQgd2hlbiByZXNvbHZpbmcgY2hhcmFjdGVycy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBQb255ZmlsbCBmb3IgSUUgYmVjYXVzZSBpdCBkb2Vzbid0IHN1cHBvcnQgYGNvZGVQb2ludEF0YFxuICogQHBhcmFtIHN0clxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXh0cmFjdENoYXJDb2RlKHN0cikge1xuICAgIHJldHVybiBzdHIuY29kZVBvaW50QXQgPyBzdHIuY29kZVBvaW50QXQoMCkgOiBzdHIuY2hhckNvZGVBdCgwKTtcbn1cblxuLyoqXG4gKiBCaXRtYXBGb250IHJlcHJlc2VudHMgYSB0eXBlZmFjZSBhdmFpbGFibGUgZm9yIHVzZSB3aXRoIHRoZSBCaXRtYXBUZXh0IGNsYXNzLiBVc2UgdGhlIGBpbnN0YWxsYFxuICogbWV0aG9kIGZvciBhZGRpbmcgYSBmb250IHRvIGJlIHVzZWQuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwRm9udCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqIEBwYXJhbSB0ZXh0dXJlc1xuICAgICAqIEBwYXJhbSBvd25zVGV4dHVyZXMgLSBTZXR0aW5nIHRvIGB0cnVlYCB3aWxsIGRlc3Ryb3kgcGFnZSB0ZXh0dXJlc1xuICAgICAqICAgICAgICB3aGVuIHRoZSBmb250IGlzIHVuaW5zdGFsbGVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnQoZGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICB2YXIgaW5mbyA9IGRhdGEuaW5mb1swXTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IGRhdGEuY29tbW9uWzBdO1xuICAgICAgICB2YXIgcGFnZSA9IGRhdGEucGFnZVswXTtcbiAgICAgICAgdmFyIGRpc3RhbmNlRmllbGQgPSBkYXRhLmRpc3RhbmNlRmllbGRbMF07XG4gICAgICAgIHZhciByZXMgPSB1dGlscy5nZXRSZXNvbHV0aW9uT2ZVcmwocGFnZS5maWxlKTtcbiAgICAgICAgdmFyIHBhZ2VUZXh0dXJlcyA9IHt9O1xuICAgICAgICB0aGlzLl9vd25zVGV4dHVyZXMgPSBvd25zVGV4dHVyZXM7XG4gICAgICAgIHRoaXMuZm9udCA9IGluZm8uZmFjZTtcbiAgICAgICAgdGhpcy5zaXplID0gaW5mby5zaXplO1xuICAgICAgICB0aGlzLmxpbmVIZWlnaHQgPSBjb21tb24ubGluZUhlaWdodCAvIHJlcztcbiAgICAgICAgdGhpcy5jaGFycyA9IHt9O1xuICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlcyA9IHBhZ2VUZXh0dXJlcztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9jID0gZGF0YS5wYWdlW2ldLCBpZCA9IF9jLmlkLCBmaWxlID0gX2MuZmlsZTtcbiAgICAgICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICAgICAgLy8gb25seSBNU0RGIGFuZCBTREYgZm9udHMgbmVlZCBuby1wcmVtdWx0aXBsaWVkLWFscGhhXG4gICAgICAgICAgICBpZiAoKGRpc3RhbmNlRmllbGQgPT09IG51bGwgfHwgZGlzdGFuY2VGaWVsZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGlzdGFuY2VGaWVsZC5maWVsZFR5cGUpICYmIGRpc3RhbmNlRmllbGQuZmllbGRUeXBlICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICBwYWdlVGV4dHVyZXNbaWRdLmJhc2VUZXh0dXJlLmFscGhhTW9kZSA9IGNvbnN0YW50cy5BTFBIQV9NT0RFUy5OT19QUkVNVUxUSVBMSUVEX0FMUEhBO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfZCA9IGRhdGEuY2hhcltpXSwgaWQgPSBfZC5pZCwgcGFnZV8xID0gX2QucGFnZTtcbiAgICAgICAgICAgIHZhciBfZSA9IGRhdGEuY2hhcltpXSwgeCA9IF9lLngsIHkgPSBfZS55LCB3aWR0aCA9IF9lLndpZHRoLCBoZWlnaHQgPSBfZS5oZWlnaHQsIHhvZmZzZXQgPSBfZS54b2Zmc2V0LCB5b2Zmc2V0ID0gX2UueW9mZnNldCwgeGFkdmFuY2UgPSBfZS54YWR2YW5jZTtcbiAgICAgICAgICAgIHggLz0gcmVzO1xuICAgICAgICAgICAgeSAvPSByZXM7XG4gICAgICAgICAgICB3aWR0aCAvPSByZXM7XG4gICAgICAgICAgICBoZWlnaHQgLz0gcmVzO1xuICAgICAgICAgICAgeG9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB5b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHhhZHZhbmNlIC89IHJlcztcbiAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IG1hdGguUmVjdGFuZ2xlKHggKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueCAvIHJlcyksIHkgKyAocGFnZVRleHR1cmVzW3BhZ2VfMV0uZnJhbWUueSAvIHJlcyksIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpZF0gPSB7XG4gICAgICAgICAgICAgICAgeE9mZnNldDogeG9mZnNldCxcbiAgICAgICAgICAgICAgICB5T2Zmc2V0OiB5b2Zmc2V0LFxuICAgICAgICAgICAgICAgIHhBZHZhbmNlOiB4YWR2YW5jZSxcbiAgICAgICAgICAgICAgICBrZXJuaW5nOiB7fSxcbiAgICAgICAgICAgICAgICB0ZXh0dXJlOiBuZXcgY29yZS5UZXh0dXJlKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmJhc2VUZXh0dXJlLCByZWN0KSxcbiAgICAgICAgICAgICAgICBwYWdlOiBwYWdlXzEsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGtlcm5pbmdzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5rZXJuaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2YgPSBkYXRhLmtlcm5pbmdbaV0sIGZpcnN0ID0gX2YuZmlyc3QsIHNlY29uZCA9IF9mLnNlY29uZCwgYW1vdW50ID0gX2YuYW1vdW50O1xuICAgICAgICAgICAgZmlyc3QgLz0gcmVzO1xuICAgICAgICAgICAgc2Vjb25kIC89IHJlcztcbiAgICAgICAgICAgIGFtb3VudCAvPSByZXM7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGFyc1tzZWNvbmRdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tzZWNvbmRdLmtlcm5pbmdbZmlyc3RdID0gYW1vdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFN0b3JlIGRpc3RhbmNlIGZpZWxkIGluZm9ybWF0aW9uXG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZFJhbmdlID0gZGlzdGFuY2VGaWVsZCA9PT0gbnVsbCB8fCBkaXN0YW5jZUZpZWxkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXN0YW5jZUZpZWxkLmRpc3RhbmNlUmFuZ2U7XG4gICAgICAgIHRoaXMuZGlzdGFuY2VGaWVsZFR5cGUgPSAoX2IgPSAoX2EgPSBkaXN0YW5jZUZpZWxkID09PSBudWxsIHx8IGRpc3RhbmNlRmllbGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc3RhbmNlRmllbGQuZmllbGRUeXBlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UoKSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ25vbmUnO1xuICAgIH1cbiAgICAvKiogUmVtb3ZlIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBnbHlwaCB0ZXh0dXJlcy4gKi9cbiAgICBCaXRtYXBGb250LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMucGFnZVRleHR1cmVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3duc1RleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICogQHBhcmFtIGRhdGEgLSBUaGVcbiAgICAgKiAgICAgICAgY2hhcmFjdGVycyBtYXAgdGhhdCBjb3VsZCBiZSBwcm92aWRlZCBhcyB4bWwgb3IgcmF3IHN0cmluZy5cbiAgICAgKiBAcGFyYW0gdGV4dHVyZXMgLSBMaXN0IG9mIHRleHR1cmVzIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHBhcmFtIG93bnNUZXh0dXJlcyAtIFNldCB0byBgdHJ1ZWAgdG8gZGVzdHJveSBwYWdlIHRleHR1cmVzXG4gICAgICogICAgICAgIHdoZW4gdGhlIGZvbnQgaXMgdW5pbnN0YWxsZWQuIEJ5IGRlZmF1bHQgZm9udHMgY3JlYXRlZCB3aXRoXG4gICAgICogICAgICAgIGBCaXRtYXBGb250LmZyb21gIG9yIGZyb20gdGhlIGBCaXRtYXBGb250TG9hZGVyYCBhcmUgYHRydWVgLlxuICAgICAqIEByZXR1cm5zIHtQSVhJLkJpdG1hcEZvbnR9IFJlc3VsdCBmb250IG9iamVjdCB3aXRoIGZvbnQsIHNpemUsIGxpbmVIZWlnaHRcbiAgICAgKiAgICAgICAgIGFuZCBjaGFyIGZpZWxkcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lmluc3RhbGwgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcykge1xuICAgICAgICB2YXIgZm9udERhdGE7XG4gICAgICAgIGlmIChkYXRhIGluc3RhbmNlb2YgQml0bWFwRm9udERhdGEpIHtcbiAgICAgICAgICAgIGZvbnREYXRhID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSBhdXRvRGV0ZWN0Rm9ybWF0KGRhdGEpO1xuICAgICAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBkYXRhIGZvcm1hdCBmb3IgZm9udC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvbnREYXRhID0gZm9ybWF0LnBhcnNlKGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNpbmdsZSB0ZXh0dXJlLCBjb252ZXJ0IHRvIGxpc3RcbiAgICAgICAgaWYgKHRleHR1cmVzIGluc3RhbmNlb2YgY29yZS5UZXh0dXJlKSB7XG4gICAgICAgICAgICB0ZXh0dXJlcyA9IFt0ZXh0dXJlc107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMsIG93bnNUZXh0dXJlcyk7XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnQuZm9udF0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBiaXRtYXAgZm9udCBieSBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIC0gTmFtZSBvZiB0aGUgZm9udCB0byB1bmluc3RhbGwuXG4gICAgICovXG4gICAgQml0bWFwRm9udC51bmluc3RhbGwgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgZm9udCA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZvbnQgZm91bmQgbmFtZWQgJ1wiICsgbmFtZSArIFwiJ1wiKTtcbiAgICAgICAgfVxuICAgICAgICBmb250LmRlc3Ryb3koKTtcbiAgICAgICAgZGVsZXRlIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgYml0bWFwLWZvbnQgZm9yIHRoZSBnaXZlbiBzdHlsZSBhbmQgY2hhcmFjdGVyIHNldC4gVGhpcyBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICoga2VybmluZ3MgeWV0LiBXaXRoIGBzdHlsZWAgcHJvcGVydGllcywgb25seSB0aGUgZm9sbG93aW5nIG5vbi1sYXlvdXQgcHJvcGVydGllcyBhcmUgdXNlZDpcbiAgICAgKlxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3d8ZHJvcFNoYWRvd31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93RGlzdGFuY2V8ZHJvcFNoYWRvd0Rpc3RhbmNlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dDb2xvcnxkcm9wU2hhZG93Q29sb3J9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0JsdXJ8ZHJvcFNoYWRvd0JsdXJ9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0FuZ2xlfGRyb3BTaGFkb3dBbmdsZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsfGZpbGx9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50U3RvcHN8ZmlsbEdyYWRpZW50U3RvcHN9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZmlsbEdyYWRpZW50VHlwZXxmaWxsR3JhZGllbnRUeXBlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRGYW1pbHl8Zm9udEZhbWlseX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250U2l6ZXxmb250U2l6ZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250VmFyaWFudHxmb250VmFyaWFudH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmb250V2VpZ2h0fGZvbnRXZWlnaHR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbGluZUpvaW58bGluZUpvaW59XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjbWl0ZXJMaW1pdHxtaXRlckxpbWl0fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3N0cm9rZXxzdHJva2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlVGhpY2tuZXNzfHN0cm9rZVRoaWNrbmVzc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSN0ZXh0QmFzZWxpbmV8dGV4dEJhc2VsaW5lfVxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGN1c3RvbSBmb250IHRvIHVzZSB3aXRoIEJpdG1hcFRleHQuXG4gICAgICogQHBhcmFtIHRleHRTdHlsZSAtIFN0eWxlIG9wdGlvbnMgdG8gcmVuZGVyIHdpdGggQml0bWFwRm9udC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIFNldHVwIG9wdGlvbnMgZm9yIGZvbnQgb3IgbmFtZSBvZiB0aGUgZm9udC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBbb3B0aW9ucy5jaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIGNoYXJhY3RlcnMgaW5jbHVkZWRcbiAgICAgKiAgICAgIGluIHRoZSBmb250IHNldC4gWW91IGNhbiBhbHNvIHVzZSByYW5nZXMuIEZvciBleGFtcGxlLCBgW1snYScsICd6J10sIFsnQScsICdaJ10sIFwiIUAjJCVeJiooKX57fVtdIFwiXWAuXG4gICAgICogICAgICBEb24ndCBmb3JnZXQgdG8gaW5jbHVkZSBzcGFjZXMgJyAnIGluIHlvdXIgY2hhcmFjdGVyIHNldCFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFJlbmRlciByZXNvbHV0aW9uIGZvciBnbHlwaHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVXaWR0aD01MTJdIC0gT3B0aW9uYWwgd2lkdGggb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVIZWlnaHQ9NTEyXSAtIE9wdGlvbmFsIGhlaWdodCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGFkZGluZz00XSAtIFBhZGRpbmcgYmV0d2VlbiBnbHlwaHMgb24gdGV4dHVyZSBhdGxhcy5cbiAgICAgKiBAcmV0dXJucyBGb250IGdlbmVyYXRlZCBieSBzdHlsZSBvcHRpb25zLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogUElYSS5CaXRtYXBGb250LmZyb20oXCJUaXRsZUZvbnRcIiwge1xuICAgICAqICAgICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gICAgICogICAgIGZvbnRTaXplOiAxMixcbiAgICAgKiAgICAgc3Ryb2tlVGhpY2tuZXNzOiAyLFxuICAgICAqICAgICBmaWxsOiBcInB1cnBsZVwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCB0aXRsZSA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJUaGlzIGlzIHRoZSB0aXRsZVwiLCB7IGZvbnROYW1lOiBcIlRpdGxlRm9udFwiIH0pO1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZnJvbSA9IGZ1bmN0aW9uIChuYW1lLCB0ZXh0U3R5bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIGNoYXJzID0gX2EuY2hhcnMsIHBhZGRpbmcgPSBfYS5wYWRkaW5nLCByZXNvbHV0aW9uID0gX2EucmVzb2x1dGlvbiwgdGV4dHVyZVdpZHRoID0gX2EudGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0ID0gX2EudGV4dHVyZUhlaWdodDtcbiAgICAgICAgdmFyIGNoYXJzTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGV4dFN0eWxlIGluc3RhbmNlb2YgdGV4dC5UZXh0U3R5bGUgPyB0ZXh0U3R5bGUgOiBuZXcgdGV4dC5UZXh0U3R5bGUodGV4dFN0eWxlKTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3IEJpdG1hcEZvbnREYXRhKCk7XG4gICAgICAgIGZvbnREYXRhLmluZm9bMF0gPSB7XG4gICAgICAgICAgICBmYWNlOiBzdHlsZS5mb250RmFtaWx5LFxuICAgICAgICAgICAgc2l6ZTogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIGZvbnREYXRhLmNvbW1vblswXSA9IHtcbiAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHN0eWxlLmZvbnRTaXplLFxuICAgICAgICB9O1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gMDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgIHZhciBjYW52YXM7XG4gICAgICAgIHZhciBjb250ZXh0O1xuICAgICAgICB2YXIgYmFzZVRleHR1cmU7XG4gICAgICAgIHZhciBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHRleHR1cmVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnNMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWNhbnZhcykge1xuICAgICAgICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IHRleHR1cmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gdGV4dHVyZUhlaWdodDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBuZXcgY29yZS5CYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKG5ldyBjb3JlLlRleHR1cmUoYmFzZVRleHR1cmUpKTtcbiAgICAgICAgICAgICAgICBmb250RGF0YS5wYWdlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogdGV4dHVyZXMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgZmlsZTogJycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNZWFzdXJlIGdseXBoIGRpbWVuc2lvbnNcbiAgICAgICAgICAgIHZhciBtZXRyaWNzID0gdGV4dC5UZXh0TWV0cmljcy5tZWFzdXJlVGV4dChjaGFyc0xpc3RbaV0sIHN0eWxlLCBmYWxzZSwgY2FudmFzKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IG1ldHJpY3Mud2lkdGg7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gTWF0aC5jZWlsKG1ldHJpY3MuaGVpZ2h0KTtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgdWdseSAtIGJ1dCBpdGFsaWNzIGFyZSBnaXZlbiBtb3JlIHNwYWNlIHNvIHRoZXkgZG9uJ3Qgb3ZlcmxhcFxuICAgICAgICAgICAgdmFyIHRleHR1cmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKChzdHlsZS5mb250U3R5bGUgPT09ICdpdGFsaWMnID8gMiA6IDEpICogd2lkdGgpO1xuICAgICAgICAgICAgLy8gQ2FuJ3QgZml0IGNoYXIgYW55bW9yZTogbmV4dCBjYW52YXMgcGxlYXNlIVxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA+PSB0ZXh0dXJlSGVpZ2h0IC0gKGhlaWdodCAqIHJlc29sdXRpb24pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uWSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCB3YW50IHVzZXIgZGVidWdnaW5nIGFuIGluZmluaXRlIGxvb3AgKG9yIGRvIHdlPyA6KVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF0gdGV4dHVyZUhlaWdodCBcIiArIHRleHR1cmVIZWlnaHQgKyBcInB4IGlzIFwiXG4gICAgICAgICAgICAgICAgICAgICAgICArIChcInRvbyBzbWFsbCBmb3IgXCIgKyBzdHlsZS5mb250U2l6ZSArIFwicHggZm9udHNcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIG5ldyBhdGxhcyBvbmNlIGN1cnJlbnQgaGFzIGZpbGxlZCB1cFxuICAgICAgICAgICAgICAgIGNhbnZhcyA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYmFzZVRleHR1cmUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IDA7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSBNYXRoLm1heChoZWlnaHQgKyBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQsIG1heENoYXJIZWlnaHQpO1xuICAgICAgICAgICAgLy8gV3JhcCBsaW5lIG9uY2UgZnVsbCByb3cgaGFzIGJlZW4gcmVuZGVyZWRcbiAgICAgICAgICAgIGlmICgodGV4dHVyZUdseXBoV2lkdGggKiByZXNvbHV0aW9uKSArIHBvc2l0aW9uWCA+PSBsaW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZICs9IG1heENoYXJIZWlnaHQgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWSA9IE1hdGguY2VpbChwb3NpdGlvblkpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uWCA9IDA7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IDA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkcmF3R2x5cGgoY2FudmFzLCBjb250ZXh0LCBtZXRyaWNzLCBwb3NpdGlvblgsIHBvc2l0aW9uWSwgcmVzb2x1dGlvbiwgc3R5bGUpO1xuICAgICAgICAgICAgLy8gVW5pcXVlIChudW1lcmljKSBJRCBtYXBwaW5nIHRvIHRoaXMgZ2x5cGhcbiAgICAgICAgICAgIHZhciBpZCA9IGV4dHJhY3RDaGFyQ29kZShtZXRyaWNzLnRleHQpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgdGV4dHVyZSBob2xkaW5nIGp1c3QgdGhlIGdseXBoXG4gICAgICAgICAgICBmb250RGF0YS5jaGFyLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICBwYWdlOiB0ZXh0dXJlcy5sZW5ndGggLSAxLFxuICAgICAgICAgICAgICAgIHg6IHBvc2l0aW9uWCAvIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgeTogcG9zaXRpb25ZIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB3aWR0aDogdGV4dHVyZUdseXBoV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgeG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICB5b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHhhZHZhbmNlOiBNYXRoLmNlaWwod2lkdGhcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuZHJvcFNoYWRvdyA/IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSA6IDApXG4gICAgICAgICAgICAgICAgICAgIC0gKHN0eWxlLnN0cm9rZSA/IHN0eWxlLnN0cm9rZVRoaWNrbmVzcyA6IDApKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zaXRpb25YICs9ICh0ZXh0dXJlR2x5cGhXaWR0aCArICgyICogcGFkZGluZykpICogcmVzb2x1dGlvbjtcbiAgICAgICAgICAgIHBvc2l0aW9uWCA9IE1hdGguY2VpbChwb3NpdGlvblgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJydXRlLWZvcmNlIGtlcm5pbmcgaW5mbywgdGhpcyBjYW4gYmUgZXhwZW5zaXZlIGIvYyBpdCdzIGFuIE8obsKyKSxcbiAgICAgICAgLy8gYnV0IHdlJ3JlIHVzaW5nIG1lYXN1cmVUZXh0IHdoaWNoIGlzIG5hdGl2ZSBhbmQgZmFzdC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYXJzTGlzdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpcnN0ID0gY2hhcnNMaXN0W2ldO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBzZWNvbmQgPSBjaGFyc0xpc3Rbal07XG4gICAgICAgICAgICAgICAgdmFyIGMxID0gY29udGV4dC5tZWFzdXJlVGV4dChmaXJzdCkud2lkdGg7XG4gICAgICAgICAgICAgICAgdmFyIGMyID0gY29udGV4dC5tZWFzdXJlVGV4dChzZWNvbmQpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IGNvbnRleHQubWVhc3VyZVRleHQoZmlyc3QgKyBzZWNvbmQpLndpZHRoO1xuICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSB0b3RhbCAtIChjMSArIGMyKTtcbiAgICAgICAgICAgICAgICBpZiAoYW1vdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnREYXRhLmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdDogZXh0cmFjdENoYXJDb2RlKGZpcnN0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogZXh0cmFjdENoYXJDb2RlKHNlY29uZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gbmV3IEJpdG1hcEZvbnQoZm9udERhdGEsIHRleHR1cmVzLCB0cnVlKTtcbiAgICAgICAgLy8gTWFrZSBpdCBlYXNpZXIgdG8gcmVwbGFjZSBhIGZvbnRcbiAgICAgICAgaWYgKEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEJpdG1hcEZvbnQudW5pbnN0YWxsKG5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlW25hbWVdID0gZm9udDtcbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaW5jbHVkZXMgYWxsIHRoZSBsZXR0ZXJzIGluIHRoZSBhbHBoYWJldCAoYm90aCBsb3dlci0gYW5kIHVwcGVyLSBjYXNlKS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250LkFMUEhBIH0pXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQSA9IFtbJ2EnLCAneiddLCBbJ0EnLCAnWiddLCAnICddO1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgZGVjaW1hbCBkaWdpdHMgKGZyb20gMCB0byA5KS5cbiAgICAgKiBAdHlwZSB7c3RyaW5nW11bXX1cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIEJpdG1hcEZvbnQuZnJvbShcIkV4YW1wbGVGb250XCIsIHN0eWxlLCB7IGNoYXJzOiBCaXRtYXBGb250Lk5VTUVSSUMgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250Lk5VTUVSSUMgPSBbWycwJywgJzknXV07XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGlzIHRoZSB1bmlvbiBvZiBgQml0bWFwRm9udC5BTFBIQWAgYW5kIGBCaXRtYXBGb250Lk5VTUVSSUNgLlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXVtdfVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDID0gW1snYScsICd6J10sIFsnQScsICdaJ10sIFsnMCcsICc5J10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGNvbnNpc3RzIG9mIGFsbCB0aGUgQVNDSUkgdGFibGUuXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cuYXNjaWl0YWJsZS5jb20vXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BU0NJSSA9IFtbJyAnLCAnfiddXTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGRlZmF1bHQgb3B0aW9ucyB3aGVuIHVzaW5nIGBCaXRtYXBGb250LmZyb21gLlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcmVzb2x1dGlvbj0xXSAtXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlV2lkdGg9NTEyXSAtXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IFt0ZXh0dXJlSGVpZ2h0PTUxMl0gLVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbcGFkZGluZz00XSAtXG4gICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW118c3RyaW5nW11bXX0gY2hhcnMgPSBQSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXG4gICAgICovXG4gICAgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgdGV4dHVyZVdpZHRoOiA1MTIsXG4gICAgICAgIHRleHR1cmVIZWlnaHQ6IDUxMixcbiAgICAgICAgcGFkZGluZzogNCxcbiAgICAgICAgY2hhcnM6IEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDLFxuICAgIH07XG4gICAgLyoqIENvbGxlY3Rpb24gb2YgYXZhaWxhYmxlL2luc3RhbGxlZCBmb250cy4gKi9cbiAgICBCaXRtYXBGb250LmF2YWlsYWJsZSA9IHt9O1xuICAgIHJldHVybiBCaXRtYXBGb250O1xufSgpKTtcblxudmFyIG1zZGZGcmFnID0gXCIvLyBQaXhpIHRleHR1cmUgaW5mb1xcclxcbnZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xcclxcbnVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xcclxcblxcclxcbi8vIFRpbnRcXHJcXG51bmlmb3JtIHZlYzQgdUNvbG9yO1xcclxcblxcclxcbi8vIG9uIDJEIGFwcGxpY2F0aW9ucyBmd2lkdGggaXMgc2NyZWVuU2NhbGUgLyBnbHlwaEF0bGFzU2NhbGUgKiBkaXN0YW5jZUZpZWxkUmFuZ2VcXHJcXG51bmlmb3JtIGZsb2F0IHVGV2lkdGg7XFxyXFxuXFxyXFxudm9pZCBtYWluKHZvaWQpIHtcXHJcXG5cXHJcXG4gIC8vIFRvIHN0YWNrIE1TREYgYW5kIFNERiB3ZSBuZWVkIGEgbm9uLXByZS1tdWx0aXBsaWVkLWFscGhhIHRleHR1cmUuXFxyXFxuICB2ZWM0IHRleENvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkKTtcXHJcXG5cXHJcXG4gIC8vIE1TREZcXHJcXG4gIGZsb2F0IG1lZGlhbiA9IHRleENvbG9yLnIgKyB0ZXhDb2xvci5nICsgdGV4Q29sb3IuYiAtXFxyXFxuICAgICAgICAgICAgICAgICAgbWluKHRleENvbG9yLnIsIG1pbih0ZXhDb2xvci5nLCB0ZXhDb2xvci5iKSkgLVxcclxcbiAgICAgICAgICAgICAgICAgIG1heCh0ZXhDb2xvci5yLCBtYXgodGV4Q29sb3IuZywgdGV4Q29sb3IuYikpO1xcclxcbiAgLy8gU0RGXFxyXFxuICBtZWRpYW4gPSBtaW4obWVkaWFuLCB0ZXhDb2xvci5hKTtcXHJcXG5cXHJcXG4gIGZsb2F0IHNjcmVlblB4RGlzdGFuY2UgPSB1RldpZHRoICogKG1lZGlhbiAtIDAuNSk7XFxyXFxuICBmbG9hdCBhbHBoYSA9IGNsYW1wKHNjcmVlblB4RGlzdGFuY2UgKyAwLjUsIDAuMCwgMS4wKTtcXHJcXG5cXHJcXG4gIC8vIE5QTSBUZXh0dXJlcywgTlBNIG91dHB1dHNcXHJcXG4gIGdsX0ZyYWdDb2xvciA9IHZlYzQodUNvbG9yLnJnYiwgdUNvbG9yLmEgKiBhbHBoYSk7XFxyXFxuXFxyXFxufVxcclxcblwiO1xuXG52YXIgbXNkZlZlcnQgPSBcIi8vIE1lc2ggbWF0ZXJpYWwgZGVmYXVsdCBmcmFnbWVudFxcclxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXHJcXG5hdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xcclxcblxcclxcbnVuaWZvcm0gbWF0MyBwcm9qZWN0aW9uTWF0cml4O1xcclxcbnVuaWZvcm0gbWF0MyB0cmFuc2xhdGlvbk1hdHJpeDtcXHJcXG51bmlmb3JtIG1hdDMgdVRleHR1cmVNYXRyaXg7XFxyXFxuXFxyXFxudmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XFxyXFxuXFxyXFxudm9pZCBtYWluKHZvaWQpXFxyXFxue1xcclxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHByb2plY3Rpb25NYXRyaXggKiB0cmFuc2xhdGlvbk1hdHJpeCAqIHZlYzMoYVZlcnRleFBvc2l0aW9uLCAxLjApKS54eSwgMC4wLCAxLjApO1xcclxcblxcclxcbiAgICB2VGV4dHVyZUNvb3JkID0gKHVUZXh0dXJlTWF0cml4ICogdmVjMyhhVGV4dHVyZUNvb3JkLCAxLjApKS54eTtcXHJcXG59XFxyXFxuXCI7XG5cbi8vIElmIHdlIGV2ZXIgbmVlZCBtb3JlIHRoYW4gdHdvIHBvb2xzLCBwbGVhc2UgbWFrZSBhIERpY3Qgb3Igc29tZXRoaW5nIGJldHRlci5cbnZhciBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhID0gW107XG52YXIgcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YSA9IFtdO1xudmFyIGNoYXJSZW5kZXJEYXRhUG9vbCA9IFtdO1xuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgVGV4dCBpcyB0aGF0IGFsbCBvZiB5b3VyIHRleHR1cmVzIGFyZSBwcmUtZ2VuZXJhdGVkIGFuZCBsb2FkaW5nLFxuICogbWVhbmluZyB0aGF0IHJlbmRlcmluZyBpcyBmYXN0LCBhbmQgY2hhbmdpbmcgdGV4dCBoYXMgbm8gcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxuICpcbiAqIFN1cHBvcnRpbmcgY2hhcmFjdGVyIHNldHMgb3RoZXIgdGhhbiBsYXRpbiwgc3VjaCBhcyBDSksgbGFuZ3VhZ2VzLCBtYXkgYmUgaW1wcmFjdGljYWwgZHVlIHRvIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLlxuICpcbiAqIFBpeGlKUyBjYW4gYXV0by1nZW5lcmF0ZSBmb250cyBvbi10aGUtZmx5IHVzaW5nIEJpdG1hcEZvbnQgb3IgdXNlIGZudCBmaWxlcyBwcm92aWRlZCBieTpcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIFlvdSBjYW4gYWxzbyB1c2UgU0RGLCBNU0RGIGFuZCBNVFNERiBCaXRtYXBGb250cyBmb3IgdmVjdG9yLWxpa2Ugc2NhbGluZyBhcHBlYXJhbmNlIHByb3ZpZGVkIGJ5OlxuICogaHR0cHM6Ly9naXRodWIuY29tL3NvaW15L21zZGYtYm1mb250LXhtbCBmb3IgU0RGIGFuZCBNU0RGIGZudCBmaWxlcyBvclxuICogaHR0cHM6Ly9naXRodWIuY29tL0NobHVtc2t5L21zZGYtYXRsYXMtZ2VuIGZvciBTREYsIE1TREYgYW5kIE1UU0RGIGpzb24gZmlsZXNcbiAqXG4gKiBBIEJpdG1hcFRleHQgY2FuIG9ubHkgYmUgY3JlYXRlZCB3aGVuIHRoZSBmb250IGlzIGxvYWRlZC5cbiAqXG4gKiBgYGBqc1xuICogLy8gaW4gdGhpcyBjYXNlIHRoZSBmb250IGlzIGluIGEgZmlsZSBjYWxsZWQgJ2Rlc3lyZWwuZm50J1xuICogbGV0IGJpdG1hcFRleHQgPSBuZXcgUElYSS5CaXRtYXBUZXh0KFwidGV4dCB1c2luZyBhIGZhbmN5IGZvbnQhXCIsIHtcbiAqICAgZm9udE5hbWU6IFwiRGVzeXJlbFwiLFxuICogICBmb250U2l6ZTogMzUsXG4gKiAgIGFsaWduOiBcInJpZ2h0XCJcbiAqIH0pO1xuICogYGBgXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwVGV4dCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQml0bWFwVGV4dCwgX3N1cGVyKTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdGV4dCAtIEEgc3RyaW5nIHRoYXQgeW91IHdvdWxkIGxpa2UgdGhlIHRleHQgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0gc3R5bGUgLSBUaGUgc3R5bGUgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3R5bGUuZm9udE5hbWUgLSBUaGUgaW5zdGFsbGVkIEJpdG1hcEZvbnQgbmFtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLmZvbnRTaXplXSAtIFRoZSBzaXplIG9mIHRoZSBmb250IGluIHBpeGVscywgZS5nLiAyNC4gSWYgdW5kZWZpbmVkLFxuICAgICAqLiAgICAgdGhpcyB3aWxsIGRlZmF1bHQgdG8gdGhlIEJpdG1hcEZvbnQgc2l6ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0eWxlLmFsaWduPSdsZWZ0J10gLSBBbGlnbm1lbnQgZm9yIG11bHRpbGluZSB0ZXh0ICgnbGVmdCcsICdjZW50ZXInLCAncmlnaHQnIG9yICdqdXN0aWZ5JyksXG4gICAgICogICAgICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1heFdpZHRoPTBdIC0gVGhlIG1heCB3aWR0aCBvZiB0aGUgdGV4dCBiZWZvcmUgbGluZSB3cmFwcGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7IHN0eWxlID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGludC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90aW50ID0gMHhGRkZGRkY7XG4gICAgICAgIC8vIEFwcGx5IHRoZSBkZWZhdWx0c1xuICAgICAgICB2YXIgX2EgPSBPYmplY3QuYXNzaWduKHt9LCBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMsIHN0eWxlKSwgYWxpZ24gPSBfYS5hbGlnbiwgdGludCA9IF9hLnRpbnQsIG1heFdpZHRoID0gX2EubWF4V2lkdGgsIGxldHRlclNwYWNpbmcgPSBfYS5sZXR0ZXJTcGFjaW5nLCBmb250TmFtZSA9IF9hLmZvbnROYW1lLCBmb250U2l6ZSA9IF9hLmZvbnRTaXplO1xuICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBCaXRtYXBGb250IFxcXCJcIiArIGZvbnROYW1lICsgXCJcXFwiXCIpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgICAgICBfdGhpcy5fdGV4dEhlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLl9hbGlnbiA9IGFsaWduO1xuICAgICAgICBfdGhpcy5fdGludCA9IHRpbnQ7XG4gICAgICAgIF90aGlzLl9mb250TmFtZSA9IGZvbnROYW1lO1xuICAgICAgICBfdGhpcy5fZm9udFNpemUgPSBmb250U2l6ZSB8fCBCaXRtYXBGb250LmF2YWlsYWJsZVtmb250TmFtZV0uc2l6ZTtcbiAgICAgICAgX3RoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIF90aGlzLl9tYXhXaWR0aCA9IG1heFdpZHRoO1xuICAgICAgICBfdGhpcy5fbWF4TGluZUhlaWdodCA9IDA7XG4gICAgICAgIF90aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgX3RoaXMuX2FuY2hvciA9IG5ldyBtYXRoLk9ic2VydmFibGVQb2ludChmdW5jdGlvbiAoKSB7IF90aGlzLmRpcnR5ID0gdHJ1ZTsgfSwgX3RoaXMsIDAsIDApO1xuICAgICAgICBfdGhpcy5fcm91bmRQaXhlbHMgPSBzZXR0aW5ncy5zZXR0aW5ncy5ST1VORF9QSVhFTFM7XG4gICAgICAgIF90aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuX3Jlc29sdXRpb24gPSBzZXR0aW5ncy5zZXR0aW5ncy5SRVNPTFVUSU9OO1xuICAgICAgICBfdGhpcy5fYXV0b1Jlc29sdXRpb24gPSB0cnVlO1xuICAgICAgICBfdGhpcy5fdGV4dHVyZUNhY2hlID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqIFJlbmRlcnMgdGV4dCBhbmQgdXBkYXRlcyBpdCB3aGVuIG5lZWRlZC4gVGhpcyBzaG91bGQgb25seSBiZSBjYWxsZWQgaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgbWF0aC5Qb2ludCgpO1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVXaWR0aHMgPSBbXTtcbiAgICAgICAgdmFyIGxpbmVTcGFjZXMgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSB0aGlzLl90ZXh0LnJlcGxhY2UoLyg/OlxcclxcbnxcXHIpL2csICdcXG4nKSB8fCAnICc7XG4gICAgICAgIHZhciBjaGFyc0lucHV0ID0gc3BsaXRUZXh0VG9DaGFyYWN0ZXJzKHRleHQpO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB2YXIgcGFnZU1lc2hEYXRhUG9vbCA9IGRhdGEuZGlzdGFuY2VGaWVsZFR5cGUgPT09ICdub25lJ1xuICAgICAgICAgICAgPyBwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIDogcGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YTtcbiAgICAgICAgdmFyIHByZXZDaGFyQ29kZSA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVXaWR0aCA9IDA7XG4gICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgdmFyIGxhc3RCcmVha1BvcyA9IC0xO1xuICAgICAgICB2YXIgbGFzdEJyZWFrV2lkdGggPSAwO1xuICAgICAgICB2YXIgc3BhY2VzUmVtb3ZlZCA9IDA7XG4gICAgICAgIHZhciBtYXhMaW5lSGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIHNwYWNlQ291bnQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzSW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNJbnB1dFtpXTtcbiAgICAgICAgICAgIHZhciBjaGFyQ29kZSA9IGV4dHJhY3RDaGFyQ29kZShjaGFyKTtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICAgICAgc3BhY2VDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoYXIgPT09ICdcXHInIHx8IGNoYXIgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICAgICAgICAgIGxpbmVTcGFjZXMucHVzaCgtMSk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBzcGFjZUNvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhclJlbmRlckRhdGEgPSBjaGFyUmVuZGVyRGF0YVBvb2wucG9wKCkgfHwge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IGNvcmUuVGV4dHVyZS5FTVBUWSxcbiAgICAgICAgICAgICAgICBsaW5lOiAwLFxuICAgICAgICAgICAgICAgIGNoYXJDb2RlOiAwLFxuICAgICAgICAgICAgICAgIHByZXZTcGFjZXM6IDAsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IG5ldyBtYXRoLlBvaW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEudGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5saW5lID0gbGluZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi54ID0gcG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQ7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wcmV2U3BhY2VzID0gc3BhY2VDb3VudDtcbiAgICAgICAgICAgIGNoYXJzLnB1c2goY2hhclJlbmRlckRhdGEpO1xuICAgICAgICAgICAgbGFzdExpbmVXaWR0aCA9IGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnggKyBNYXRoLm1heChjaGFyRGF0YS54QWR2YW5jZSwgY2hhckRhdGEudGV4dHVyZS5vcmlnLndpZHRoKTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHV0aWxzLnJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lU3BhY2VzLnB1c2goY2hhcnMubGVuZ3RoID4gMCA/IGNoYXJzW2NoYXJzLmxlbmd0aCAtIDFdLnByZXZTcGFjZXMgOiAwKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHNwYWNlQ291bnQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2hhciA9IGNoYXJzSW5wdXRbY2hhcnNJbnB1dC5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGxhc3RDaGFyICE9PSAnXFxyJyAmJiBsYXN0Q2hhciAhPT0gJ1xcbicpIHtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGxhc3RDaGFyKSkge1xuICAgICAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBsYXN0QnJlYWtXaWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVXaWR0aHMucHVzaChsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgIG1heExpbmVXaWR0aCA9IE1hdGgubWF4KG1heExpbmVXaWR0aCwgbGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBsaW5lU3BhY2VzLnB1c2goLTEpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnanVzdGlmeScpIHtcbiAgICAgICAgICAgICAgICBhbGlnbk9mZnNldCA9IGxpbmVTcGFjZXNbaV0gPCAwID8gMCA6IChtYXhMaW5lV2lkdGggLSBsaW5lV2lkdGhzW2ldKSAvIGxpbmVTcGFjZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lQWxpZ25PZmZzZXRzLnB1c2goYWxpZ25PZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5DaGFycyA9IGNoYXJzLmxlbmd0aDtcbiAgICAgICAgdmFyIHBhZ2VzTWVzaERhdGEgPSB7fTtcbiAgICAgICAgdmFyIG5ld1BhZ2VzTWVzaERhdGEgPSBbXTtcbiAgICAgICAgdmFyIGFjdGl2ZVBhZ2VzTWVzaERhdGEgPSB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhZ2VNZXNoRGF0YVBvb2wucHVzaChhY3RpdmVQYWdlc01lc2hEYXRhW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhcnNbaV0udGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBiYXNlVGV4dHVyZVVpZCA9IHRleHR1cmUuYmFzZVRleHR1cmUudWlkO1xuICAgICAgICAgICAgaWYgKCFwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSkge1xuICAgICAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlTWVzaERhdGFQb29sLnBvcCgpO1xuICAgICAgICAgICAgICAgIGlmICghcGFnZU1lc2hEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9tZXRyeSA9IG5ldyBtZXNoLk1lc2hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNoQmxlbmRNb2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5kaXN0YW5jZUZpZWxkVHlwZSA9PT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBtZXNoLk1lc2hNYXRlcmlhbChjb3JlLlRleHR1cmUuRU1QVFkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaEJsZW5kTW9kZSA9IGNvbnN0YW50cy5CTEVORF9NT0RFUy5OT1JNQUw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbCA9IG5ldyBtZXNoLk1lc2hNYXRlcmlhbChjb3JlLlRleHR1cmUuRU1QVFksIHsgcHJvZ3JhbTogY29yZS5Qcm9ncmFtLmZyb20obXNkZlZlcnQsIG1zZGZGcmFnKSwgdW5pZm9ybXM6IHsgdUZXaWR0aDogMCB9IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzaEJsZW5kTW9kZSA9IGNvbnN0YW50cy5CTEVORF9NT0RFUy5OT1JNQUxfTlBNO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZXNoJDEgPSBuZXcgbWVzaC5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIG1lc2gkMS5ibGVuZE1vZGUgPSBtZXNoQmxlbmRNb2RlO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Q291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2c0NvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNoOiBtZXNoJDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRhdGEuLlxuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZCB0byBnZXQgcGFnZSB0ZXh0dXJlIGhlcmUgc29tZWhvdy4uXG4gICAgICAgICAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICAgICAgX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSB8fCBuZXcgY29yZS5UZXh0dXJlKHRleHR1cmUuYmFzZVRleHR1cmUpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5tZXNoLnRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50aW50ID0gdGhpcy5fdGludDtcbiAgICAgICAgICAgICAgICBuZXdQYWdlc01lc2hEYXRhLnB1c2gocGFnZU1lc2hEYXRhKTtcbiAgICAgICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXSA9IHBhZ2VNZXNoRGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdLnRvdGFsKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0cyBmaW5kIGFueSBwcmV2aW91c2x5IGFjdGl2ZSBwYWdlTWVzaERhdGFzIHRoYXQgYXJlIG5vIGxvbmdlciByZXF1aXJlZCBmb3JcbiAgICAgICAgLy8gdGhlIHVwZGF0ZWQgdGV4dCAoaWYgYW55KSwgcmVtb3ZlZCBhbmQgcmV0dXJuIHRoZW0gdG8gdGhlIHBvb2wuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGEuaW5kZXhPZihhY3RpdmVQYWdlc01lc2hEYXRhW2ldKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gbmV4dCBsZXRzIGFkZCBhbnkgbmV3IG1lc2hlcywgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBhZGRlZCB0byB0aGlzIEJpdG1hcFRleHRcbiAgICAgICAgLy8gd2Ugb25seSBhZGQgaWYgaXRzIG5vdCBhbHJlYWR5IGEgY2hpbGQgb2YgdGhpcyBCaXRtYXBPYmplY3RcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoLnBhcmVudCAhPT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQobmV3UGFnZXNNZXNoRGF0YVtpXS5tZXNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBhY3RpdmUgcGFnZSBtZXNoIGRhdGFzIGFyZSBzZXQgdG8gYmUgdGhlIG5ldyBwYWdlcyBhZGRlZC5cbiAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YSA9IG5ld1BhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcGFnZXNNZXNoRGF0YSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICB2YXIgdG90YWwgPSBwYWdlTWVzaERhdGEudG90YWw7XG4gICAgICAgICAgICAvLyBsZXRzIG9ubHkgYWxsb2NhdGUgbmV3IGJ1ZmZlcnMgaWYgd2UgY2FuIGZpdCB0aGUgbmV3IHRleHQgaW4gdGhlIGN1cnJlbnQgb25lcy4uXG4gICAgICAgICAgICAvLyB1bmxlc3MgdGhhdCBpcywgd2Ugd2lsbCBiZSBiYXRjaGluZy4gQ3VycmVudGx5IGJhdGNoaW5nIGRvc2Ugbm90IHJlc3BlY3QgdGhlIHNpemUgcHJvcGVydHkgb2YgbWVzaFxuICAgICAgICAgICAgaWYgKCEoKChfYSA9IHBhZ2VNZXNoRGF0YS5pbmRpY2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSA+IDYgKiB0b3RhbCkgfHwgcGFnZU1lc2hEYXRhLnZlcnRpY2VzLmxlbmd0aCA8IG1lc2guTWVzaC5CQVRDSEFCTEVfU0laRSAqIDIpIHtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS51dnMgPSBuZXcgRmxvYXQzMkFycmF5KDQgKiAyICogdG90YWwpO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRpY2VzID0gbmV3IFVpbnQxNkFycmF5KDYgKiB0b3RhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWxfMSA9IHBhZ2VNZXNoRGF0YS50b3RhbDtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGljZXMgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIGdhcmJhZ2UgYXQgdGhlIGVuZCBvZiB0aGUgdmVydGljZXMgYnVmZmVyLiBUaGlzIHdpbGwgcHJldmVudCB0aGUgYm91bmRzIG1pc2NhbGN1bGF0aW9uLlxuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHRvdGFsXzEgKiA0ICogMjsgaV8xIDwgdmVydGljZXMubGVuZ3RoOyBpXzErKykge1xuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXzFdID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBhcyBhIGJ1ZmZlciBtYXliZSBiaWdnZXIgdGhhbiB0aGUgY3VycmVudCB3b3JkLCB3ZSBzZXQgdGhlIHNpemUgb2YgdGhlIG1lc2hNYXRlcmlhbFxuICAgICAgICAgICAgLy8gdG8gbWF0Y2ggdGhlIG51bWJlciBvZiBsZXR0ZXJzIG5lZWRlZFxuICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2guc2l6ZSA9IDYgKiB0b3RhbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbkNoYXJzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gY2hhcnNbaV07XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gY2hhci5wb3NpdGlvbi54ICsgKGxpbmVBbGlnbk9mZnNldHNbY2hhci5saW5lXSAqICh0aGlzLl9hbGlnbiA9PT0gJ2p1c3RpZnknID8gY2hhci5wcmV2U3BhY2VzIDogMSkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gTWF0aC5yb3VuZChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHhQb3MgPSBvZmZzZXQgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB5UG9zID0gY2hhci5wb3NpdGlvbi55ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZSA9IGNoYXIudGV4dHVyZTtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaCA9IHBhZ2VzTWVzaERhdGFbdGV4dHVyZS5iYXNlVGV4dHVyZS51aWRdO1xuICAgICAgICAgICAgdmFyIHRleHR1cmVGcmFtZSA9IHRleHR1cmUuZnJhbWU7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZVV2cyA9IHRleHR1cmUuX3V2cztcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhZ2VNZXNoLmluZGV4Kys7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMF0gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMV0gPSAxICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgMl0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgM10gPSAwICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNF0gPSAyICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC5pbmRpY2VzWyhpbmRleCAqIDYpICsgNV0gPSAzICsgKGluZGV4ICogNCk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDBdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMV0gPSB5UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAyXSA9IHhQb3MgKyAodGV4dHVyZUZyYW1lLndpZHRoICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAzXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDRdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDVdID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyA2XSA9IHhQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDddID0geVBvcyArICh0ZXh0dXJlRnJhbWUuaGVpZ2h0ICogc2NhbGUpO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMF0gPSB0ZXh0dXJlVXZzLngwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMV0gPSB0ZXh0dXJlVXZzLnkwO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgMl0gPSB0ZXh0dXJlVXZzLngxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgM10gPSB0ZXh0dXJlVXZzLnkxO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNF0gPSB0ZXh0dXJlVXZzLngyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNV0gPSB0ZXh0dXJlVXZzLnkyO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgNl0gPSB0ZXh0dXJlVXZzLngzO1xuICAgICAgICAgICAgcGFnZU1lc2gudXZzWyhpbmRleCAqIDgpICsgN10gPSB0ZXh0dXJlVXZzLnkzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHRXaWR0aCA9IG1heExpbmVXaWR0aCAqIHNjYWxlO1xuICAgICAgICB0aGlzLl90ZXh0SGVpZ2h0ID0gKHBvcy55ICsgZGF0YS5saW5lSGVpZ2h0KSAqIHNjYWxlO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgLy8gYXBwbHkgYW5jaG9yXG4gICAgICAgICAgICBpZiAodGhpcy5hbmNob3IueCAhPT0gMCB8fCB0aGlzLmFuY2hvci55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZlcnRleENvdW50ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WCA9IHRoaXMuX3RleHRXaWR0aCAqIHRoaXMuYW5jaG9yLng7XG4gICAgICAgICAgICAgICAgdmFyIGFuY2hvck9mZnNldFkgPSB0aGlzLl90ZXh0SGVpZ2h0ICogdGhpcy5hbmNob3IueTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpXzIgPSAwOyBpXzIgPCBwYWdlTWVzaERhdGEudG90YWw7IGlfMisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhMaW5lSGVpZ2h0ID0gbWF4TGluZUhlaWdodCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHZlcnRleEJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUJ1ZmZlciA9IHBhZ2VNZXNoRGF0YS5tZXNoLmdlb21ldHJ5LmdldEJ1ZmZlcignYVRleHR1cmVDb29yZCcpO1xuICAgICAgICAgICAgdmFyIGluZGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0SW5kZXgoKTtcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnZlcnRpY2VzO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci5kYXRhID0gcGFnZU1lc2hEYXRhLnV2cztcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEuaW5kaWNlcztcbiAgICAgICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIHRleHR1cmVCdWZmZXIudXBkYXRlKCk7XG4gICAgICAgICAgICBpbmRleEJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YVBvb2wucHVzaChjaGFyc1tpXSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICBpZiAodGhpcy5fYXV0b1Jlc29sdXRpb24gJiYgdGhpcy5fcmVzb2x1dGlvbiAhPT0gcmVuZGVyZXIucmVzb2x1dGlvbikge1xuICAgICAgICAgICAgdGhpcy5fcmVzb2x1dGlvbiA9IHJlbmRlcmVyLnJlc29sdXRpb247XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBVcGRhdGUgdGhlIHVuaWZvcm1cbiAgICAgICAgdmFyIF9hID0gQml0bWFwRm9udC5hdmFpbGFibGVbdGhpcy5fZm9udE5hbWVdLCBkaXN0YW5jZUZpZWxkUmFuZ2UgPSBfYS5kaXN0YW5jZUZpZWxkUmFuZ2UsIGRpc3RhbmNlRmllbGRUeXBlID0gX2EuZGlzdGFuY2VGaWVsZFR5cGUsIHNpemUgPSBfYS5zaXplO1xuICAgICAgICBpZiAoZGlzdGFuY2VGaWVsZFR5cGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgLy8gSW5qZWN0IHRoZSBzaGFkZXIgY29kZSB3aXRoIHRoZSBjb3JyZWN0IHZhbHVlXG4gICAgICAgICAgICB2YXIgX2IgPSB0aGlzLndvcmxkVHJhbnNmb3JtLCBhID0gX2IuYSwgYiA9IF9iLmIsIGMgPSBfYi5jLCBkID0gX2IuZDtcbiAgICAgICAgICAgIHZhciBkeCA9IE1hdGguc3FydCgoYSAqIGEpICsgKGIgKiBiKSk7XG4gICAgICAgICAgICB2YXIgZHkgPSBNYXRoLnNxcnQoKGMgKiBjKSArIChkICogZCkpO1xuICAgICAgICAgICAgdmFyIHdvcmxkU2NhbGUgPSAoTWF0aC5hYnMoZHgpICsgTWF0aC5hYnMoZHkpKSAvIDI7XG4gICAgICAgICAgICB2YXIgZm9udFNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBzaXplO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYyA9IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGE7IF9pIDwgX2MubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lc2ggPSBfY1tfaV07XG4gICAgICAgICAgICAgICAgbWVzaC5tZXNoLnNoYWRlci51bmlmb3Jtcy51RldpZHRoID0gd29ybGRTY2FsZSAqIGRpc3RhbmNlRmllbGRSYW5nZSAqIGZvbnRTY2FsZSAqIHRoaXMuX3Jlc29sdXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5fcmVuZGVyLmNhbGwodGhpcywgcmVuZGVyZXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKiBAcmV0dXJucyAtIFRoZSByZWN0YW5ndWxhciBib3VuZGluZyBhcmVhXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGV4dCB3aGVuIG5lZWRlZFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKiBAZGVmYXVsdCAweGZmZmZmZlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGludDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl90aW50ID09PSB2YWx1ZSlcbiAgICAgICAgICAgICAgICB7IHJldHVybjsgfVxuICAgICAgICAgICAgdGhpcy5fdGludCA9IHZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWN0aXZlUGFnZXNNZXNoRGF0YVtpXS5tZXNoLnRpbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJhbGlnblwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYWxpZ25tZW50IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAZGVmYXVsdCAnbGVmdCdcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FsaWduO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2FsaWduICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FsaWduID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiZm9udE5hbWVcIiwge1xuICAgICAgICAvKiogVGhlIG5hbWUgb2YgdGhlIEJpdG1hcEZvbnQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnROYW1lO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFCaXRtYXBGb250LmF2YWlsYWJsZVt2YWx1ZV0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fZm9udE5hbWUgIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9udE5hbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250U2l6ZVwiLCB7XG4gICAgICAgIC8qKiBUaGUgc2l6ZSBvZiB0aGUgZm9udCB0byBkaXNwbGF5LiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb250U2l6ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250U2l6ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250U2l6ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFuY2hvclwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5jaG9yIHNldHMgdGhlIG9yaWdpbiBwb2ludCBvZiB0aGUgdGV4dC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIGRlZmF1bHQgaXMgYCgwLDApYCwgdGhpcyBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyB0aGUgdG9wIGxlZnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFNldHRpbmcgdGhlIGFuY2hvciB0byBgKDAuNSwwLjUpYCBtZWFucyB0aGUgdGV4dCdzIG9yaWdpbiBpcyBjZW50ZXJlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMSwxKWAgd291bGQgbWVhbiB0aGUgdGV4dCdzIG9yaWdpbiBwb2ludCB3aWxsIGJlIHRoZSBib3R0b20gcmlnaHQgY29ybmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYW5jaG9yO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmNob3Iuc2V0KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwidGV4dFwiLCB7XG4gICAgICAgIC8qKiBUaGUgdGV4dCBvZiB0aGUgQml0bWFwVGV4dCBvYmplY3QuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RleHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHQpIHtcbiAgICAgICAgICAgIHRleHQgPSBTdHJpbmcodGV4dCA9PT0gbnVsbCB8fCB0ZXh0ID09PSB1bmRlZmluZWQgPyAnJyA6IHRleHQpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RleHQgPT09IHRleHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90ZXh0ID0gdGV4dDtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcIm1heFdpZHRoXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggd2lkdGggb2YgdGhpcyBiaXRtYXAgdGV4dCBpbiBwaXhlbHMuIElmIHRoZSB0ZXh0IHByb3ZpZGVkIGlzIGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgKiB2YWx1ZSBwcm92aWRlZCwgbGluZSBicmVha3Mgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGluc2VydGVkIGluIHRoZSBsYXN0IHdoaXRlc3BhY2UuXG4gICAgICAgICAqIERpc2FibGUgYnkgc2V0dGluZyB0aGUgdmFsdWUgdG8gMC5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21heFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21heFdpZHRoID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heFdpZHRoID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJtYXhMaW5lSGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpLmUuIHdoZW4gdHJ5aW5nIHRvIHZlcnRpY2FsbHkgYWxpZ24uXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGluZUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dFdpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImxldHRlclNwYWNpbmdcIiwge1xuICAgICAgICAvKiogQWRkaXRpb25hbCBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldHRlclNwYWNpbmc7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGV0dGVyU3BhY2luZyAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZXR0ZXJTcGFjaW5nID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwicm91bmRQaXhlbHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZywgc3RvcHBpbmcgcGl4ZWwgaW50ZXJwb2xhdGlvbi5cbiAgICAgICAgICogQWR2YW50YWdlcyBjYW4gaW5jbHVkZSBzaGFycGVyIGltYWdlIHF1YWxpdHkgKGxpa2UgdGV4dCkgYW5kIGZhc3RlciByZW5kZXJpbmcgb24gY2FudmFzLlxuICAgICAgICAgKiBUaGUgbWFpbiBkaXNhZHZhbnRhZ2UgaXMgbW92ZW1lbnQgb2Ygb2JqZWN0cyBtYXkgYXBwZWFyIGxlc3Mgc21vb3RoLlxuICAgICAgICAgKiBUbyBzZXQgdGhlIGdsb2JhbCBkZWZhdWx0LCBjaGFuZ2Uge0BsaW5rIFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTfVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcm91bmRQaXhlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHRoaXMuX3JvdW5kUGl4ZWxzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcm91bmRQaXhlbHMgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0SGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBoZWlnaHQgb2YgdGhlIG92ZXJhbGwgdGV4dCwgZGlmZmVyZW50IGZyb20gZm9udFNpemUsXG4gICAgICAgICAqIHdoaWNoIGlzIGRlZmluZWQgaW4gdGhlIHN0eWxlIG9iamVjdC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0SGVpZ2h0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInJlc29sdXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHJlc29sdXRpb24gLyBkZXZpY2UgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBpcyBzZXQgdG8gYXV0b21hdGljYWxseSBtYXRjaCB0aGUgcmVuZGVyZXIgcmVzb2x1dGlvbiBieSBkZWZhdWx0LCBidXQgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyBtYW51YWxseS5cbiAgICAgICAgICogQGRlZmF1bHQgMVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x1dGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9SZXNvbHV0aW9uID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fcmVzb2x1dGlvbiA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHV0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICB2YXIgX3RleHR1cmVDYWNoZSA9IHRoaXMuX3RleHR1cmVDYWNoZTtcbiAgICAgICAgZm9yICh2YXIgaWQgaW4gX3RleHR1cmVDYWNoZSkge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgICAgIHRleHR1cmUuZGVzdHJveSgpO1xuICAgICAgICAgICAgZGVsZXRlIF90ZXh0dXJlQ2FjaGVbaWRdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RleHR1cmVDYWNoZSA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMsIG9wdGlvbnMpO1xuICAgIH07XG4gICAgQml0bWFwVGV4dC5zdHlsZURlZmF1bHRzID0ge1xuICAgICAgICBhbGlnbjogJ2xlZnQnLFxuICAgICAgICB0aW50OiAweEZGRkZGRixcbiAgICAgICAgbWF4V2lkdGg6IDAsXG4gICAgICAgIGxldHRlclNwYWNpbmc6IDAsXG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwVGV4dDtcbn0oZGlzcGxheS5Db250YWluZXIpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nXG4gKiBiaXRtYXAtYmFzZWQgZm9udHMgc3VpdGFibGUgZm9yIHVzaW5nIHdpdGgge0BsaW5rIFBJWEkuQml0bWFwVGV4dH0uXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQml0bWFwRm9udExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBCaXRtYXBGb250TG9hZGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgcGx1Z2luIGlzIGluc3RhbGxlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvYWRlcnMuTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSgnZm50JywgbG9hZGVycy5Mb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGxlZCBhZnRlciBhIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLmxvYWRlck1pZGRsZXdhcmVcbiAgICAgKiBAcGFyYW0gdGhpc1xuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIC8vIFJlc291cmNlIHdhcyBub3QgcmVjb2duaXNlZCBhcyBhbnkgb2YgdGhlIGV4cGVjdGVkIGZvbnQgZGF0YSBmb3JtYXRcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVVybCA9IEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgIHZhciBkYXRhID0gZm9ybWF0LnBhcnNlKHJlc291cmNlLmRhdGEpO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gZGF0YS5wYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwYWdlRmlsZSA9IGRhdGEucGFnZVtpXS5maWxlO1xuICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYml0bWFwUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IGxvYWRlcnMuTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YTogT2JqZWN0LmFzc2lnbih7IHBhZ2VGaWxlOiBwYWdlRmlsZSB9LCByZXNvdXJjZS5tZXRhZGF0YS5pbWFnZU1ldGFkYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50UmVzb3VyY2U6IHJlc291cmNlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQodXJsLCBvcHRpb25zLCBjb21wbGV0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgZm9sZGVyIHBhdGggZnJvbSBhIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBsb2FkZXJcbiAgICAgKiBAcGFyYW0gcmVzb3VyY2VcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwgPSBmdW5jdGlvbiAobG9hZGVyLCByZXNvdXJjZSkge1xuICAgICAgICB2YXIgcmVzVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmIChyZXNVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHJlc1VybCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsICYmIHJlc1VybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHJlc1VybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybC5jaGFyQXQobG9hZGVyLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHJlc1VybFxuICAgICAgICByZXNVcmwgPSByZXNVcmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiByZXNVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmIChyZXNVcmwgJiYgcmVzVXJsLmNoYXJBdChyZXNVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzVXJsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBQYXRoIHRvIGdldCBkaXJlY3RvcnkgZm9yXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5kaXJuYW1lID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgZGlyID0gdXJsXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpIC8vIGNvbnZlcnQgd2luZG93cyBub3RhdGlvbiB0byBVTklYIG5vdGF0aW9uLCBVUkwtc2FmZSBiZWNhdXNlIGl0J3MgYSBmb3JiaWRkZW4gY2hhcmFjdGVyXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvJC8sICcnKSAvLyByZXBsYWNlIHRyYWlsaW5nIHNsYXNoXG4gICAgICAgICAgICAucmVwbGFjZSgvXFwvW15cXC9dKiQvLCAnJyk7IC8vIHJlbW92ZSBldmVyeXRoaW5nIGFmdGVyIHRoZSBsYXN0XG4gICAgICAgIC8vIEZpbGUgcmVxdWVzdCBpcyByZWxhdGl2ZSwgdXNlIGN1cnJlbnQgZGlyZWN0b3J5XG4gICAgICAgIGlmIChkaXIgPT09IHVybCkge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBTdGFydGVkIHdpdGggYSBzbGFzaFxuICAgICAgICBlbHNlIGlmIChkaXIgPT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaXI7XG4gICAgfTtcbiAgICByZXR1cm4gQml0bWFwRm9udExvYWRlcjtcbn0oKSk7XG5cbmV4cG9ydHMuQml0bWFwRm9udCA9IEJpdG1hcEZvbnQ7XG5leHBvcnRzLkJpdG1hcEZvbnREYXRhID0gQml0bWFwRm9udERhdGE7XG5leHBvcnRzLkJpdG1hcEZvbnRMb2FkZXIgPSBCaXRtYXBGb250TG9hZGVyO1xuZXhwb3J0cy5CaXRtYXBUZXh0ID0gQml0bWFwVGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmpzLm1hcFxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwibWF0aCIsInNldHRpbmdzIiwibWVzaCIsInV0aWxzIiwiY29yZSIsInRleHQiLCJjb25zdGFudHMiLCJkaXNwbGF5IiwibG9hZGVycyIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJCaXRtYXBGb250RGF0YSIsInRoaXMiLCJpbmZvIiwiY29tbW9uIiwicGFnZSIsImNoYXIiLCJrZXJuaW5nIiwiZGlzdGFuY2VGaWVsZCIsIlRleHRGb3JtYXQiLCJ0ZXN0IiwiZGF0YSIsImluZGV4T2YiLCJwYXJzZSIsInR4dCIsIml0ZW1zIiwibWF0Y2giLCJyYXdEYXRhIiwiY2hhcnMiLCJrZXJuaW5ncyIsImkiLCJuYW1lIiwiYXR0cmlidXRlTGlzdCIsIml0ZW1EYXRhIiwiaV8xIiwic3BsaXQiLCJrZXkiLCJzdHJWYWx1ZSIsInJlcGxhY2UiLCJmbG9hdFZhbHVlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwicHVzaCIsImZvbnQiLCJmb3JFYWNoIiwiZmFjZSIsInNpemUiLCJwYXJzZUludCIsImxpbmVIZWlnaHQiLCJpZCIsImZpbGUiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwieG9mZnNldCIsInlvZmZzZXQiLCJ4YWR2YW5jZSIsImZpcnN0Iiwic2Vjb25kIiwiYW1vdW50IiwiZGYiLCJkaXN0YW5jZVJhbmdlIiwiZmllbGRUeXBlIiwiWE1MRm9ybWF0IiwiWE1MRG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInhtbCIsImxldHRlciIsIlhNTFN0cmluZ0Zvcm1hdCIsImdsb2JhbFRoaXMiLCJET01QYXJzZXIiLCJwYXJzZUZyb21TdHJpbmciLCJ4bWxUeHQiLCJmb3JtYXRzIiwiYXV0b0RldGVjdEZvcm1hdCIsImRyYXdHbHlwaCIsImNhbnZhcyIsImNvbnRleHQiLCJtZXRyaWNzIiwicmVzb2x1dGlvbiIsInN0eWxlIiwiZm9udFByb3BlcnRpZXMiLCJ0cmFuc2xhdGUiLCJzY2FsZSIsInR4Iiwic3Ryb2tlVGhpY2tuZXNzIiwidHkiLCJ0b0ZvbnRTdHJpbmciLCJsaW5lV2lkdGgiLCJ0ZXh0QmFzZWxpbmUiLCJsaW5lSm9pbiIsIm1pdGVyTGltaXQiLCJmaWxsU3R5bGUiLCJsaW5lcyIsImdyYWRpZW50IiwiZmlsbCIsImlzQXJyYXkiLCJkcm9wU2hhZG93Q29ycmVjdGlvbiIsImRyb3BTaGFkb3dEaXN0YW5jZSIsInBhZGRpbmciLCJzbGljZSIsImZpbGxHcmFkaWVudFN0b3BzIiwibGVuZ3RoUGx1czEiLCJ1bnNoaWZ0IiwiZmlsbEdyYWRpZW50VHlwZSIsIlRFWFRfR1JBRElFTlQiLCJMSU5FQVJfVkVSVElDQUwiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImxhc3RJdGVyYXRpb25TdG9wIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwiZm9udFNpemUiLCJ0aGlzTGluZVRvcCIsImoiLCJnbG9iYWxTdG9wIiwiY2xhbXBlZFN0b3AiLCJNYXRoIiwibWF4IiwibWluIiwiYWRkQ29sb3JTdG9wIiwidG90YWxJdGVyYXRpb25zIiwiY3VycmVudEl0ZXJhdGlvbiIsInN0b3AiLCJnZW5lcmF0ZUZpbGxTdHlsZSIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwiZHJvcFNoYWRvdyIsImRyb3BTaGFkb3dDb2xvciIsInJnYiIsImhleDJyZ2IiLCJzdHJpbmcyaGV4IiwiZHJvcFNoYWRvd0JsdXIiLCJzaGFkb3dDb2xvciIsImRyb3BTaGFkb3dBbHBoYSIsInNoYWRvd0JsdXIiLCJzaGFkb3dPZmZzZXRYIiwiY29zIiwiZHJvcFNoYWRvd0FuZ2xlIiwic2hhZG93T2Zmc2V0WSIsInNpbiIsInN0cm9rZVRleHQiLCJkZXNjZW50IiwiZmlsbFRleHQiLCJzZXRUcmFuc2Zvcm0iLCJzcGxpdFRleHRUb0NoYXJhY3RlcnMiLCJmcm9tIiwiZXh0cmFjdENoYXJDb2RlIiwic3RyIiwiY29kZVBvaW50QXQiLCJjaGFyQ29kZUF0IiwiQml0bWFwRm9udCIsInRleHR1cmVzIiwib3duc1RleHR1cmVzIiwiX2EiLCJfYiIsInJlcyIsImdldFJlc29sdXRpb25PZlVybCIsInBhZ2VUZXh0dXJlcyIsIl9vd25zVGV4dHVyZXMiLCJfYyIsImJhc2VUZXh0dXJlIiwiYWxwaGFNb2RlIiwiQUxQSEFfTU9ERVMiLCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBIiwiX2QiLCJwYWdlXzEiLCJfZSIsInJlY3QiLCJSZWN0YW5nbGUiLCJmcmFtZSIsInhPZmZzZXQiLCJ5T2Zmc2V0IiwieEFkdmFuY2UiLCJ0ZXh0dXJlIiwiVGV4dHVyZSIsIl9mIiwiZGlzdGFuY2VGaWVsZFJhbmdlIiwiZGlzdGFuY2VGaWVsZFR5cGUiLCJ0b0xvd2VyQ2FzZSIsInByb3RvdHlwZSIsImRlc3Ryb3kiLCJpbnN0YWxsIiwiZm9udERhdGEiLCJmb3JtYXQiLCJFcnJvciIsImF2YWlsYWJsZSIsInVuaW5zdGFsbCIsInRleHRTdHlsZSIsIm9wdGlvbnMiLCJhc3NpZ24iLCJkZWZhdWx0T3B0aW9ucyIsInRleHR1cmVXaWR0aCIsInRleHR1cmVIZWlnaHQiLCJjaGFyc0xpc3QiLCJyZXN1bHQiLCJpdGVtIiwic3RhcnRDb2RlIiwiZW5kQ29kZSIsImpfMSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJCYXNlVGV4dHVyZSIsIlRleHRNZXRyaWNzIiwibWVhc3VyZVRleHQiLCJjZWlsIiwidGV4dHVyZUdseXBoV2lkdGgiLCJmb250U3R5bGUiLCJsZW4iLCJjMSIsImMyIiwidW5kZWZpbmVkIiwiQUxQSEEiLCJOVU1FUklDIiwiQUxQSEFOVU1FUklDIiwiQVNDSUkiLCJwYWdlTWVzaERhdGFEZWZhdWx0UGFnZU1lc2hEYXRhIiwicGFnZU1lc2hEYXRhTVNERlBhZ2VNZXNoRGF0YSIsImNoYXJSZW5kZXJEYXRhUG9vbCIsIkJpdG1hcFRleHQiLCJfc3VwZXIiLCJfdGhpcyIsImNhbGwiLCJfdGludCIsInN0eWxlRGVmYXVsdHMiLCJhbGlnbiIsInRpbnQiLCJtYXhXaWR0aCIsImxldHRlclNwYWNpbmciLCJmb250TmFtZSIsIl9hY3RpdmVQYWdlc01lc2hEYXRhIiwiX3RleHRXaWR0aCIsIl90ZXh0SGVpZ2h0IiwiX2FsaWduIiwiX2ZvbnROYW1lIiwiX2ZvbnRTaXplIiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9hbmNob3IiLCJPYnNlcnZhYmxlUG9pbnQiLCJkaXJ0eSIsIl9yb3VuZFBpeGVscyIsIlJPVU5EX1BJWEVMUyIsIl9yZXNvbHV0aW9uIiwiUkVTT0xVVElPTiIsIl9hdXRvUmVzb2x1dGlvbiIsIl90ZXh0dXJlQ2FjaGUiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19leHRlbmRzIiwidXBkYXRlVGV4dCIsInBvcyIsIlBvaW50IiwibGluZVdpZHRocyIsImxpbmVTcGFjZXMiLCJjaGFyc0lucHV0IiwiX3RleHQiLCJwYWdlTWVzaERhdGFQb29sIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsIm1heExpbmVXaWR0aCIsImxpbmUiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJtYXhMaW5lSGVpZ2h0Iiwic3BhY2VDb3VudCIsImNoYXJDb2RlIiwiY2hhckRhdGEiLCJjaGFyUmVuZGVyRGF0YSIsInBvcCIsIkVNUFRZIiwicHJldlNwYWNlcyIsInBvc2l0aW9uIiwib3JpZyIsInJlbW92ZUl0ZW1zIiwibGFzdENoYXIiLCJsaW5lQWxpZ25PZmZzZXRzIiwiYWxpZ25PZmZzZXQiLCJsZW5DaGFycyIsInBhZ2VzTWVzaERhdGEiLCJuZXdQYWdlc01lc2hEYXRhIiwiYWN0aXZlUGFnZXNNZXNoRGF0YSIsImJhc2VUZXh0dXJlVWlkIiwidWlkIiwicGFnZU1lc2hEYXRhIiwiZ2VvbWV0cnkiLCJNZXNoR2VvbWV0cnkiLCJtYXRlcmlhbCIsIm1lc2hCbGVuZE1vZGUiLCJNZXNoTWF0ZXJpYWwiLCJCTEVORF9NT0RFUyIsIk5PUk1BTCIsInByb2dyYW0iLCJQcm9ncmFtIiwidW5pZm9ybXMiLCJ1RldpZHRoIiwiTk9STUFMX05QTSIsIm1lc2gkMSIsIk1lc2giLCJibGVuZE1vZGUiLCJpbmRleCIsImluZGV4Q291bnQiLCJ2ZXJ0ZXhDb3VudCIsInV2c0NvdW50IiwidG90YWwiLCJ2ZXJ0aWNlcyIsInV2cyIsImluZGljZXMiLCJyZW1vdmVDaGlsZCIsInBhcmVudCIsImFkZENoaWxkIiwiQkFUQ0hBQkxFX1NJWkUiLCJGbG9hdDMyQXJyYXkiLCJVaW50MTZBcnJheSIsInRvdGFsXzEiLCJvZmZzZXQiLCJyb3VuZCIsInhQb3MiLCJ5UG9zIiwicGFnZU1lc2giLCJ0ZXh0dXJlRnJhbWUiLCJ0ZXh0dXJlVXZzIiwiX3V2cyIsIngwIiwieTAiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIngzIiwieTMiLCJhbmNob3IiLCJhbmNob3JPZmZzZXRYIiwiYW5jaG9yT2Zmc2V0WSIsImlfMiIsInZlcnRleEJ1ZmZlciIsImdldEJ1ZmZlciIsInRleHR1cmVCdWZmZXIiLCJpbmRleEJ1ZmZlciIsImdldEluZGV4IiwidXBkYXRlIiwidXBkYXRlVHJhbnNmb3JtIiwidmFsaWRhdGUiLCJjb250YWluZXJVcGRhdGVUcmFuc2Zvcm0iLCJfcmVuZGVyIiwicmVuZGVyZXIiLCJ3b3JsZFRyYW5zZm9ybSIsImEiLCJjIiwiZHgiLCJzcXJ0IiwiZHkiLCJ3b3JsZFNjYWxlIiwiYWJzIiwiZm9udFNjYWxlIiwiX2kiLCJzaGFkZXIiLCJnZXRMb2NhbEJvdW5kcyIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJjb3B5RnJvbSIsIkNvbnRhaW5lciIsIkJpdG1hcEZvbnRMb2FkZXIiLCJhZGQiLCJMb2FkZXJSZXNvdXJjZSIsInNldEV4dGVuc2lvblhoclR5cGUiLCJYSFJfUkVTUE9OU0VfVFlQRSIsIlRFWFQiLCJ1c2UiLCJyZXNvdXJjZSIsIm5leHQiLCJiYXNlVXJsIiwiZ2V0QmFzZVVybCIsImNvbXBsZXRlZCIsIm1ldGFkYXRhIiwicGFnZUZpbGUiLCJrZXlzIiwiYml0bWFwRm9udCIsInVybCIsImV4aXN0cyIsInJlc291cmNlcyIsImJpdG1hcFJlc291cmNlIiwib25BZnRlck1pZGRsZXdhcmUiLCJjcm9zc09yaWdpbiIsImxvYWRUeXBlIiwiTE9BRF9UWVBFIiwiSU1BR0UiLCJpbWFnZU1ldGFkYXRhIiwicGFyZW50UmVzb3VyY2UiLCJsb2FkZXIiLCJyZXNVcmwiLCJpc0RhdGFVcmwiLCJkaXJuYW1lIiwiY2hhckF0IiwiZGlyIl0sInNvdXJjZVJvb3QiOiIifQ==