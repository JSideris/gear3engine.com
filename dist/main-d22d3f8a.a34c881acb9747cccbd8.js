"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[9115],{3208:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var r,a=arguments.length,o=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const o=i(5412),h=i(7203),n=i(8521),l=a(i(9493));let d=class extends o.GameObject{constructor(){super(),this.chunks={},this.canvasPlugin=this.gi.getPlugin(h.Canvas2dPlugin),this.isInitialized=!1,this.leftSoftCursor=0,this.rightSoftCursor=0,this.topSoftCursor=0,this.bottomSoftCursor=0,this.farLeftCursor=0,this.farRightCursor=0,this.farTopCursor=0,this.farBottomCursor=0,this.optimization=this.optimization??"culling",this.chunkSize=this.chunkSize??1024,this.parallaxScale=this.parallaxScale??1,this.canvasPlugin.backdrops[this.id]=this,this.hybridRange=this.hybridRange||8,this.displayObject=new l.default.Container}loadChunk(t,e){if(this.chunks[t]||(this.chunks[t]={}),this.chunks[t][e])this.chunks[t][e].displayObject.visible=!0;else{this.chunks[t][e]={displayObject:null,props:[]};let i=this.renderChunk(t,e);i?(this.chunks[t][e].displayObject=i,i.position.set(t*this.chunkSize,e*this.chunkSize),this.displayObject.addChild(i)):delete this.chunks[t][e]}}hideChunk(t,e){let i=this.chunks[t];if(!i)return;let s=i[e];if(s)if(s.displayObject){s.displayObject.visible=!1;for(let t of s.props);}else console.log("Loaded chunk with no DP?",s)}deleteChunk(t,e){let i=this.chunks[t];if(!i)return;let s=i[e];if(s){this.displayObject.removeChild(s.displayObject);for(let t of s.props)this.gi.destroyObject(t,o.DeathType.Unloaded);delete this.chunks[t][e]}}destroy(t){super.destroy(t),delete this.canvasPlugin.backdrops[this.id]}updateCursors(t,e,i,s){if(this.isInitialized||(this.leftSoftCursor=i,this.rightSoftCursor=s,this.topSoftCursor=t,this.bottomSoftCursor=t-1,this.isInitialized=!0),"none"!=this.optimization){for(let t=this.leftSoftCursor;t<i;t++)for(let e=this.topSoftCursor;e<=this.bottomSoftCursor;e++)this.onOutOfRange(t,e);for(let t=this.rightSoftCursor;t>s;t--)for(let e=this.topSoftCursor;e<=this.bottomSoftCursor;e++)this.onOutOfRange(t,e);for(let e=this.topSoftCursor;e<t;e++)for(let t=this.leftSoftCursor;t<=this.rightSoftCursor;t++)this.onOutOfRange(t,e);for(let t=this.bottomSoftCursor;t>e;t--)for(let e=this.leftSoftCursor;e<=this.rightSoftCursor;e++)this.onOutOfRange(e,t)}if("hybrid"==this.optimization){for(let t=this.farLeftCursor;t<i-this.hybridRange;t++)for(let e=this.farTopCursor;e<=this.farBottomCursor;e++)this.deleteChunk(t,e);for(let t=this.farRightCursor;t>s+this.hybridRange;t--)for(let e=this.farTopCursor;e<=this.farBottomCursor;e++)this.deleteChunk(t,e);for(let e=this.farTopCursor;e<t-this.hybridRange;e++)for(let t=this.farLeftCursor;t<=this.farRightCursor;t++)this.deleteChunk(t,e);for(let t=this.farBottomCursor;t>e+this.hybridRange;t--)for(let e=this.farLeftCursor;e<=this.farRightCursor;e++)this.deleteChunk(e,t)}for(let s=this.leftSoftCursor;s>i;s--)for(let i=t;i<=e;i++)this.loadChunk(s-1,i);for(let i=this.rightSoftCursor;i<s;i++)for(let s=t;s<=e;s++)this.loadChunk(i+1,s);for(let e=this.topSoftCursor;e>t;e--)for(let t=i;t<=s;t++)this.loadChunk(t,e-1);for(let t=this.bottomSoftCursor;t<e;t++)for(let e=i;e<=s;e++)this.loadChunk(e,t+1);this.topSoftCursor=t,this.bottomSoftCursor=e,this.leftSoftCursor=i,this.rightSoftCursor=s,this.farLeftCursor=i-this.hybridRange,this.farRightCursor=s+this.hybridRange,this.farTopCursor=t-this.hybridRange,this.farBottomCursor=e+this.hybridRange}hideAll(){if(this.isInitialized){this.isInitialized=!1;for(let t=this.leftSoftCursor;t<=this.rightSoftCursor;t++)for(let e=this.topSoftCursor;e<=this.bottomSoftCursor;e++)this.onOutOfRange(t,e)}}onOutOfRange(t,e){switch(this.optimization){case"culling":case"hybrid":this.hideChunk(t,e);break;case"unloading":this.deleteChunk(t,e)}}addProp(t,e,i){this.chunks[t][e].props.push(i)}};d=s([n.drawable2d,r("design:paramtypes",[])],d),e.default=d},8616:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var r,a=arguments.length,o=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(e,"__esModule",{value:!0});const a=i(5412),o=i(8521);let h=class extends a.GameObject{constructor(){super(),this.#t=0,this.#e=0,this.shakeVectorM=new a.Vector3,this.debugScale=1,this.lastScale=1,this.lastPointerScreenPosition=new a.Vector3,this.viewWidthM=this.viewWidthM??80,this.viewHeightM=this.viewHeightM??45,this.disableDrawUpdate=!0,this.resize()}#t;#e;shake(t){this.#e+=t}resize(){this.widthPx=window.innerWidth,this.heightPx=window.innerHeight}drawUpdate(t,e,i){(this.#e>0||this.#t>0||this.shakeVectorM.x||this.shakeVectorM.y)&&(this.#t+=.2*(this.#e-this.#t),this.#e*=.9,this.#t<.1&&(this.#t=0),this.#e<.1&&(this.#e=0),this.shakeVectorM.x+=(Math.random()-.5)*this.#t,this.shakeVectorM.y+=(Math.random()-.5)*this.#t,this.shakeVectorM.x*=.9,this.shakeVectorM.y*=.9,this.#t||this.#e||(Math.abs(this.shakeVectorM.x)<.1&&(this.shakeVectorM.x=0),Math.abs(this.shakeVectorM.y)<.1&&(this.shakeVectorM.y=0))),this.targetObject?(this.targetObject.drawPosition.subtract(this.drawPosition),this.drawPosition.setToVector(this.targetObject.drawPosition.add(this.shakeVectorM)),this.drawVelocity.setToVector(this.targetObject.drawVelocity)):this.drawPosition.setToVector(this.drawPosition.add(this.shakeVectorM));let s=a.Util.mToP(this.viewHeightM),r=a.Util.mToP(this.viewWidthM),o=1;o=this.viewHeightM/this.viewWidthM>this.heightPx/this.widthPx?this.heightPx/s:this.widthPx/r,this.lastScale=o*this.debugScale,this.pixiWorld.pixiView.scale.set(this.lastScale,this.lastScale),this.pixiWorld.pixiView.x=-this.drawPosition.x*this.lastScale+this.widthPx/2,this.pixiWorld.pixiView.y=-this.drawPosition.y*this.lastScale+this.heightPx/2;for(let t in this.canvas2dPlugin.backdrops){let e=this.canvas2dPlugin.backdrops[t],i=Math.floor((this.drawPosition.x*e.parallaxScale-r/2)/e.chunkSize)-1,o=Math.floor((this.drawPosition.x*e.parallaxScale+r/2)/e.chunkSize)+1,h=Math.floor((this.drawPosition.y*e.parallaxScale-s/2)/e.chunkSize)-1,n=Math.floor((this.drawPosition.y*e.parallaxScale+s/2)/e.chunkSize)+1;(i>e.rightSoftCursor||o<e.leftSoftCursor||h>e.bottomSoftCursor||n<e.topSoftCursor)&&e.hideAll(),e.updateCursors(h,n,i,o),e.setDrawPosition(new a.Vector3(this.drawPosition.x*(1-e.parallaxScale),this.drawPosition.y*(1-e.parallaxScale)))}}};h=s([o.drawable2d,r("design:paramtypes",[])],h),e.default=h},2716:function(t,e,i){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=i(565),a=i(5412),o=s(i(8616)),h=s(i(8334));class n extends a.GameInstancePlugin{constructor(t){super(),this.dependencies=[r.GameClientPlugin],this.lastKnownPhysicsUpdate=0,this.backdrops={},this.config=t}initialize(){this.gameClientPlugin=this.gameInstance.getPlugin(r.GameClientPlugin),this.gameInstance.on("gameStart",(()=>{this.pixiWorld=this.gameInstance.make(h.default,(t=>{t.target=this.config?.target,t.disableScroll=this.config?.disableScroll})),this.camera=this.gameInstance.make(o.default),this.gameClientPlugin.params.useRealCursor,this.resize()})),this.gameInstance.on("gameOver",(()=>{this.gameInstance.destroyObject(this.camera,a.DeathType.GameOver),this.camera=null,this.gameInstance.destroyObject(this.pixiWorld,a.DeathType.GameOver),this.pixiWorld=null})),this.gameInstance.on("renderUpdate",((t,e,i)=>{this.pixiWorld.drawUpdate(t,e,i),this.camera&&this.camera.drawUpdate(t,e,i)})),this.gameInstance.on("resize",(()=>{this.resize()})),this.gameInstance.on("physicsUpdate",((t,e)=>{this.lastKnownPhysicsUpdate=performance.now()/1e3})),this.gameInstance.registerRemoteTriggerHandler("trackObject",(t=>{if(!this.camera)throw new Error("The server attempted to track an object, but the camera does not exist.");{let e=this.gameInstance.remoteGameObjectsById[t.data[0]?.value];if(!e)throw new Error(`The server attempted to track an object, but the objct could not be found client-side. Remote ID: ${t.data.id}.`);if(e.is("drawable-2d"))this.camera.targetObject=e;else{let t=a.GameObject.getExtensionByLabel(e,"drawable-2d");if(!t)throw new Error(`Unable to track object ${e.id} because it is not drawable and doesn't have a drawable extension.`);this.camera.targetObject=t}}}))}resize(){this.pixiWorld&&this.pixiWorld.resize(),this.camera&&this.camera.resize()}destroy(){}}e.default=n},6408:function(t,e,i){var s=this&&this.__decorate||function(t,e,i,s){var r,a=arguments.length,o=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var h=t.length-1;h>=0;h--)(r=t[h])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor2dPainter=void 0;const o=i(5412),h=i(8521),n=a(i(9493));class l extends o.GameObject{}e.default=l;let d=class extends o.GameObject{constructor(){super(),this.target.painter=this}draw(){let t=new n.default.Graphics;t.beginFill(0),t.drawRect(-11,-2,22,4),t.drawRect(-2,-11,4,22),t.beginFill(16777215),t.drawRect(-10,-1,20,2),t.drawRect(-1,-10,2,20),this.displayObject=t}drawUpdate(t,e,i){}};d=s([h.drawable2d,(0,o.extension)(l),r("design:paramtypes",[])],d),e.Cursor2dPainter=d}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU95SyxRQUFVM0ssSUFDMUIsQ0FDQTRLLE9BQ0ksSUFHSUMsRUFBTyxJQUFJakosRUFBYzBCLFFBQVF3SCxTQUNyQ0QsRUFBS0UsVUFBVSxHQUNmRixFQUFLRyxVQUFTLElBQVksRUFBWUMsR0FBV0MsR0FDakRMLEVBQUtHLFVBQVMsR0FBWSxHQUFZRSxFQUFXRCxJQUNqREosRUFBS0UsVUFBVSxVQUNmRixFQUFLRyxVQUFTLElBQVEsRUFSZCxHQUNBLEdBUVJILEVBQUtHLFVBQVMsR0FBUSxHQVJkLEVBREEsSUFVUmhMLEtBQUtxRCxjQUFnQndILENBQ3pCLENBQ0EvRCxXQUFXQyxFQUFJQyxFQUFNQyxHQUNyQixHQUVKd0QsRUFBa0IxSyxFQUFXLENBQ3pCNEIsRUFBY2lFLFlBQ2QsRUFBSW5FLEVBQWMwSixXQUFXVCxHQUM3QjFKLEVBQVcsb0JBQXFCLEtBQ2pDeUosR0FDSGxKLEVBQVFrSixnQkFBa0JBLEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZzNlLWNhbnZhcy0yZC9idWlsZC9iYWNrZHJvcC0yZC5qcyIsIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZzNlLWNhbnZhcy0yZC9idWlsZC9jYW1lcmEtMmQuanMiLCJ3ZWJwYWNrOi8vZ2VhcjNlbmdpbmUtd2Vic2l0ZS8uLi8uLi9HQU1FUy1TSU1VTEFUT1JTLUZVTi9nZWFyM2VuZ2luZS9wbHVnaW5zL2czZS1jYW52YXMtMmQvYnVpbGQvY2FudmFzLTJkLXBsdWdpbi5qcyIsIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZzNlLWNhbnZhcy0yZC9idWlsZC9jdXJzb3ItMmQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG59O1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGdlYXIzZW5naW5lXzEgPSByZXF1aXJlKFwiZ2VhcjNlbmdpbmVcIik7XHJcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XHJcbmNvbnN0IGRyYXdhYmxlXzJkXzEgPSByZXF1aXJlKFwiLi9kcmF3YWJsZS0yZFwiKTtcclxuY29uc3QgbGlic19nZnhfMmRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9saWJzLmdmeC4yZFwiKSk7XHJcbmxldCBCYWNrZHJvcDJkID0gY2xhc3MgQmFja2Ryb3AyZCBleHRlbmRzIGdlYXIzZW5naW5lXzEuR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY2h1bmtzID0ge307XHJcbiAgICAgICAgdGhpcy5jYW52YXNQbHVnaW4gPSB0aGlzLmdpLmdldFBsdWdpbihfMS5DYW52YXMyZFBsdWdpbik7XHJcbiAgICAgICAgdGhpcy5pc0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5sZWZ0U29mdEN1cnNvciA9IDA7XHJcbiAgICAgICAgdGhpcy5yaWdodFNvZnRDdXJzb3IgPSAwO1xyXG4gICAgICAgIHRoaXMudG9wU29mdEN1cnNvciA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3R0b21Tb2Z0Q3Vyc29yID0gMDtcclxuICAgICAgICB0aGlzLmZhckxlZnRDdXJzb3IgPSAwO1xyXG4gICAgICAgIHRoaXMuZmFyUmlnaHRDdXJzb3IgPSAwO1xyXG4gICAgICAgIHRoaXMuZmFyVG9wQ3Vyc29yID0gMDtcclxuICAgICAgICB0aGlzLmZhckJvdHRvbUN1cnNvciA9IDA7XHJcbiAgICAgICAgdGhpcy5vcHRpbWl6YXRpb24gPSB0aGlzLm9wdGltaXphdGlvbiA/PyBcImN1bGxpbmdcIjtcclxuICAgICAgICB0aGlzLmNodW5rU2l6ZSA9IHRoaXMuY2h1bmtTaXplID8/IDEwMjQ7XHJcbiAgICAgICAgdGhpcy5wYXJhbGxheFNjYWxlID0gdGhpcy5wYXJhbGxheFNjYWxlID8/IDE7XHJcbiAgICAgICAgdGhpcy5jYW52YXNQbHVnaW4uYmFja2Ryb3BzW3RoaXMuaWRdID0gdGhpcztcclxuICAgICAgICB0aGlzLmh5YnJpZFJhbmdlID0gdGhpcy5oeWJyaWRSYW5nZSB8fCA4O1xyXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdCA9IG5ldyBsaWJzX2dmeF8yZF8xLmRlZmF1bHQuQ29udGFpbmVyKCk7XHJcbiAgICB9XHJcbiAgICBsb2FkQ2h1bmsoeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5jaHVua3NbeF0pIHtcclxuICAgICAgICAgICAgdGhpcy5jaHVua3NbeF0gPSB7fTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmNodW5rc1t4XVt5XSkge1xyXG4gICAgICAgICAgICB0aGlzLmNodW5rc1t4XVt5XSA9IHtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlPYmplY3Q6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBwcm9wczogW11cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbGV0IG5ld0NodW5rID0gdGhpcy5yZW5kZXJDaHVuayh4LCB5KTtcclxuICAgICAgICAgICAgaWYgKG5ld0NodW5rKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNodW5rc1t4XVt5XS5kaXNwbGF5T2JqZWN0ID0gbmV3Q2h1bms7XHJcbiAgICAgICAgICAgICAgICBuZXdDaHVuay5wb3NpdGlvbi5zZXQoeCAqIHRoaXMuY2h1bmtTaXplLCB5ICogdGhpcy5jaHVua1NpemUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LmFkZENoaWxkKG5ld0NodW5rKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jaHVua3NbeF1beV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNodW5rc1t4XVt5XS5kaXNwbGF5T2JqZWN0LnZpc2libGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGhpZGVDaHVuayh4LCB5KSB7XHJcbiAgICAgICAgbGV0IFggPSB0aGlzLmNodW5rc1t4XTtcclxuICAgICAgICBpZiAoIVgpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICBsZXQgWSA9IFhbeV07XHJcbiAgICAgICAgaWYgKFkpIHtcclxuICAgICAgICAgICAgaWYgKFkuZGlzcGxheU9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgWS5kaXNwbGF5T2JqZWN0LnZpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHAgb2YgWS5wcm9wcykge1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMb2FkZWQgY2h1bmsgd2l0aCBubyBEUD9cIiwgWSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBkZWxldGVDaHVuayh4LCB5KSB7XHJcbiAgICAgICAgbGV0IHJvdyA9IHRoaXMuY2h1bmtzW3hdO1xyXG4gICAgICAgIGlmICghcm93KVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgbGV0IGNodW5rID0gcm93W3ldO1xyXG4gICAgICAgIGlmICghY2h1bmspXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3QucmVtb3ZlQ2hpbGQoY2h1bmsuZGlzcGxheU9iamVjdCk7XHJcbiAgICAgICAgZm9yIChsZXQgcCBvZiBjaHVuay5wcm9wcykge1xyXG4gICAgICAgICAgICB0aGlzLmdpLmRlc3Ryb3lPYmplY3QocCwgZ2VhcjNlbmdpbmVfMS5EZWF0aFR5cGUuVW5sb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5jaHVua3NbeF1beV07XHJcbiAgICB9XHJcbiAgICBkZXN0cm95KGRlYXRoVHlwZSkge1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koZGVhdGhUeXBlKTtcclxuICAgICAgICBkZWxldGUgdGhpcy5jYW52YXNQbHVnaW4uYmFja2Ryb3BzW3RoaXMuaWRdO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQ3Vyc29ycyhuZXdUb3AsIG5ld0JvdHRvbSwgbmV3TGVmdCwgbmV3UmlnaHQpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxlZnRTb2Z0Q3Vyc29yID0gbmV3TGVmdDtcclxuICAgICAgICAgICAgdGhpcy5yaWdodFNvZnRDdXJzb3IgPSBuZXdSaWdodDtcclxuICAgICAgICAgICAgdGhpcy50b3BTb2Z0Q3Vyc29yID0gbmV3VG9wO1xyXG4gICAgICAgICAgICB0aGlzLmJvdHRvbVNvZnRDdXJzb3IgPSBuZXdUb3AgLSAxO1xyXG4gICAgICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5vcHRpbWl6YXRpb24gIT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVmdFNvZnRDdXJzb3I7IGkgPCBuZXdMZWZ0OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSB0aGlzLnRvcFNvZnRDdXJzb3I7IGogPD0gdGhpcy5ib3R0b21Tb2Z0Q3Vyc29yOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uT3V0T2ZSYW5nZShpLCBqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5yaWdodFNvZnRDdXJzb3I7IGkgPiBuZXdSaWdodDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy50b3BTb2Z0Q3Vyc29yOyBqIDw9IHRoaXMuYm90dG9tU29mdEN1cnNvcjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk91dE9mUmFuZ2UoaSwgaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudG9wU29mdEN1cnNvcjsgaSA8IG5ld1RvcDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5sZWZ0U29mdEN1cnNvcjsgaiA8PSB0aGlzLnJpZ2h0U29mdEN1cnNvcjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk91dE9mUmFuZ2UoaiwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYm90dG9tU29mdEN1cnNvcjsgaSA+IG5ld0JvdHRvbTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5sZWZ0U29mdEN1cnNvcjsgaiA8PSB0aGlzLnJpZ2h0U29mdEN1cnNvcjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk91dE9mUmFuZ2UoaiwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMub3B0aW1pemF0aW9uID09IFwiaHlicmlkXCIpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmFyTGVmdEN1cnNvcjsgaSA8IG5ld0xlZnQgLSB0aGlzLmh5YnJpZFJhbmdlOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSB0aGlzLmZhclRvcEN1cnNvcjsgaiA8PSB0aGlzLmZhckJvdHRvbUN1cnNvcjsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaHVuayhpLCBqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5mYXJSaWdodEN1cnNvcjsgaSA+IG5ld1JpZ2h0ICsgdGhpcy5oeWJyaWRSYW5nZTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5mYXJUb3BDdXJzb3I7IGogPD0gdGhpcy5mYXJCb3R0b21DdXJzb3I7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2h1bmsoaSwgaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmFyVG9wQ3Vyc29yOyBpIDwgbmV3VG9wIC0gdGhpcy5oeWJyaWRSYW5nZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5mYXJMZWZ0Q3Vyc29yOyBqIDw9IHRoaXMuZmFyUmlnaHRDdXJzb3I7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2h1bmsoaiwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuZmFyQm90dG9tQ3Vyc29yOyBpID4gbmV3Qm90dG9tICsgdGhpcy5oeWJyaWRSYW5nZTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gdGhpcy5mYXJMZWZ0Q3Vyc29yOyBqIDw9IHRoaXMuZmFyUmlnaHRDdXJzb3I7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlQ2h1bmsoaiwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubGVmdFNvZnRDdXJzb3I7IGkgPiBuZXdMZWZ0OyBpLS0pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IG5ld1RvcDsgaiA8PSBuZXdCb3R0b207IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQ2h1bmsoaSAtIDEsIGopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnJpZ2h0U29mdEN1cnNvcjsgaSA8IG5ld1JpZ2h0OyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IG5ld1RvcDsgaiA8PSBuZXdCb3R0b207IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkQ2h1bmsoaSArIDEsIGopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLnRvcFNvZnRDdXJzb3I7IGkgPiBuZXdUb3A7IGktLSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gbmV3TGVmdDsgaiA8PSBuZXdSaWdodDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRDaHVuayhqLCBpIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYm90dG9tU29mdEN1cnNvcjsgaSA8IG5ld0JvdHRvbTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBuZXdMZWZ0OyBqIDw9IG5ld1JpZ2h0OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9hZENodW5rKGosIGkgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnRvcFNvZnRDdXJzb3IgPSBuZXdUb3A7XHJcbiAgICAgICAgdGhpcy5ib3R0b21Tb2Z0Q3Vyc29yID0gbmV3Qm90dG9tO1xyXG4gICAgICAgIHRoaXMubGVmdFNvZnRDdXJzb3IgPSBuZXdMZWZ0O1xyXG4gICAgICAgIHRoaXMucmlnaHRTb2Z0Q3Vyc29yID0gbmV3UmlnaHQ7XHJcbiAgICAgICAgdGhpcy5mYXJMZWZ0Q3Vyc29yID0gbmV3TGVmdCAtIHRoaXMuaHlicmlkUmFuZ2U7XHJcbiAgICAgICAgdGhpcy5mYXJSaWdodEN1cnNvciA9IG5ld1JpZ2h0ICsgdGhpcy5oeWJyaWRSYW5nZTtcclxuICAgICAgICB0aGlzLmZhclRvcEN1cnNvciA9IG5ld1RvcCAtIHRoaXMuaHlicmlkUmFuZ2U7XHJcbiAgICAgICAgdGhpcy5mYXJCb3R0b21DdXJzb3IgPSBuZXdCb3R0b20gKyB0aGlzLmh5YnJpZFJhbmdlO1xyXG4gICAgfVxyXG4gICAgaGlkZUFsbCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNJbml0aWFsaXplZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxlZnRTb2Z0Q3Vyc29yOyBpIDw9IHRoaXMucmlnaHRTb2Z0Q3Vyc29yOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IHRoaXMudG9wU29mdEN1cnNvcjsgaiA8PSB0aGlzLmJvdHRvbVNvZnRDdXJzb3I7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vbk91dE9mUmFuZ2UoaSwgaik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvbk91dE9mUmFuZ2UoaSwgaikge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRpbWl6YXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImN1bGxpbmdcIjpcclxuICAgICAgICAgICAgY2FzZSBcImh5YnJpZFwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlQ2h1bmsoaSwgaik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInVubG9hZGluZ1wiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWxldGVDaHVuayhpLCBqKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGFkZFByb3AoeCwgeSwgcHJvcCkge1xyXG4gICAgICAgIHRoaXMuY2h1bmtzW3hdW3ldLnByb3BzLnB1c2gocHJvcCk7XHJcbiAgICB9XHJcbn07XHJcbkJhY2tkcm9wMmQgPSBfX2RlY29yYXRlKFtcclxuICAgIGRyYXdhYmxlXzJkXzEuZHJhd2FibGUyZCxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcclxuXSwgQmFja2Ryb3AyZCk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEJhY2tkcm9wMmQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhY2tkcm9wLTJkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19kZWNvcmF0ZSA9ICh0aGlzICYmIHRoaXMuX19kZWNvcmF0ZSkgfHwgZnVuY3Rpb24gKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59O1xyXG52YXIgX19tZXRhZGF0YSA9ICh0aGlzICYmIHRoaXMuX19tZXRhZGF0YSkgfHwgZnVuY3Rpb24gKGssIHYpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShrLCB2KTtcclxufTtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBnZWFyM2VuZ2luZV8xID0gcmVxdWlyZShcImdlYXIzZW5naW5lXCIpO1xyXG5jb25zdCBkcmF3YWJsZV8yZF8xID0gcmVxdWlyZShcIi4vZHJhd2FibGUtMmRcIik7XHJcbmxldCBDYW1lcmEyZCA9IGNsYXNzIENhbWVyYTJkIGV4dGVuZHMgZ2VhcjNlbmdpbmVfMS5HYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy4jc2hha2VNYWduaXR1ZGUgPSAwO1xyXG4gICAgICAgIHRoaXMuI3RhcmdldFNoYWtlTWFnbml0dWRlID0gMDtcclxuICAgICAgICB0aGlzLnNoYWtlVmVjdG9yTSA9IG5ldyBnZWFyM2VuZ2luZV8xLlZlY3RvcjMoKTtcclxuICAgICAgICB0aGlzLmRlYnVnU2NhbGUgPSAxO1xyXG4gICAgICAgIHRoaXMubGFzdFNjYWxlID0gMTtcclxuICAgICAgICB0aGlzLmxhc3RQb2ludGVyU2NyZWVuUG9zaXRpb24gPSBuZXcgZ2VhcjNlbmdpbmVfMS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy52aWV3V2lkdGhNID0gdGhpcy52aWV3V2lkdGhNID8/IDgwO1xyXG4gICAgICAgIHRoaXMudmlld0hlaWdodE0gPSB0aGlzLnZpZXdIZWlnaHRNID8/IDQ1O1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZURyYXdVcGRhdGUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICAjc2hha2VNYWduaXR1ZGU7XHJcbiAgICAjdGFyZ2V0U2hha2VNYWduaXR1ZGU7XHJcbiAgICBzaGFrZShtYWduaXR1ZGUpIHtcclxuICAgICAgICB0aGlzLiN0YXJnZXRTaGFrZU1hZ25pdHVkZSArPSBtYWduaXR1ZGU7XHJcbiAgICB9XHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aFB4ID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHRQeCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH1cclxuICAgIGRyYXdVcGRhdGUoZHQsIHRpbWUsIGZyYW1lcykge1xyXG4gICAgICAgIGlmICh0aGlzLiN0YXJnZXRTaGFrZU1hZ25pdHVkZSA+IDAgfHwgdGhpcy4jc2hha2VNYWduaXR1ZGUgPiAwIHx8IHRoaXMuc2hha2VWZWN0b3JNLnggfHwgdGhpcy5zaGFrZVZlY3Rvck0ueSkge1xyXG4gICAgICAgICAgICB0aGlzLiNzaGFrZU1hZ25pdHVkZSArPSAodGhpcy4jdGFyZ2V0U2hha2VNYWduaXR1ZGUgLSB0aGlzLiNzaGFrZU1hZ25pdHVkZSkgKiAwLjI7XHJcbiAgICAgICAgICAgIHRoaXMuI3RhcmdldFNoYWtlTWFnbml0dWRlICo9IDAuOTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuI3NoYWtlTWFnbml0dWRlIDwgMC4xKVxyXG4gICAgICAgICAgICAgICAgdGhpcy4jc2hha2VNYWduaXR1ZGUgPSAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy4jdGFyZ2V0U2hha2VNYWduaXR1ZGUgPCAwLjEpXHJcbiAgICAgICAgICAgICAgICB0aGlzLiN0YXJnZXRTaGFrZU1hZ25pdHVkZSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc2hha2VWZWN0b3JNLnggKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdGhpcy4jc2hha2VNYWduaXR1ZGU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hha2VWZWN0b3JNLnkgKz0gKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdGhpcy4jc2hha2VNYWduaXR1ZGU7XHJcbiAgICAgICAgICAgIHRoaXMuc2hha2VWZWN0b3JNLnggKj0gMC45O1xyXG4gICAgICAgICAgICB0aGlzLnNoYWtlVmVjdG9yTS55ICo9IDAuOTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLiNzaGFrZU1hZ25pdHVkZSAmJiAhdGhpcy4jdGFyZ2V0U2hha2VNYWduaXR1ZGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNoYWtlVmVjdG9yTS54KSA8IDAuMSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWtlVmVjdG9yTS54ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnNoYWtlVmVjdG9yTS55KSA8IDAuMSlcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYWtlVmVjdG9yTS55ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50YXJnZXRPYmplY3QpIHtcclxuICAgICAgICAgICAgbGV0IGR2ID0gdGhpcy50YXJnZXRPYmplY3QuZHJhd1Bvc2l0aW9uLnN1YnRyYWN0KHRoaXMuZHJhd1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5kcmF3UG9zaXRpb24uc2V0VG9WZWN0b3IodGhpcy50YXJnZXRPYmplY3QuZHJhd1Bvc2l0aW9uLmFkZCh0aGlzLnNoYWtlVmVjdG9yTSkpO1xyXG4gICAgICAgICAgICB0aGlzLmRyYXdWZWxvY2l0eS5zZXRUb1ZlY3Rvcih0aGlzLnRhcmdldE9iamVjdC5kcmF3VmVsb2NpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kcmF3UG9zaXRpb24uc2V0VG9WZWN0b3IodGhpcy5kcmF3UG9zaXRpb24uYWRkKHRoaXMuc2hha2VWZWN0b3JNKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCB2aWV3SFAgPSBnZWFyM2VuZ2luZV8xLlV0aWwubVRvUCh0aGlzLnZpZXdIZWlnaHRNKTtcclxuICAgICAgICBsZXQgdmlld1dQID0gZ2VhcjNlbmdpbmVfMS5VdGlsLm1Ub1AodGhpcy52aWV3V2lkdGhNKTtcclxuICAgICAgICBsZXQgZGVzaXJlZFJhdGlvID0gdGhpcy52aWV3SGVpZ2h0TSAvIHRoaXMudmlld1dpZHRoTTtcclxuICAgICAgICBsZXQgYXZhaWxhYmxlUmF0aW8gPSB0aGlzLmhlaWdodFB4IC8gdGhpcy53aWR0aFB4O1xyXG4gICAgICAgIGxldCBzY2FsZSA9IDE7XHJcbiAgICAgICAgaWYgKGRlc2lyZWRSYXRpbyA+IGF2YWlsYWJsZVJhdGlvKSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gdGhpcy5oZWlnaHRQeCAvIHZpZXdIUDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHNjYWxlID0gdGhpcy53aWR0aFB4IC8gdmlld1dQO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxhc3RTY2FsZSA9IHNjYWxlICogdGhpcy5kZWJ1Z1NjYWxlO1xyXG4gICAgICAgIHRoaXMucGl4aVdvcmxkLnBpeGlWaWV3LnNjYWxlLnNldCh0aGlzLmxhc3RTY2FsZSwgdGhpcy5sYXN0U2NhbGUpO1xyXG4gICAgICAgIHRoaXMucGl4aVdvcmxkLnBpeGlWaWV3LnggPSAoLXRoaXMuZHJhd1Bvc2l0aW9uLngpICogdGhpcy5sYXN0U2NhbGUgKyAodGhpcy53aWR0aFB4IC8gMik7XHJcbiAgICAgICAgdGhpcy5waXhpV29ybGQucGl4aVZpZXcueSA9ICgtdGhpcy5kcmF3UG9zaXRpb24ueSkgKiB0aGlzLmxhc3RTY2FsZSArICh0aGlzLmhlaWdodFB4IC8gMik7XHJcbiAgICAgICAgZm9yIChsZXQgYiBpbiB0aGlzLmNhbnZhczJkUGx1Z2luLmJhY2tkcm9wcykge1xyXG4gICAgICAgICAgICBsZXQgYmFja2Ryb3AgPSB0aGlzLmNhbnZhczJkUGx1Z2luLmJhY2tkcm9wc1tiXTtcclxuICAgICAgICAgICAgbGV0IG1pblhDaHVuayA9IE1hdGguZmxvb3IoKHRoaXMuZHJhd1Bvc2l0aW9uLnggKiBiYWNrZHJvcC5wYXJhbGxheFNjYWxlIC0gdmlld1dQIC8gMikgLyBiYWNrZHJvcC5jaHVua1NpemUpIC0gMTtcclxuICAgICAgICAgICAgbGV0IG1heFhDaHVuayA9IE1hdGguZmxvb3IoKHRoaXMuZHJhd1Bvc2l0aW9uLnggKiBiYWNrZHJvcC5wYXJhbGxheFNjYWxlICsgdmlld1dQIC8gMikgLyBiYWNrZHJvcC5jaHVua1NpemUpICsgMTtcclxuICAgICAgICAgICAgbGV0IG1pbllDaHVuayA9IE1hdGguZmxvb3IoKHRoaXMuZHJhd1Bvc2l0aW9uLnkgKiBiYWNrZHJvcC5wYXJhbGxheFNjYWxlIC0gdmlld0hQIC8gMikgLyBiYWNrZHJvcC5jaHVua1NpemUpIC0gMTtcclxuICAgICAgICAgICAgbGV0IG1heFlDaHVuayA9IE1hdGguZmxvb3IoKHRoaXMuZHJhd1Bvc2l0aW9uLnkgKiBiYWNrZHJvcC5wYXJhbGxheFNjYWxlICsgdmlld0hQIC8gMikgLyBiYWNrZHJvcC5jaHVua1NpemUpICsgMTtcclxuICAgICAgICAgICAgaWYgKG1pblhDaHVuayA+IGJhY2tkcm9wLnJpZ2h0U29mdEN1cnNvciB8fCBtYXhYQ2h1bmsgPCBiYWNrZHJvcC5sZWZ0U29mdEN1cnNvciB8fCBtaW5ZQ2h1bmsgPiBiYWNrZHJvcC5ib3R0b21Tb2Z0Q3Vyc29yIHx8IG1heFlDaHVuayA8IGJhY2tkcm9wLnRvcFNvZnRDdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tkcm9wLmhpZGVBbGwoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiYWNrZHJvcC51cGRhdGVDdXJzb3JzKG1pbllDaHVuaywgbWF4WUNodW5rLCBtaW5YQ2h1bmssIG1heFhDaHVuayk7XHJcbiAgICAgICAgICAgIGJhY2tkcm9wLnNldERyYXdQb3NpdGlvbihuZXcgZ2VhcjNlbmdpbmVfMS5WZWN0b3IzKHRoaXMuZHJhd1Bvc2l0aW9uLnggKiAoMSAtIGJhY2tkcm9wLnBhcmFsbGF4U2NhbGUpLCB0aGlzLmRyYXdQb3NpdGlvbi55ICogKDEgLSBiYWNrZHJvcC5wYXJhbGxheFNjYWxlKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuQ2FtZXJhMmQgPSBfX2RlY29yYXRlKFtcclxuICAgIGRyYXdhYmxlXzJkXzEuZHJhd2FibGUyZCxcclxuICAgIF9fbWV0YWRhdGEoXCJkZXNpZ246cGFyYW10eXBlc1wiLCBbXSlcclxuXSwgQ2FtZXJhMmQpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBDYW1lcmEyZDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FtZXJhLTJkLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IGczZV9jbGllbnRfMSA9IHJlcXVpcmUoXCJnM2UtY2xpZW50XCIpO1xyXG5jb25zdCBnZWFyM2VuZ2luZV8xID0gcmVxdWlyZShcImdlYXIzZW5naW5lXCIpO1xyXG5jb25zdCBjYW1lcmFfMmRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9jYW1lcmEtMmRcIikpO1xyXG5jb25zdCBwaXhpX3dvcmxkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcGl4aS13b3JsZFwiKSk7XHJcbmNsYXNzIENhbnZhczJkUGx1Z2luIGV4dGVuZHMgZ2VhcjNlbmdpbmVfMS5HYW1lSW5zdGFuY2VQbHVnaW4ge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRlcGVuZGVuY2llcyA9IFtnM2VfY2xpZW50XzEuR2FtZUNsaWVudFBsdWdpbl07XHJcbiAgICAgICAgdGhpcy5sYXN0S25vd25QaHlzaWNzVXBkYXRlID0gMDtcclxuICAgICAgICB0aGlzLmJhY2tkcm9wcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgaW5pdGlhbGl6ZSgpIHtcclxuICAgICAgICB0aGlzLmdhbWVDbGllbnRQbHVnaW4gPSB0aGlzLmdhbWVJbnN0YW5jZS5nZXRQbHVnaW4oZzNlX2NsaWVudF8xLkdhbWVDbGllbnRQbHVnaW4pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUluc3RhbmNlLm9uKFwiZ2FtZVN0YXJ0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waXhpV29ybGQgPSB0aGlzLmdhbWVJbnN0YW5jZS5tYWtlKHBpeGlfd29ybGRfMS5kZWZhdWx0LCBwdyA9PiB7XHJcbiAgICAgICAgICAgICAgICBwdy50YXJnZXQgPSB0aGlzLmNvbmZpZz8udGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgcHcuZGlzYWJsZVNjcm9sbCA9IHRoaXMuY29uZmlnPy5kaXNhYmxlU2Nyb2xsO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSB0aGlzLmdhbWVJbnN0YW5jZS5tYWtlKGNhbWVyYV8yZF8xLmRlZmF1bHQpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZ2FtZUNsaWVudFBsdWdpbi5wYXJhbXMudXNlUmVhbEN1cnNvcikge1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5nYW1lSW5zdGFuY2Uub24oXCJnYW1lT3ZlclwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZUluc3RhbmNlLmRlc3Ryb3lPYmplY3QodGhpcy5jYW1lcmEsIGdlYXIzZW5naW5lXzEuRGVhdGhUeXBlLkdhbWVPdmVyKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEgPSBudWxsO1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVJbnN0YW5jZS5kZXN0cm95T2JqZWN0KHRoaXMucGl4aVdvcmxkLCBnZWFyM2VuZ2luZV8xLkRlYXRoVHlwZS5HYW1lT3Zlcik7XHJcbiAgICAgICAgICAgIHRoaXMucGl4aVdvcmxkID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWVJbnN0YW5jZS5vbihcInJlbmRlclVwZGF0ZVwiLCAoZHQsIG5vdywgZnJhbWVzKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGl4aVdvcmxkLmRyYXdVcGRhdGUoZHQsIG5vdywgZnJhbWVzKTtcclxuICAgICAgICAgICAgdGhpcy5jYW1lcmEgJiYgdGhpcy5jYW1lcmEuZHJhd1VwZGF0ZShkdCwgbm93LCBmcmFtZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZ2FtZUluc3RhbmNlLm9uKFwicmVzaXplXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWVJbnN0YW5jZS5vbihcInBoeXNpY3NVcGRhdGVcIiwgKGR0LCB0aW1lKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEtub3duUGh5c2ljc1VwZGF0ZSA9IHBlcmZvcm1hbmNlLm5vdygpIC8gMTAwMDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmdhbWVJbnN0YW5jZS5yZWdpc3RlclJlbW90ZVRyaWdnZXJIYW5kbGVyKFwidHJhY2tPYmplY3RcIiwgKGFyZ3MpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgb2JqZWN0ID0gdGhpcy5nYW1lSW5zdGFuY2UucmVtb3RlR2FtZU9iamVjdHNCeUlkW2FyZ3MuZGF0YVswXT8udmFsdWVdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvYmplY3QuaXMoXCJkcmF3YWJsZS0yZFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbWVyYS50YXJnZXRPYmplY3QgPSBvYmplY3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZXh0ID0gZ2VhcjNlbmdpbmVfMS5HYW1lT2JqZWN0LmdldEV4dGVuc2lvbkJ5TGFiZWwob2JqZWN0LCBcImRyYXdhYmxlLTJkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXh0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW1lcmEudGFyZ2V0T2JqZWN0ID0gZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuYWJsZSB0byB0cmFjayBvYmplY3QgJHtvYmplY3QuaWR9IGJlY2F1c2UgaXQgaXMgbm90IGRyYXdhYmxlIGFuZCBkb2Vzbid0IGhhdmUgYSBkcmF3YWJsZSBleHRlbnNpb24uYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUaGUgc2VydmVyIGF0dGVtcHRlZCB0byB0cmFjayBhbiBvYmplY3QsIGJ1dCB0aGUgb2JqY3QgY291bGQgbm90IGJlIGZvdW5kIGNsaWVudC1zaWRlLiBSZW1vdGUgSUQ6ICR7YXJncy5kYXRhLmlkfS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBzZXJ2ZXIgYXR0ZW1wdGVkIHRvIHRyYWNrIGFuIG9iamVjdCwgYnV0IHRoZSBjYW1lcmEgZG9lcyBub3QgZXhpc3QuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXNpemUoKSB7XHJcbiAgICAgICAgdGhpcy5waXhpV29ybGQgJiYgdGhpcy5waXhpV29ybGQucmVzaXplKCk7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEgJiYgdGhpcy5jYW1lcmEucmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICBkZXN0cm95KCkgeyB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gQ2FudmFzMmRQbHVnaW47XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNhbnZhcy0yZC1wbHVnaW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn07XHJcbnZhciBfX21ldGFkYXRhID0gKHRoaXMgJiYgdGhpcy5fX21ldGFkYXRhKSB8fCBmdW5jdGlvbiAoaywgdikge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKGssIHYpO1xyXG59O1xyXG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xyXG59O1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ3Vyc29yMmRQYWludGVyID0gdm9pZCAwO1xyXG5jb25zdCBnZWFyM2VuZ2luZV8xID0gcmVxdWlyZShcImdlYXIzZW5naW5lXCIpO1xyXG5jb25zdCBkcmF3YWJsZV8yZF8xID0gcmVxdWlyZShcIi4vZHJhd2FibGUtMmRcIik7XHJcbmNvbnN0IGxpYnNfZ2Z4XzJkXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vbGlicy5nZnguMmRcIikpO1xyXG5jbGFzcyBDdXJzb3IyZCBleHRlbmRzIGdlYXIzZW5naW5lXzEuR2FtZU9iamVjdCB7XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gQ3Vyc29yMmQ7XHJcbmxldCBDdXJzb3IyZFBhaW50ZXIgPSBjbGFzcyBDdXJzb3IyZFBhaW50ZXIgZXh0ZW5kcyBnZWFyM2VuZ2luZV8xLkdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnRhcmdldC5wYWludGVyID0gdGhpcztcclxuICAgIH1cclxuICAgIGRyYXcoKSB7XHJcbiAgICAgICAgbGV0IHcgPSAyMDtcclxuICAgICAgICBsZXQgdCA9IDI7XHJcbiAgICAgICAgbGV0IGIgPSAxO1xyXG4gICAgICAgIGxldCBkaW9iID0gbmV3IGxpYnNfZ2Z4XzJkXzEuZGVmYXVsdC5HcmFwaGljcygpO1xyXG4gICAgICAgIGRpb2IuYmVnaW5GaWxsKDApO1xyXG4gICAgICAgIGRpb2IuZHJhd1JlY3QoLXcgLyAyIC0gYiwgLXQgLyAyIC0gYiwgdyArIDIgKiBiLCB0ICsgMiAqIGIpO1xyXG4gICAgICAgIGRpb2IuZHJhd1JlY3QoLXQgLyAyIC0gYiwgLXcgLyAyIC0gYiwgdCArIDIgKiBiLCB3ICsgMiAqIGIpO1xyXG4gICAgICAgIGRpb2IuYmVnaW5GaWxsKDB4ZmZmZmZmKTtcclxuICAgICAgICBkaW9iLmRyYXdSZWN0KC13IC8gMiwgLXQgLyAyLCB3LCB0KTtcclxuICAgICAgICBkaW9iLmRyYXdSZWN0KC10IC8gMiwgLXcgLyAyLCB0LCB3KTtcclxuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3QgPSBkaW9iO1xyXG4gICAgfVxyXG4gICAgZHJhd1VwZGF0ZShkdCwgdGltZSwgZnJhbWVzKSB7XHJcbiAgICB9XHJcbn07XHJcbkN1cnNvcjJkUGFpbnRlciA9IF9fZGVjb3JhdGUoW1xyXG4gICAgZHJhd2FibGVfMmRfMS5kcmF3YWJsZTJkLFxyXG4gICAgKDAsIGdlYXIzZW5naW5lXzEuZXh0ZW5zaW9uKShDdXJzb3IyZCksXHJcbiAgICBfX21ldGFkYXRhKFwiZGVzaWduOnBhcmFtdHlwZXNcIiwgW10pXHJcbl0sIEN1cnNvcjJkUGFpbnRlcik7XHJcbmV4cG9ydHMuQ3Vyc29yMmRQYWludGVyID0gQ3Vyc29yMmRQYWludGVyO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jdXJzb3ItMmQuanMubWFwIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJ0aGlzIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJkIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJSZWZsZWN0IiwiZGVjb3JhdGUiLCJpIiwiZGVmaW5lUHJvcGVydHkiLCJfX21ldGFkYXRhIiwiayIsInYiLCJtZXRhZGF0YSIsIl9faW1wb3J0RGVmYXVsdCIsIm1vZCIsIl9fZXNNb2R1bGUiLCJleHBvcnRzIiwidmFsdWUiLCJnZWFyM2VuZ2luZV8xIiwiXzEiLCJkcmF3YWJsZV8yZF8xIiwibGlic19nZnhfMmRfMSIsIkJhY2tkcm9wMmQiLCJHYW1lT2JqZWN0IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImNodW5rcyIsImNhbnZhc1BsdWdpbiIsImdpIiwiZ2V0UGx1Z2luIiwiQ2FudmFzMmRQbHVnaW4iLCJpc0luaXRpYWxpemVkIiwibGVmdFNvZnRDdXJzb3IiLCJyaWdodFNvZnRDdXJzb3IiLCJ0b3BTb2Z0Q3Vyc29yIiwiYm90dG9tU29mdEN1cnNvciIsImZhckxlZnRDdXJzb3IiLCJmYXJSaWdodEN1cnNvciIsImZhclRvcEN1cnNvciIsImZhckJvdHRvbUN1cnNvciIsIm9wdGltaXphdGlvbiIsImNodW5rU2l6ZSIsInBhcmFsbGF4U2NhbGUiLCJiYWNrZHJvcHMiLCJpZCIsImh5YnJpZFJhbmdlIiwiZGlzcGxheU9iamVjdCIsImRlZmF1bHQiLCJDb250YWluZXIiLCJsb2FkQ2h1bmsiLCJ4IiwieSIsInZpc2libGUiLCJwcm9wcyIsIm5ld0NodW5rIiwicmVuZGVyQ2h1bmsiLCJwb3NpdGlvbiIsInNldCIsImFkZENoaWxkIiwiaGlkZUNodW5rIiwiWCIsIlkiLCJwIiwiY29uc29sZSIsImxvZyIsImRlbGV0ZUNodW5rIiwicm93IiwiY2h1bmsiLCJyZW1vdmVDaGlsZCIsImRlc3Ryb3lPYmplY3QiLCJEZWF0aFR5cGUiLCJVbmxvYWRlZCIsImRlc3Ryb3kiLCJkZWF0aFR5cGUiLCJ1cGRhdGVDdXJzb3JzIiwibmV3VG9wIiwibmV3Qm90dG9tIiwibmV3TGVmdCIsIm5ld1JpZ2h0IiwiaiIsIm9uT3V0T2ZSYW5nZSIsImhpZGVBbGwiLCJhZGRQcm9wIiwicHJvcCIsInB1c2giLCJkcmF3YWJsZTJkIiwiQ2FtZXJhMmQiLCJzaGFrZVZlY3Rvck0iLCJWZWN0b3IzIiwiZGVidWdTY2FsZSIsImxhc3RTY2FsZSIsImxhc3RQb2ludGVyU2NyZWVuUG9zaXRpb24iLCJ2aWV3V2lkdGhNIiwidmlld0hlaWdodE0iLCJkaXNhYmxlRHJhd1VwZGF0ZSIsInJlc2l6ZSIsInNoYWtlIiwibWFnbml0dWRlIiwid2lkdGhQeCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHRQeCIsImlubmVySGVpZ2h0IiwiZHJhd1VwZGF0ZSIsImR0IiwidGltZSIsImZyYW1lcyIsIk1hdGgiLCJyYW5kb20iLCJhYnMiLCJ0YXJnZXRPYmplY3QiLCJkcmF3UG9zaXRpb24iLCJzdWJ0cmFjdCIsInNldFRvVmVjdG9yIiwiYWRkIiwiZHJhd1ZlbG9jaXR5Iiwidmlld0hQIiwiVXRpbCIsIm1Ub1AiLCJ2aWV3V1AiLCJzY2FsZSIsInBpeGlXb3JsZCIsInBpeGlWaWV3IiwiYiIsImNhbnZhczJkUGx1Z2luIiwiYmFja2Ryb3AiLCJtaW5YQ2h1bmsiLCJmbG9vciIsIm1heFhDaHVuayIsIm1pbllDaHVuayIsIm1heFlDaHVuayIsInNldERyYXdQb3NpdGlvbiIsImczZV9jbGllbnRfMSIsImNhbWVyYV8yZF8xIiwicGl4aV93b3JsZF8xIiwiR2FtZUluc3RhbmNlUGx1Z2luIiwiY29uZmlnIiwiZGVwZW5kZW5jaWVzIiwiR2FtZUNsaWVudFBsdWdpbiIsImxhc3RLbm93blBoeXNpY3NVcGRhdGUiLCJpbml0aWFsaXplIiwiZ2FtZUNsaWVudFBsdWdpbiIsImdhbWVJbnN0YW5jZSIsIm9uIiwibWFrZSIsInB3IiwiZGlzYWJsZVNjcm9sbCIsImNhbWVyYSIsInBhcmFtcyIsInVzZVJlYWxDdXJzb3IiLCJHYW1lT3ZlciIsIm5vdyIsInBlcmZvcm1hbmNlIiwicmVnaXN0ZXJSZW1vdGVUcmlnZ2VySGFuZGxlciIsImFyZ3MiLCJFcnJvciIsIm9iamVjdCIsInJlbW90ZUdhbWVPYmplY3RzQnlJZCIsImRhdGEiLCJpcyIsImV4dCIsImdldEV4dGVuc2lvbkJ5TGFiZWwiLCJDdXJzb3IyZFBhaW50ZXIiLCJDdXJzb3IyZCIsInBhaW50ZXIiLCJkcmF3IiwiZGlvYiIsIkdyYXBoaWNzIiwiYmVnaW5GaWxsIiwiZHJhd1JlY3QiLCJ3IiwidCIsImV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=