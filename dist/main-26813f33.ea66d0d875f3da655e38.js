"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[6165],{1588:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s={log:(t,e)=>{i&t&&console.debug(" - ",e)},set:t=>{i&=t},none:0,userLifecycle:1,engine:2};var i=s.none;e.default=s},8889:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=new class{constructor(){this.gunMaterial=8947814,this.baseShieldBrightness=68,this.meanShieldAlpha=.3,this.shieldAlphaRange=.25,this.GLOBAL_UFO_RADIUS=1.5,this.GLOBAL_UFO_MASS=Math.PI*this.GLOBAL_UFO_RADIUS*this.GLOBAL_UFO_RADIUS,this.asteroidGraphicsAngles=16,this.asteroidGraphicsPerspectives=4,this.structureTypes={wall:1,shelter:2,vantagePoint:3,window:4},this.colCats={views:1,bodies:2,fixtures:4,projectiles:8,worldObjs:65534,all:65535},this.pixiBackgroundLayer=0,this.pixiProjectileLayer=1,this.pixiStructuresLayer=2,this.pixiBelowShip=3,this.pixiBodyLayer=4,this.pixiAboveShip=5,this.pixiNameLayer=6,this.pixiEffectLayer=7,this.pixiHideoutLayer=8,this.canvasHudLayer=9,this.qwertyKeyset={87:3,83:4,65:5,68:6,69:8,81:10,82:7,73:3,75:4,74:5,76:6,89:7,79:8,85:10,38:3,40:4,37:5,39:6,32:9,77:11,86:12},this.dvorakKeyset={188:3,79:4,65:5,69:6,190:8,222:10,80:7,67:3,84:4,72:5,78:6,70:7,82:8,71:10,38:3,40:4,37:5,39:6,32:9,77:11,75:12},this.universalKeyset={KeyW:3,KeyS:4,KeyA:5,KeyD:6,KeyE:8,KeyQ:10,KeyR:7,KeyI:3,KeyK:4,KeyJ:5,KeyL:6,KeyY:7,KeyO:8,KeyU:10,ArrowUp:3,ArrowDown:4,ArrowLeft:5,ArrowRight:6,Space:9,KeyM:11,KeyV:12}}};e.default=s},9560:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});var s={none:0,debug:1,info:2,log:3,warn:4,error:5};class i{constructor(t,e){this.message=t instanceof Error?t.stack:t,this.level=e,this.time=new Date}toString(){return`${this.time.toISOString()}\t${Object.keys(s)[this.level].toUpperCase()}\t${this.message}`}}class h{constructor(t,e,s){this.dumpToFile=!1,this.level=t,this.logger=e,this.consoleWrite=s,this.logs=[],this.maxSize=1e3,this.logCallback=null}write(t){this||(console.error("This was not defined in logger."),console.trace());let e=new i(t,this.level);return this.add(e),this.logger.consoleLevel&&this.level>=this.logger.consoleLevel&&this.consoleWrite&&this.consoleWrite(e.toString()),e}add(t){this.maxSize<=0||(this.logs.push(t),this.logCallback&&this.logCallback(t),this.logs.length>this.maxSize&&(this.dumpToFile?this.logs=[]:this.logs.shift()),this.logger.trickle(t,this.level-1))}dump(){for(var t="",e=0;e<this.logs.length;e++)t+=this.logs[e].toString()+"\r\n";return t}}const r=new class{constructor(){this.none=new h(s.none,this,null),this.none.maxSize=0,this.debug=new h(s.debug,this,console.debug),this.info=new h(s.info,this,console.info),this.log=new h(s.log,this,console.log),this.warn=new h(s.warn,this,console.warn),this.error=new h(s.error,this,console.error),this.allLogs=[this.none,this.debug,this.info,this.log,this.warn,this.error],this.consoleLevel=s.log}trickle(t,e){e>0&&this.allLogs[e].add(t)}};e.default=r},8823:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});const s=new class{constructor(){this.normal=(t,e)=>((Math.random()+Math.random()+Math.random())/1.5-1)*(e||1)+(t||0),this.distanceBetweenSq=(t,e)=>(t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y),this.distanceBetween=(t,e)=>Math.sqrt(this.distanceBetweenSq(t,e)),this.pPerM=20,this.mToP=t=>t*this.pPerM,this.pToM=t=>t/this.pPerM,this.dToR=t=>t*Math.PI/180,this.quantize=t=>.1*Math.round(10*t),this.quantize2=(t,e)=>Math.round(t*(e||10)),this.randomColorCode=()=>Math.round(1535*Math.random()),this.isInRange=(t,e,s)=>t*t>(e.x-s.x)*(e.x-s.x)+(e.y-s.y)*(e.y-s.y),this.angleTo360=t=>t<0?360- -t%360:t%360,this.angleTo180=t=>this.angleTo360(t+180)-180,this.absAngleSub=(t,e)=>{var s=t-e;return s<0&&(s=-s),(s%=360)<180?s:360-s},this.relAngleSub=(t,e)=>(t<0?(t=- -t%360)<=-180&&(t=360+t):(t%=360)>180&&(t=-360+t),e<0?(e=- -e%360)<=-180&&(e=360+e):(e%=360)>180&&(e=-360+e),t-e>180?t-e-360:t-e<-180?t-e+360:t-e),this.rToD=t=>180*t/Math.PI,this.xor=(t,e)=>t?!e:e}getTeamRgbFromT(t){let e=255,s=255,i=255;return 1==t?i=0:2==t?(s=0,i=0):3==t&&(s=0,e=0),{r:e,g:s,b:i}}getRgbFromV(t){let e=255,s=255,i=255;return e=t<256||t>=1280?255:t>=256&&t<512?255-(t-256):t>=1024?t-1024:0,s=t<256?t:t<768?255:t<1024?255-(t-768):0,i=t<=512?0:t<768?t-512:t<1280?255:255-(t-1280),{r:e,g:s,b:i}}getCookie(t){for(var e=t+"=",s=decodeURIComponent(document.cookie).split(";"),i=0;i<s.length;i++){for(var h=s[i];" "==h.charAt(0);)h=h.substring(1);if(0==h.indexOf(e))return h.substring(e.length,h.length)}return""}deleteCookie(t){document.cookie=t+"= ; expires = Thu, 01 Jan 1970 00:00:00 GMT"}stopPropagation(t){t||(t=window.event),t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}probPerDt(t,e){return 1-Math.pow(1-t,e)}ratePerDt(t,e){return Math.pow(t,e)}async sleep(t){await new Promise((e=>{setTimeout((()=>{e(t)}),t)}))}toRomanNumerals(t){if((t=Math.floor(Number(t)))<1)return`${t}`;if(+t>3e6)return`${t}`;if(!+t)return`${t}`;let e=["I","V","X","L","C","D","M","V̅","X̅","L̅","C̅","D̅","M̅"],s=String(+t).split("").map((t=>+t)),i=s.length,h="";return s.forEach((t=>{let s=2*(i-1);h+=function(t,e,s,i){return i<4?t.repeat(i):4===i?t+e:i<9?e+t.repeat(i-5):t+s}(e[s],e[s+1],e[s+2],t),i--})),h}typeName(t){return t.toString().split(" ")[1]}nameof(t){return t}};e.default=s},2600:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});class s{constructor(t,e,i){this.x=0,this.y=0,this.z=0,this._oldMag=0,this._oldMag2=0,1==arguments.length&&t instanceof s?(this.x=t[0],this.y=t[1],this.z=t[2]):(this.x=t||0,this.y=e||0,this.z=i||0)}get mag(){let t=this.x*this.x+this.y*this.y+this.z*this.z;return this._oldMag2==t||(this._oldMag2=t,this._oldMag=Math.sqrt(t)),this._oldMag}get mag2(){return this.x*this.x+this.y*this.y+this.z*this.z}get unit(){let t=1/this.mag;return new s(this.x*t,this.y*t,this.z*t)}get clone(){return new s(this.x,this.y,this.z)}add(t){return new s(this.x+t.x,this.y+t.y,this.z+t.z)}subtract(t){return new s(this.x-t.x,this.y-t.y,this.z-t.z)}multiply(t){return new s(this.x*t,this.y*t,this.z*t)}cross(t){return new s(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}addWithVector(t){this.x+=t.x,this.y+=t.y,this.z+=t.z}addWithScalars(t,e,s){this.x+=t,this.y+=e,this.z+=s}multiplyWithScalar(t){this.x*=t,this.y*=t,this.z*=t}normalize(){let t=1/this.mag;this.x*=t,this.y*=t,this.z*=t,this._oldMag=1,this._oldMag2=1}setToScalars(t,e,s){this.x=t,this.y=e,this.z=s}setToVector(t){this.x=t.x,this.y=t.y,this.z=t.z}}e.default=s}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi0yNjgxM2YzMy4zNThiZmE4MDJlMGY4MTAxMDQwZi5qcyIsIm1hcHBpbmdzIjoid0hBQ0FBLE9BQU9DLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLElBQ3RELE1BQU1DLEVBQVEsQ0FDVkMsSUFBSyxDQUFDQyxFQUFPQyxLQUNMQyxFQUFlRixHQUNmRyxRQUFRQyxNQUFNLE1BQU9ILEVBQVEsRUFFckNJLElBQU1DLElBQ0ZKLEdBQWdCSSxDQUFJLEVBRXhCQyxLQUFNLEVBQ05DLGNBQWUsRUFDZkMsT0FBUSxHQUVaLElBQUlQLEVBQWVKLEVBQU1TLEtBQ3pCWCxFQUFBLFFBQWtCRSxDLGVDZGxCSixPQUFPQyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxNQUFNYSxFQUFrQixJQUFJLE1BQ3hCQyxjQUNJQyxLQUFLQyxZQUFjLFFBQ25CRCxLQUFLRSxxQkFBdUIsR0FDNUJGLEtBQUtHLGdCQUFrQixHQUN2QkgsS0FBS0ksaUJBQW1CLElBQ3hCSixLQUFLSyxrQkFBb0IsSUFDekJMLEtBQUtNLGdCQUFrQkMsS0FBS0MsR0FBS1IsS0FBS0ssa0JBQW9CTCxLQUFLSyxrQkFDL0RMLEtBQUtTLHVCQUF5QixHQUM5QlQsS0FBS1UsNkJBQStCLEVBQ3BDVixLQUFLVyxlQUFpQixDQUNsQkMsS0FBTSxFQUNOQyxRQUFTLEVBQ1RDLGFBQWMsRUFDZEMsT0FBUSxHQUVaZixLQUFLZ0IsUUFBVSxDQUNYQyxNQUFPLEVBQ1BDLE9BQVEsRUFDUkMsU0FBVSxFQUNWQyxZQUFhLEVBQ2JDLFVBQVcsTUFDWEMsSUFBSyxPQUVUdEIsS0FBS3VCLG9CQUFzQixFQUMzQnZCLEtBQUt3QixvQkFBc0IsRUFDM0J4QixLQUFLeUIsb0JBQXNCLEVBQzNCekIsS0FBSzBCLGNBQWdCLEVBQ3JCMUIsS0FBSzJCLGNBQWdCLEVBQ3JCM0IsS0FBSzRCLGNBQWdCLEVBQ3JCNUIsS0FBSzZCLGNBQWdCLEVBQ3JCN0IsS0FBSzhCLGdCQUFrQixFQUN2QjlCLEtBQUsrQixpQkFB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QUFJc0YsRUFBTXZGLEVBQzlJLENBQ0E0RixJQUFJTCxHQUNBLE9BQU90SyxLQUFLK0UsRUFBSXVGLEVBQU12RixFQUFJL0UsS0FBS2dGLEVBQUlzRixFQUFNdEYsRUFBSWhGLEtBQUs2SixFQUFJUyxFQUFNVCxDQUNoRSxDQUNBZSxjQUFjTixHQUNWdEssS0FBSytFLEdBQUt1RixFQUFNdkYsRUFDaEIvRSxLQUFLZ0YsR0FBS3NGLEVBQU10RixFQUNoQmhGLEtBQUs2SixHQUFLUyxFQUFNVCxDQUNwQixDQUNBZ0IsZUFBZTlGLEVBQUdDLEVBQUc2RSxHQUNqQjdKLEtBQUsrRSxHQUFLQSxFQUNWL0UsS0FBS2dGLEdBQUtBLEVBQ1ZoRixLQUFLNkosR0FBS0EsQ0FDZCxDQUNBaUIsbUJBQW1CTCxHQUNmekssS0FBSytFLEdBQUswRixFQUNWekssS0FBS2dGLEdBQUt5RixFQUNWekssS0FBSzZKLEdBQUtZLENBQ2QsQ0FDQU0sWUFDSSxJQUFJdEcsRUFBSSxFQUFJekUsS0FBS2lLLElBQ2pCakssS0FBSytFLEdBQUtOLEVBQ1Z6RSxLQUFLZ0YsR0FBS1AsRUFDVnpFLEtBQUs2SixHQUFLcEYsRUFDVnpFLEtBQUs4SixRQUFVLEVBQ2Y5SixLQUFLK0osU0FBVyxDQUNwQixDQUNBaUIsYUFBYWpHLEVBQUdDLEVBQUc2RSxHQUNmN0osS0FBSytFLEVBQUlBLEVBQ1QvRSxLQUFLZ0YsRUFBSUEsRUFDVGhGLEtBQUs2SixFQUFJQSxDQUNiLENBQ0FvQixZQUFZWCxHQUNSdEssS0FBSytFLEVBQUl1RixFQUFNdkYsRUFDZi9FLEtBQUtnRixFQUFJc0YsRUFBTXRGLEVBQ2ZoRixLQUFLNkosRUFBSVMsRUFBTVQsQ0FDbkIsRUFFSjdLLEVBQUEsUUFBa0I0SyxDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ2VhcjNlbmdpbmUtd2Vic2l0ZS8uLi8uLi9HQU1FUy1TSU1VTEFUT1JTLUZVTi9nZWFyM2VuZ2luZS9wbHVnaW5zL2dlYXIzZW5naW5lL2J1aWxkL3V0aWwvZGVidWcuanMiLCJ3ZWJwYWNrOi8vZ2VhcjNlbmdpbmUtd2Vic2l0ZS8uLi8uLi9HQU1FUy1TSU1VTEFUT1JTLUZVTi9nZWFyM2VuZ2luZS9wbHVnaW5zL2dlYXIzZW5naW5lL2J1aWxkL3V0aWwvZW5naW5lLWNvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZ2VhcjNlbmdpbmUvYnVpbGQvdXRpbC9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vZ2VhcjNlbmdpbmUtd2Vic2l0ZS8uLi8uLi9HQU1FUy1TSU1VTEFUT1JTLUZVTi9nZWFyM2VuZ2luZS9wbHVnaW5zL2dlYXIzZW5naW5lL2J1aWxkL3V0aWwvdXRpbC5qcyIsIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZ2VhcjNlbmdpbmUvYnVpbGQvdXRpbC92ZWN0b3ItMy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBEZWJ1ZyA9IHtcclxuICAgIGxvZzogKGZsYWdzLCBtZXNzYWdlKSA9PiB7XHJcbiAgICAgICAgaWYgKGVuYWJsZWRGbGFncyAmIGZsYWdzKVxyXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiIC0gXCIsIG1lc3NhZ2UpO1xyXG4gICAgfSxcclxuICAgIHNldDogKGZsYWcpID0+IHtcclxuICAgICAgICBlbmFibGVkRmxhZ3MgJj0gZmxhZztcclxuICAgIH0sXHJcbiAgICBub25lOiAweDAsXHJcbiAgICB1c2VyTGlmZWN5Y2xlOiAweDEsXHJcbiAgICBlbmdpbmU6IDB4MixcclxufTtcclxudmFyIGVuYWJsZWRGbGFncyA9IERlYnVnLm5vbmU7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IERlYnVnO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWJ1Zy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG5jb25zdCBFbmdpbmVDb25zdGFudHMgPSBuZXcgKGNsYXNzIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ3VuTWF0ZXJpYWwgPSAweDg4ODg2NjtcclxuICAgICAgICB0aGlzLmJhc2VTaGllbGRCcmlnaHRuZXNzID0gMHg0NDtcclxuICAgICAgICB0aGlzLm1lYW5TaGllbGRBbHBoYSA9IDAuMztcclxuICAgICAgICB0aGlzLnNoaWVsZEFscGhhUmFuZ2UgPSAwLjI1O1xyXG4gICAgICAgIHRoaXMuR0xPQkFMX1VGT19SQURJVVMgPSAxLjU7XHJcbiAgICAgICAgdGhpcy5HTE9CQUxfVUZPX01BU1MgPSBNYXRoLlBJICogdGhpcy5HTE9CQUxfVUZPX1JBRElVUyAqIHRoaXMuR0xPQkFMX1VGT19SQURJVVM7XHJcbiAgICAgICAgdGhpcy5hc3Rlcm9pZEdyYXBoaWNzQW5nbGVzID0gMTY7XHJcbiAgICAgICAgdGhpcy5hc3Rlcm9pZEdyYXBoaWNzUGVyc3BlY3RpdmVzID0gNDtcclxuICAgICAgICB0aGlzLnN0cnVjdHVyZVR5cGVzID0ge1xyXG4gICAgICAgICAgICB3YWxsOiAxLFxyXG4gICAgICAgICAgICBzaGVsdGVyOiAyLFxyXG4gICAgICAgICAgICB2YW50YWdlUG9pbnQ6IDMsXHJcbiAgICAgICAgICAgIHdpbmRvdzogNFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5jb2xDYXRzID0ge1xyXG4gICAgICAgICAgICB2aWV3czogMSA8PCAwLFxyXG4gICAgICAgICAgICBib2RpZXM6IDEgPDwgMSxcclxuICAgICAgICAgICAgZml4dHVyZXM6IDEgPDwgMixcclxuICAgICAgICAgICAgcHJvamVjdGlsZXM6IDEgPDwgMyxcclxuICAgICAgICAgICAgd29ybGRPYmpzOiAweEZGRkYgXiAoMSA8PCAwKSxcclxuICAgICAgICAgICAgYWxsOiAweEZGRkZcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucGl4aUJhY2tncm91bmRMYXllciA9IDA7XHJcbiAgICAgICAgdGhpcy5waXhpUHJvamVjdGlsZUxheWVyID0gMTtcclxuICAgICAgICB0aGlzLnBpeGlTdHJ1Y3R1cmVzTGF5ZXIgPSAyO1xyXG4gICAgICAgIHRoaXMucGl4aUJlbG93U2hpcCA9IDM7XHJcbiAgICAgICAgdGhpcy5waXhpQm9keUxheWVyID0gNDtcclxuICAgICAgICB0aGlzLnBpeGlBYm92ZVNoaXAgPSA1O1xyXG4gICAgICAgIHRoaXMucGl4aU5hbWVMYXllciA9IDY7XHJcbiAgICAgICAgdGhpcy5waXhpRWZmZWN0TGF5ZXIgPSA3O1xyXG4gICAgICAgIHRoaXMucGl4aUhpZGVvdXRMYXllciA9IDg7XHJcbiAgICAgICAgdGhpcy5jYW52YXNIdWRMYXllciA9IDk7XHJcbiAgICAgICAgdGhpcy5xd2VydHlLZXlzZXQgPSB7IDg3OiAzLCA4MzogNCwgNjU6IDUsIDY4OiA2LCA2OTogOCwgODE6IDEwLCA4MjogNywgNzM6IDMsIDc1OiA0LCA3NDogNSwgNzY6IDYsIDg5OiA3LCA3OTogOCwgODU6IDEwLCAzODogMywgNDA6IDQsIDM3OiA1LCAzOTogNiwgMzI6IDksIDc3OiAxMSwgODY6IDEyIH07XHJcbiAgICAgICAgdGhpcy5kdm9yYWtLZXlzZXQgPSB7IDE4ODogMywgNzk6IDQsIDY1OiA1LCA2OTogNiwgMTkwOiA4LCAyMjI6IDEwLCA4MDogNywgNjc6IDMsIDg0OiA0LCA3MjogNSwgNzg6IDYsIDcwOiA3LCA4MjogOCwgNzE6IDEwLCAzODogMywgNDA6IDQsIDM3OiA1LCAzOTogNiwgMzI6IDksIDc3OiAxMSwgNzU6IDEyIH07XHJcbiAgICAgICAgdGhpcy51bml2ZXJzYWxLZXlzZXQgPSB7IFwiS2V5V1wiOiAzLCBcIktleVNcIjogNCwgXCJLZXlBXCI6IDUsIFwiS2V5RFwiOiA2LCBcIktleUVcIjogOCwgXCJLZXlRXCI6IDEwLCBcIktleVJcIjogNywgXCJLZXlJXCI6IDMsIFwiS2V5S1wiOiA0LCBcIktleUpcIjogNSwgXCJLZXlMXCI6IDYsIFwiS2V5WVwiOiA3LCBcIktleU9cIjogOCwgXCJLZXlVXCI6IDEwLCBcIkFycm93VXBcIjogMywgXCJBcnJvd0Rvd25cIjogNCwgXCJBcnJvd0xlZnRcIjogNSwgXCJBcnJvd1JpZ2h0XCI6IDYsIFwiU3BhY2VcIjogOSwgXCJLZXlNXCI6IDExLCBcIktleVZcIjogMTIgfTtcclxuICAgIH1cclxufSk7XHJcbmV4cG9ydHMuZGVmYXVsdCA9IEVuZ2luZUNvbnN0YW50cztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW5naW5lLWNvbnN0YW50cy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgbG9nTGV2ZWxzID0ge1xyXG4gICAgbm9uZTogMCxcclxuICAgIGRlYnVnOiAxLFxyXG4gICAgaW5mbzogMixcclxuICAgIGxvZzogMyxcclxuICAgIHdhcm46IDQsXHJcbiAgICBlcnJvcjogNVxyXG59O1xyXG5jbGFzcyBMb2dNZXNzYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGxvZ0xldmVsKSB7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZS5zdGFjayA6IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxvZ0xldmVsO1xyXG4gICAgICAgIHRoaXMudGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB9XHJcbiAgICB0b1N0cmluZygpIHtcclxuICAgICAgICByZXR1cm4gYCR7dGhpcy50aW1lLnRvSVNPU3RyaW5nKCl9XFx0JHtPYmplY3Qua2V5cyhsb2dMZXZlbHMpW3RoaXMubGV2ZWxdLnRvVXBwZXJDYXNlKCl9XFx0JHt0aGlzLm1lc3NhZ2V9YDtcclxuICAgIH1cclxufVxyXG5jbGFzcyBMb2dRdWV1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihsZXZlbCwgbG9nZ2VyLCBjb25zb2xlV3JpdGUpIHtcclxuICAgICAgICB0aGlzLmR1bXBUb0ZpbGUgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5jb25zb2xlV3JpdGUgPSBjb25zb2xlV3JpdGU7XHJcbiAgICAgICAgdGhpcy5sb2dzID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhTaXplID0gMTAwMDtcclxuICAgICAgICB0aGlzLmxvZ0NhbGxiYWNrID0gbnVsbDtcclxuICAgIH1cclxuICAgIHdyaXRlKG1lc3NhZ2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIlRoaXMgd2FzIG5vdCBkZWZpbmVkIGluIGxvZ2dlci5cIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUudHJhY2UoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGxvZyA9IG5ldyBMb2dNZXNzYWdlKG1lc3NhZ2UsIHRoaXMubGV2ZWwpO1xyXG4gICAgICAgIHRoaXMuYWRkKGxvZyk7XHJcbiAgICAgICAgaWYgKHRoaXMubG9nZ2VyLmNvbnNvbGVMZXZlbCAmJiB0aGlzLmxldmVsID49IHRoaXMubG9nZ2VyLmNvbnNvbGVMZXZlbClcclxuICAgICAgICAgICAgdGhpcy5jb25zb2xlV3JpdGUgJiYgdGhpcy5jb25zb2xlV3JpdGUobG9nLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHJldHVybiBsb2c7XHJcbiAgICB9XHJcbiAgICBhZGQobG9nKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWF4U2l6ZSA8PSAwKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5sb2dzLnB1c2gobG9nKTtcclxuICAgICAgICBpZiAodGhpcy5sb2dDYWxsYmFjaylcclxuICAgICAgICAgICAgdGhpcy5sb2dDYWxsYmFjayhsb2cpO1xyXG4gICAgICAgIGlmICh0aGlzLmxvZ3MubGVuZ3RoID4gdGhpcy5tYXhTaXplKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmR1bXBUb0ZpbGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9ncyA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHRoaXMubG9ncy5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmlja2xlKGxvZywgdGhpcy5sZXZlbCAtIDEpO1xyXG4gICAgfVxyXG4gICAgZHVtcCgpIHtcclxuICAgICAgICB2YXIgb3V0ID0gXCJcIjtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubG9ncy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBvdXQgKz0gdGhpcy5sb2dzW2ldLnRvU3RyaW5nKCkgKyBcIlxcclxcblwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIF9Mb2dnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ub25lID0gbmV3IExvZ1F1ZXVlKGxvZ0xldmVscy5ub25lLCB0aGlzLCBudWxsKTtcclxuICAgICAgICB0aGlzLm5vbmUubWF4U2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IG5ldyBMb2dRdWV1ZShsb2dMZXZlbHMuZGVidWcsIHRoaXMsIGNvbnNvbGUuZGVidWcpO1xyXG4gICAgICAgIHRoaXMuaW5mbyA9IG5ldyBMb2dRdWV1ZShsb2dMZXZlbHMuaW5mbywgdGhpcywgY29uc29sZS5pbmZvKTtcclxuICAgICAgICB0aGlzLmxvZyA9IG5ldyBMb2dRdWV1ZShsb2dMZXZlbHMubG9nLCB0aGlzLCBjb25zb2xlLmxvZyk7XHJcbiAgICAgICAgdGhpcy53YXJuID0gbmV3IExvZ1F1ZXVlKGxvZ0xldmVscy53YXJuLCB0aGlzLCBjb25zb2xlLndhcm4pO1xyXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgTG9nUXVldWUobG9nTGV2ZWxzLmVycm9yLCB0aGlzLCBjb25zb2xlLmVycm9yKTtcclxuICAgICAgICB0aGlzLmFsbExvZ3MgPSBbdGhpcy5ub25lLCB0aGlzLmRlYnVnLCB0aGlzLmluZm8sIHRoaXMubG9nLCB0aGlzLndhcm4sIHRoaXMuZXJyb3JdO1xyXG4gICAgICAgIHRoaXMuY29uc29sZUxldmVsID0gbG9nTGV2ZWxzLmxvZztcclxuICAgIH1cclxuICAgIHRyaWNrbGUobG9nLCBsZXZlbCkge1xyXG4gICAgICAgIGlmIChsZXZlbCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5hbGxMb2dzW2xldmVsXS5hZGQobG9nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgTG9nZ2VyID0gbmV3IF9Mb2dnZXIoKTtcclxuZXhwb3J0cy5kZWZhdWx0ID0gTG9nZ2VyO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnZXIuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuZnVuY3Rpb24gbnVtMmxldChhLCBiLCBjLCBudW0pIHtcclxuICAgIGlmIChudW0gPCA0KVxyXG4gICAgICAgIHJldHVybiBhLnJlcGVhdChudW0pO1xyXG4gICAgZWxzZSBpZiAobnVtID09PSA0KVxyXG4gICAgICAgIHJldHVybiBhICsgYjtcclxuICAgIGVsc2UgaWYgKG51bSA8IDkpXHJcbiAgICAgICAgcmV0dXJuIGIgKyBhLnJlcGVhdChudW0gLSA1KTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gYSArIGM7XHJcbn1cclxuY29uc3QgVXRpbCA9IG5ldyAoY2xhc3MgVXRpbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5vcm1hbCA9IChtLCBzKSA9PiAoKChNYXRoLnJhbmRvbSgpICsgTWF0aC5yYW5kb20oKSArIE1hdGgucmFuZG9tKCkpIC8gMS41KSAtIDEpICogKHMgfHwgMSkgKyAobSB8fCAwKTtcclxuICAgICAgICB0aGlzLmRpc3RhbmNlQmV0d2VlblNxID0gKG8xLCBvMikgPT4gKG8xLnggLSBvMi54KSAqIChvMS54IC0gbzIueCkgKyAobzEueSAtIG8yLnkpICogKG8xLnkgLSBvMi55KTtcclxuICAgICAgICB0aGlzLmRpc3RhbmNlQmV0d2VlbiA9IChvMSwgbzIpID0+IE1hdGguc3FydCh0aGlzLmRpc3RhbmNlQmV0d2VlblNxKG8xLCBvMikpO1xyXG4gICAgICAgIHRoaXMucFBlck0gPSAyMDtcclxuICAgICAgICB0aGlzLm1Ub1AgPSBtID0+IG0gKiB0aGlzLnBQZXJNO1xyXG4gICAgICAgIHRoaXMucFRvTSA9IHAgPT4gcCAvIHRoaXMucFBlck07XHJcbiAgICAgICAgdGhpcy5kVG9SID0gZCA9PiBkICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICB0aGlzLnF1YW50aXplID0gdiA9PiBNYXRoLnJvdW5kKHYgKiAxMCkgKiAwLjE7XHJcbiAgICAgICAgdGhpcy5xdWFudGl6ZTIgPSAodiwgdDIpID0+IE1hdGgucm91bmQodiAqICh0MiB8fCAxMCkpO1xyXG4gICAgICAgIHRoaXMucmFuZG9tQ29sb3JDb2RlID0gKCkgPT4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTUzNSk7XHJcbiAgICAgICAgdGhpcy5pc0luUmFuZ2UgPSAoZCwgbzEsIG8yKSA9PiBkICogZCA+IChvMS54IC0gbzIueCkgKiAobzEueCAtIG8yLngpICsgKG8xLnkgLSBvMi55KSAqIChvMS55IC0gbzIueSk7XHJcbiAgICAgICAgdGhpcy5hbmdsZVRvMzYwID0gKGEpID0+IGEgPCAwID8gMzYwIC0gKC1hICUgMzYwKSA6IGEgJSAzNjA7XHJcbiAgICAgICAgdGhpcy5hbmdsZVRvMTgwID0gKGEpID0+IHRoaXMuYW5nbGVUbzM2MChhICsgMTgwKSAtIDE4MDtcclxuICAgICAgICB0aGlzLmFic0FuZ2xlU3ViID0gKGEsIGIpID0+IHsgdmFyIGQgPSBhIC0gYjsgaWYgKGQgPCAwKVxyXG4gICAgICAgICAgICBkID0gLWQ7IGQgPSBkICUgMzYwOyBpZiAoZCA8IDE4MClcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICByZXR1cm4gMzYwIC0gZDsgfTtcclxuICAgICAgICB0aGlzLnJlbEFuZ2xlU3ViID0gKGEsIGIpID0+IHsgaWYgKGEgPCAwKSB7XHJcbiAgICAgICAgICAgIGEgPSAtKC1hICUgMzYwKTtcclxuICAgICAgICAgICAgaWYgKGEgPD0gLTE4MClcclxuICAgICAgICAgICAgICAgIGEgPSAzNjAgKyBhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYSA9IGEgJSAzNjA7XHJcbiAgICAgICAgICAgIGlmIChhID4gMTgwKVxyXG4gICAgICAgICAgICAgICAgYSA9IC0zNjAgKyBhO1xyXG4gICAgICAgIH0gaWYgKGIgPCAwKSB7XHJcbiAgICAgICAgICAgIGIgPSAtKC1iICUgMzYwKTtcclxuICAgICAgICAgICAgaWYgKGIgPD0gLTE4MClcclxuICAgICAgICAgICAgICAgIGIgPSAzNjAgKyBiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYiA9IGIgJSAzNjA7XHJcbiAgICAgICAgICAgIGlmIChiID4gMTgwKVxyXG4gICAgICAgICAgICAgICAgYiA9IC0zNjAgKyBiO1xyXG4gICAgICAgIH0gaWYgKGEgLSBiID4gMTgwKVxyXG4gICAgICAgICAgICByZXR1cm4gKGEgLSBiKSAtIDM2MDtcclxuICAgICAgICBlbHNlIGlmIChhIC0gYiA8IC0xODApXHJcbiAgICAgICAgICAgIHJldHVybiAoYSAtIGIpICsgMzYwO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcmV0dXJuIGEgLSBiOyB9O1xyXG4gICAgICAgIHRoaXMuclRvRCA9IHIgPT4gciAqIDE4MCAvIE1hdGguUEk7XHJcbiAgICAgICAgdGhpcy54b3IgPSAoYSwgYikgPT4gYSA/ICFiIDogYjtcclxuICAgIH1cclxuICAgIGdldFRlYW1SZ2JGcm9tVCh0KSB7XHJcbiAgICAgICAgbGV0IHIgPSAyNTU7XHJcbiAgICAgICAgbGV0IGcgPSAyNTU7XHJcbiAgICAgICAgbGV0IGIgPSAyNTU7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgYiA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHQgPT0gMilcclxuICAgICAgICAgICAgICAgIGcgPSAwLCBiID0gMDtcclxuICAgICAgICAgICAgZWxzZSBpZiAodCA9PSAzKVxyXG4gICAgICAgICAgICAgICAgZyA9IDAsIHIgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4geyByOiByLCBnOiBnLCBiOiBiIH07XHJcbiAgICB9XHJcbiAgICBnZXRSZ2JGcm9tVih2KSB7XHJcbiAgICAgICAgbGV0IHIgPSAyNTU7XHJcbiAgICAgICAgbGV0IGcgPSAyNTU7XHJcbiAgICAgICAgbGV0IGIgPSAyNTU7XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAodiA8IDI1NiB8fCB2ID49IDEyODApXHJcbiAgICAgICAgICAgICAgICByID0gMjU1O1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2ID49IDI1NiAmJiB2IDwgNTEyKVxyXG4gICAgICAgICAgICAgICAgciA9IDI1NSAtICh2IC0gMjU2KTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodiA+PSAxMDI0KVxyXG4gICAgICAgICAgICAgICAgciA9IHYgLSAxMDI0O1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICByID0gMDtcclxuICAgICAgICAgICAgaWYgKHYgPCAyNTYpXHJcbiAgICAgICAgICAgICAgICBnID0gdjtcclxuICAgICAgICAgICAgZWxzZSBpZiAodiA8IDc2OClcclxuICAgICAgICAgICAgICAgIGcgPSAyNTU7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHYgPCAxMDI0KVxyXG4gICAgICAgICAgICAgICAgZyA9IDI1NSAtICh2IC0gNzY4KTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZyA9IDA7XHJcbiAgICAgICAgICAgIGlmICh2IDw9IDUxMilcclxuICAgICAgICAgICAgICAgIGIgPSAwO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh2IDwgNzY4KVxyXG4gICAgICAgICAgICAgICAgYiA9IHYgLSA1MTI7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHYgPCAxMjgwKVxyXG4gICAgICAgICAgICAgICAgYiA9IDI1NTtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgYiA9IDI1NSAtICh2IC0gMTI4MCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IHI6IHIsIGc6IGcsIGI6IGIgfTtcclxuICAgIH1cclxuICAgIGdldENvb2tpZShjbmFtZSkge1xyXG4gICAgICAgIHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcclxuICAgICAgICB2YXIgZGVjb2RlZENvb2tpZSA9IGRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5jb29raWUpO1xyXG4gICAgICAgIHZhciBjYSA9IGRlY29kZWRDb29raWUuc3BsaXQoJzsnKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBjID0gY2FbaV07XHJcbiAgICAgICAgICAgIHdoaWxlIChjLmNoYXJBdCgwKSA9PSAnICcpIHtcclxuICAgICAgICAgICAgICAgIGMgPSBjLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYy5pbmRleE9mKG5hbWUpID09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjLnN1YnN0cmluZyhuYW1lLmxlbmd0aCwgYy5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgZGVsZXRlQ29va2llKGNuYW1lKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj0gOyBleHBpcmVzID0gVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVRcIjtcclxuICAgIH1cclxuICAgIHN0b3BQcm9wYWdhdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKCFlKVxyXG4gICAgICAgICAgICBlID0gd2luZG93LmV2ZW50O1xyXG4gICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbilcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIHByb2JQZXJEdChwcm9iYWJpbGl0eVBlckZpeGVkVGltZSwgZHluYW1pY0R0KSB7XHJcbiAgICAgICAgcmV0dXJuIDEgLSBNYXRoLnBvdygoMSAtIHByb2JhYmlsaXR5UGVyRml4ZWRUaW1lKSwgZHluYW1pY0R0KTtcclxuICAgIH1cclxuICAgIHJhdGVQZXJEdChyYXRlLCBkdCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnBvdyhyYXRlLCBkdCk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBzbGVlcChtcykge1xyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobXMpO1xyXG4gICAgICAgICAgICB9LCBtcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0b1JvbWFuTnVtZXJhbHMobnVtKSB7XHJcbiAgICAgICAgbnVtID0gTWF0aC5mbG9vcihOdW1iZXIobnVtKSk7XHJcbiAgICAgICAgaWYgKG51bSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke251bX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoK251bSA+IDMwMDAwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke251bX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIStudW0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke251bX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcm9tYW5BcnJheSA9IFtcIklcIiwgXCJWXCIsIFwiWFwiLCBcIkxcIiwgXCJDXCIsIFwiRFwiLCBcIk1cIiwgXCJWXFx1MDMwNVwiLCBcIlhcXHUwMzA1XCIsIFwiTFxcdTAzMDVcIiwgXCJDXFx1MDMwNVwiLCBcIkRcXHUwMzA1XCIsIFwiTVxcdTAzMDVcIl07XHJcbiAgICAgICAgbGV0IGFyciA9IFN0cmluZygrbnVtKS5zcGxpdChcIlwiKS5tYXAoZWwgPT4gK2VsKTtcclxuICAgICAgICBsZXQgbGVuID0gYXJyLmxlbmd0aDtcclxuICAgICAgICBsZXQgcm9tYW4gPSBcIlwiO1xyXG4gICAgICAgIGFyci5mb3JFYWNoKGVsID0+IHtcclxuICAgICAgICAgICAgbGV0IGluZGV4ID0gKGxlbiAtIDEpICogMjtcclxuICAgICAgICAgICAgcm9tYW4gKz0gbnVtMmxldChyb21hbkFycmF5W2luZGV4XSwgcm9tYW5BcnJheVtpbmRleCArIDFdLCByb21hbkFycmF5W2luZGV4ICsgMl0sIGVsKTtcclxuICAgICAgICAgICAgbGVuLS07XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJvbWFuO1xyXG4gICAgfVxyXG4gICAgdHlwZU5hbWUoY2xhc3NUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYXNzVHlwZS50b1N0cmluZygpLnNwbGl0KFwiIFwiKVsxXTtcclxuICAgIH1cclxuICAgIG5hbWVvZihuYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICB9XHJcbn0pO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBVdGlsO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD11dGlsLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNsYXNzIFZlY3RvcjMge1xyXG4gICAgY29uc3RydWN0b3IoeCwgeSwgeikge1xyXG4gICAgICAgIHRoaXMueCA9IDA7XHJcbiAgICAgICAgdGhpcy55ID0gMDtcclxuICAgICAgICB0aGlzLnogPSAwO1xyXG4gICAgICAgIHRoaXMuX29sZE1hZyA9IDA7XHJcbiAgICAgICAgdGhpcy5fb2xkTWFnMiA9IDA7XHJcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSAmJiB4IGluc3RhbmNlb2YgVmVjdG9yMykge1xyXG4gICAgICAgICAgICB0aGlzLnggPSB4WzBdO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB4WzFdO1xyXG4gICAgICAgICAgICB0aGlzLnogPSB4WzJdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy54ID0geCB8fCAwO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB5IHx8IDA7XHJcbiAgICAgICAgICAgIHRoaXMueiA9IHogfHwgMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgbWFnKCkge1xyXG4gICAgICAgIGxldCBtMiA9IHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcclxuICAgICAgICBpZiAodGhpcy5fb2xkTWFnMiA9PSBtMilcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX29sZE1hZztcclxuICAgICAgICB0aGlzLl9vbGRNYWcyID0gbTI7XHJcbiAgICAgICAgdGhpcy5fb2xkTWFnID0gTWF0aC5zcXJ0KG0yKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb2xkTWFnO1xyXG4gICAgfVxyXG4gICAgZ2V0IG1hZzIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIHRoaXMueCArIHRoaXMueSAqIHRoaXMueSArIHRoaXMueiAqIHRoaXMuejtcclxuICAgIH1cclxuICAgIGdldCB1bml0KCkge1xyXG4gICAgICAgIGxldCBtID0gMSAvIHRoaXMubWFnO1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLnggKiBtLCB0aGlzLnkgKiBtLCB0aGlzLnogKiBtKTtcclxuICAgIH1cclxuICAgIGdldCBjbG9uZSgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54LCB0aGlzLnksIHRoaXMueik7XHJcbiAgICB9XHJcbiAgICBhZGQob3RoZXIpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjModGhpcy54ICsgb3RoZXIueCwgdGhpcy55ICsgb3RoZXIueSwgdGhpcy56ICsgb3RoZXIueik7XHJcbiAgICB9XHJcbiAgICBzdWJ0cmFjdChvdGhlcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLnggLSBvdGhlci54LCB0aGlzLnkgLSBvdGhlci55LCB0aGlzLnogLSBvdGhlci56KTtcclxuICAgIH1cclxuICAgIG11bHRpcGx5KHZhbCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMyh0aGlzLnggKiB2YWwsIHRoaXMueSAqIHZhbCwgdGhpcy56ICogdmFsKTtcclxuICAgIH1cclxuICAgIGNyb3NzKG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IzKCh0aGlzLnkgKiBvdGhlci56KSAtICh0aGlzLnogKiBvdGhlci55KSwgKHRoaXMueiAqIG90aGVyLngpIC0gKHRoaXMueCAqIG90aGVyLnopLCAodGhpcy54ICogb3RoZXIueSkgLSAodGhpcy55ICogb3RoZXIueCkpO1xyXG4gICAgfVxyXG4gICAgZG90KG90aGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueCAqIG90aGVyLnggKyB0aGlzLnkgKiBvdGhlci55ICsgdGhpcy56ICogb3RoZXIuejtcclxuICAgIH1cclxuICAgIGFkZFdpdGhWZWN0b3Iob3RoZXIpIHtcclxuICAgICAgICB0aGlzLnggKz0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgKz0gb3RoZXIueTtcclxuICAgICAgICB0aGlzLnogKz0gb3RoZXIuejtcclxuICAgIH1cclxuICAgIGFkZFdpdGhTY2FsYXJzKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnggKz0geDtcclxuICAgICAgICB0aGlzLnkgKz0geTtcclxuICAgICAgICB0aGlzLnogKz0gejtcclxuICAgIH1cclxuICAgIG11bHRpcGx5V2l0aFNjYWxhcih2YWwpIHtcclxuICAgICAgICB0aGlzLnggKj0gdmFsO1xyXG4gICAgICAgIHRoaXMueSAqPSB2YWw7XHJcbiAgICAgICAgdGhpcy56ICo9IHZhbDtcclxuICAgIH1cclxuICAgIG5vcm1hbGl6ZSgpIHtcclxuICAgICAgICBsZXQgbSA9IDEgLyB0aGlzLm1hZztcclxuICAgICAgICB0aGlzLnggKj0gbTtcclxuICAgICAgICB0aGlzLnkgKj0gbTtcclxuICAgICAgICB0aGlzLnogKj0gbTtcclxuICAgICAgICB0aGlzLl9vbGRNYWcgPSAxO1xyXG4gICAgICAgIHRoaXMuX29sZE1hZzIgPSAxO1xyXG4gICAgfVxyXG4gICAgc2V0VG9TY2FsYXJzKHgsIHksIHopIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy56ID0gejtcclxuICAgIH1cclxuICAgIHNldFRvVmVjdG9yKG90aGVyKSB7XHJcbiAgICAgICAgdGhpcy54ID0gb3RoZXIueDtcclxuICAgICAgICB0aGlzLnkgPSBvdGhlci55O1xyXG4gICAgICAgIHRoaXMueiA9IG90aGVyLno7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5kZWZhdWx0ID0gVmVjdG9yMztcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLTMuanMubWFwIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiRGVidWciLCJsb2ciLCJmbGFncyIsIm1lc3NhZ2UiLCJlbmFibGVkRmxhZ3MiLCJjb25zb2xlIiwiZGVidWciLCJzZXQiLCJmbGFnIiwibm9uZSIsInVzZXJMaWZlY3ljbGUiLCJlbmdpbmUiLCJFbmdpbmVDb25zdGFudHMiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJndW5NYXRlcmlhbCIsImJhc2VTaGllbGRCcmlnaHRuZXNzIiwibWVhblNoaWVsZEFscGhhIiwic2hpZWxkQWxwaGFSYW5nZSIsIkdMT0JBTF9VRk9fUkFESVVTIiwiR0xPQkFMX1VGT19NQVNTIiwiTWF0aCIsIlBJIiwiYXN0ZXJvaWRHcmFwaGljc0FuZ2xlcyIsImFzdGVyb2lkR3JhcGhpY3NQZXJzcGVjdGl2ZXMiLCJzdHJ1Y3R1cmVUeXBlcyIsIndhbGwiLCJzaGVsdGVyIiwidmFudGFnZVBvaW50Iiwid2luZG93IiwiY29sQ2F0cyIsInZpZXdzIiwiYm9kaWVzIiwiZml4dHVyZXMiLCJwcm9qZWN0aWxlcyIsIndvcmxkT2JqcyIsImFsbCIsInBpeGlCYWNrZ3JvdW5kTGF5ZXIiLCJwaXhpUHJvamVjdGlsZUxheWVyIiwicGl4aVN0cnVjdHVyZXNMYXllciIsInBpeGlCZWxvd1NoaXAiLCJwaXhpQm9keUxheWVyIiwicGl4aUFib3ZlU2hpcCIsInBpeGlOYW1lTGF5ZXIiLCJwaXhpRWZmZWN0TGF5ZXIiLCJwaXhpSGlkZW91dExheWVyIiwiY2FudmFzSHVkTGF5ZXIiLCJxd2VydHlLZXlzZXQiLCJkdm9yYWtLZXlzZXQiLCJ1bml2ZXJzYWxLZXlzZXQiLCJsb2dMZXZlbHMiLCJpbmZvIiwid2FybiIsImVycm9yIiwiTG9nTWVzc2FnZSIsImxvZ0xldmVsIiwiRXJyb3IiLCJzdGFjayIsImxldmVsIiwidGltZSIsIkRhdGUiLCJ0b1N0cmluZyIsInRvSVNPU3RyaW5nIiwia2V5cyIsInRvVXBwZXJDYXNlIiwiTG9nUXVldWUiLCJsb2dnZXIiLCJjb25zb2xlV3JpdGUiLCJkdW1wVG9GaWxlIiwibG9ncyIsIm1heFNpemUiLCJsb2dDYWxsYmFjayIsIndyaXRlIiwidHJhY2UiLCJhZGQiLCJjb25zb2xlTGV2ZWwiLCJwdXNoIiwibGVuZ3RoIiwic2hpZnQiLCJ0cmlja2xlIiwiZHVtcCIsIm91dCIsImkiLCJMb2dnZXIiLCJhbGxMb2dzIiwiVXRpbCIsIm5vcm1hbCIsIm0iLCJzIiwicmFuZG9tIiwiZGlzdGFuY2VCZXR3ZWVuU3EiLCJvMSIsIm8yIiwieCIsInkiLCJkaXN0YW5jZUJldHdlZW4iLCJzcXJ0IiwicFBlck0iLCJtVG9QIiwicFRvTSIsInAiLCJkVG9SIiwiZCIsInF1YW50aXplIiwidiIsInJvdW5kIiwicXVhbnRpemUyIiwidDIiLCJyYW5kb21Db2xvckNvZGUiLCJpc0luUmFuZ2UiLCJhbmdsZVRvMzYwIiwiYSIsImFuZ2xlVG8xODAiLCJhYnNBbmdsZVN1YiIsImIiLCJyZWxBbmdsZVN1YiIsInJUb0QiLCJyIiwieG9yIiwiZ2V0VGVhbVJnYkZyb21UIiwidCIsImciLCJnZXRSZ2JGcm9tViIsImdldENvb2tpZSIsImNuYW1lIiwibmFtZSIsImNhIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZG9jdW1lbnQiLCJjb29raWUiLCJzcGxpdCIsImMiLCJjaGFyQXQiLCJzdWJzdHJpbmciLCJpbmRleE9mIiwiZGVsZXRlQ29va2llIiwic3RvcFByb3BhZ2F0aW9uIiwiZSIsImV2ZW50IiwiY2FuY2VsQnViYmxlIiwicHJvYlBlckR0IiwicHJvYmFiaWxpdHlQZXJGaXhlZFRpbWUiLCJkeW5hbWljRHQiLCJwb3ciLCJyYXRlUGVyRHQiLCJyYXRlIiwiZHQiLCJhc3luYyIsIm1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwidG9Sb21hbk51bWVyYWxzIiwibnVtIiwiZmxvb3IiLCJOdW1iZXIiLCJyb21hbkFycmF5IiwiYXJyIiwiU3RyaW5nIiwibWFwIiwiZWwiLCJsZW4iLCJyb21hbiIsImZvckVhY2giLCJpbmRleCIsInJlcGVhdCIsIm51bTJsZXQiLCJ0eXBlTmFtZSIsImNsYXNzVHlwZSIsIm5hbWVvZiIsIlZlY3RvcjMiLCJ6IiwiX29sZE1hZyIsIl9vbGRNYWcyIiwiYXJndW1lbnRzIiwibWFnIiwibTIiLCJtYWcyIiwidW5pdCIsImNsb25lIiwib3RoZXIiLCJzdWJ0cmFjdCIsIm11bHRpcGx5IiwidmFsIiwiY3Jvc3MiLCJkb3QiLCJhZGRXaXRoVmVjdG9yIiwiYWRkV2l0aFNjYWxhcnMiLCJtdWx0aXBseVdpdGhTY2FsYXIiLCJub3JtYWxpemUiLCJzZXRUb1NjYWxhcnMiLCJzZXRUb1ZlY3RvciJdLCJzb3VyY2VSb290IjoiIn0=