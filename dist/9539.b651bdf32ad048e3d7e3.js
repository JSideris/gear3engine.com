"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[9539],{9539:(t,e,r)=>{r.d(e,{vl:()=>w});var n=r(4295),i=r(1573),a=r(1473),s=r(5323),o=r(5307),h=r(8093),f=r(29),l=r(7235),u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},u(t,e)},c=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},p=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],a=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),s={};for(var o in a){var h=a[o].split("="),f=h[0],l=h[1].replace(/"/gm,""),u=parseFloat(l),p=isNaN(u)?l:u;s[f]=p}r[i].push(s)}var g=new c;return r.info.forEach((function(t){return g.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return g.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return g.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return g.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return g.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),g},t}(),g=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new c,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),s=t.getElementsByTagName("kerning"),o=0;o<r.length;o++)e.info.push({face:r[o].getAttribute("face"),size:parseInt(r[o].getAttribute("size"),10)});for(o=0;o<n.length;o++)e.common.push({lineHeight:parseInt(n[o].getAttribute("lineHeight"),10)});for(o=0;o<i.length;o++)e.page.push({id:parseInt(i[o].getAttribute("id"),10)||0,file:i[o].getAttribute("file")});for(o=0;o<a.length;o++){var h=a[o];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(o=0;o<s.length;o++)e.kerning.push({first:parseInt(s[o].getAttribute("first"),10),second:parseInt(s[o].getAttribute("second"),10),amount:parseInt(s[o].getAttribute("amount"),10)});return e},t}(),d=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return g.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return g.parse(e)},t}(),v=[p,g,d];function m(t){for(var e=0;e<v.length;e++)if(v[e].test(t))return v[e];return null}function x(t,e,r,n,i,a,o){var f=r.text,l=r.fontProperties;e.translate(n,i),e.scale(a,a);var u=o.strokeThickness/2,c=-o.strokeThickness/2;if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=function(t,e,r,n,i,a){var s,o=r.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var f=r.dropShadow?r.dropShadowDistance:0,l=r.padding||0,u=Math.ceil(t.width/n)-f-2*l,c=Math.ceil(t.height/n)-f-2*l,p=o.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var d=p.length+1,v=1;v<d;++v)g.push(v/d);if(p.unshift(o[0]),g.unshift(0),p.push(o[o.length-1]),g.push(1),r.fillGradientType===h.M_.LINEAR_VERTICAL){s=e.createLinearGradient(u/2,l,u/2,c+l);var m=0,x=(a.fontProperties.fontSize+r.strokeThickness)/c;for(v=0;v<i.length;v++)for(var y=a.lineHeight*v,b=0;b<p.length;b++){var _=y/c+("number"==typeof g[b]?g[b]:b/p.length)*x,w=Math.max(m,_);w=Math.min(w,1),s.addColorStop(w,p[b]),m=w}}else{s=e.createLinearGradient(l,c/2,u+l,c/2);var A=p.length+1,I=1;for(v=0;v<p.length;v++){var S;S="number"==typeof g[v]?g[v]:I/A,s.addColorStop(S,p[v]),I++}}return s}(t,e,o,a,[f],r),e.strokeStyle=o.stroke,o.dropShadow){var p=o.dropShadowColor,g=(0,s.hex2rgb)("number"==typeof p?p:(0,s.string2hex)(p)),d=o.dropShadowBlur*a,v=o.dropShadowDistance*a;e.shadowColor="rgba("+255*g[0]+","+255*g[1]+","+255*g[2]+","+o.dropShadowAlpha+")",e.shadowBlur=d,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(f,u,c+r.lineHeight-l.descent),o.fill&&e.fillText(f,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var y=function(){function t(t,e,r){var i=t.info[0],a=t.common[0],h=t.page[0],f=(0,s.getResolutionOfUrl)(h.file),l={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=a.lineHeight/f,this.chars={},this.pageTextures=l;for(var u=0;u<t.page.length;u++){var c=t.page[u],p=c.id,g=c.file;l[p]=e instanceof Array?e[u]:e[g]}for(u=0;u<t.char.length;u++){var d=t.char[u],v=(p=d.id,d.page),m=t.char[u],x=m.x,y=m.y,b=m.width,_=m.height,w=m.xoffset,A=m.yoffset,I=m.xadvance;x/=f,y/=f,b/=f,_/=f,w/=f,A/=f,I/=f;var S=new n.Ae(x+l[v].frame.x/f,y+l[v].frame.y/f,b,_);this.chars[p]={xOffset:w,yOffset:A,xAdvance:I,kerning:{},texture:new o.xE(l[v].baseTexture,S),page:v}}for(u=0;u<t.kerning.length;u++){var E=t.kerning[u],P=E.first,T=E.second,O=E.amount;P/=f,T/=f,O/=f,this.chars[T]&&(this.chars[T].kerning[P]=O)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof c)i=e;else{var a=m(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof o.xE&&(r=[r]);var s=new t(i,r,n);return t.available[s.font]=s,s},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,s=i.padding,f=i.resolution,l=i.textureWidth,u=i.textureHeight,p=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,h=s;o<=h;o++)e.push(String.fromCharCode(o))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),g=r instanceof h.pn?r:new h.pn(r),d=l,v=new c;v.info[0]={face:g.fontFamily,size:g.fontSize},v.common[0]={lineHeight:g.fontSize};for(var m,y,b,_=0,w=0,A=0,I=[],S=0;S<p.length;S++){m||((m=document.createElement("canvas")).width=l,m.height=u,y=m.getContext("2d"),b=new o.VL(m,{resolution:f}),I.push(new o.xE(b)),v.page.push({id:I.length-1,file:""}));var E=h._A.measureText(p[S],g,!1,m),P=E.width,T=Math.ceil(E.height),O=Math.ceil(("italic"===g.fontStyle?2:1)*P);if(w>=u-T*f){if(0===w)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+g.fontSize+"px fonts");--S,m=null,y=null,b=null,w=0,_=0,A=0}else if(A=Math.max(T+E.fontProperties.descent,A),O*f+_>=d)--S,w+=A*f,w=Math.ceil(w),_=0,A=0;else{x(m,y,E,_,w,f,g);var k=E.text.charCodeAt(0);v.char.push({id:k,page:I.length-1,x:_/f,y:w/f,width:O,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(P-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0))}),_+=(O+2*s)*f,_=Math.ceil(_)}}var C=new t(v,I,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=C,C},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),b=[],_=[],w=(function(t){function e(r,a){void 0===a&&(a={});var o=t.call(this)||this;o._tint=16777215,a.font&&((0,s.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),o._upgradeStyle(a));var h=Object.assign({},e.styleDefaults,a),f=h.align,l=h.tint,u=h.maxWidth,c=h.letterSpacing,p=h.fontName,g=h.fontSize;if(!y.available[p])throw new Error('Missing BitmapFont "'+p+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=f,o._tint=l,o._fontName=p,o._fontSize=g||y.available[p].size,o._text=r,o._maxWidth=u,o._maxLineHeight=0,o._letterSpacing=c,o._anchor=new n.AB((function(){o.dirty=!0}),o,0,0),o._roundPixels=i.X.ROUND_PIXELS,o.dirty=!0,o._textureCache={},o}(function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)})(e,t),e.prototype.updateText=function(){for(var t,e=y.available[this._fontName],r=this._fontSize/e.size,i=new n.E9,h=[],f=[],l=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=l.length,c=this._maxWidth*e.size/this._fontSize,p=null,g=0,d=0,v=0,m=-1,x=0,w=0,A=0,I=0;I<u;I++){var S=l.charCodeAt(I),E=l.charAt(I);if(/(?:\s)/.test(E)&&(m=I,x=g),"\r"!==E&&"\n"!==E){var P=e.chars[S];if(P){p&&P.kerning[p]&&(i.x+=P.kerning[p]);var T=_.pop()||{texture:o.xE.EMPTY,line:0,charCode:0,position:new n.E9};T.texture=P.texture,T.line=v,T.charCode=S,T.position.x=i.x+P.xOffset+this._letterSpacing/2,T.position.y=i.y+P.yOffset,h.push(T),i.x+=P.xAdvance+this._letterSpacing,g=i.x,A=Math.max(A,P.yOffset+P.texture.height),p=S,-1!==m&&c>0&&i.x>c&&(++w,(0,s.removeItems)(h,1+m-w,1+I-m),I=m,m=-1,f.push(x),d=Math.max(d,x),v++,i.x=0,i.y+=e.lineHeight,p=null)}}else f.push(g),d=Math.max(d,g),++v,++w,i.x=0,i.y+=e.lineHeight,p=null}var O=l.charAt(l.length-1);"\r"!==O&&"\n"!==O&&(/(?:\s)/.test(O)&&(g=x),f.push(g),d=Math.max(d,g));var k=[];for(I=0;I<=v;I++){var C=0;"right"===this._align?C=d-f[I]:"center"===this._align&&(C=(d-f[I])/2),k.push(C)}var M=h.length,z={},B=[],H=this._activePagesMeshData;for(I=0;I<H.length;I++)b.push(H[I]);for(I=0;I<M;I++){var N=(Y=h[I].texture).baseTexture.uid;if(!z[N]){if(!(q=b.pop())){var F=new a.xc,j=new a.rY(o.xE.EMPTY);q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new a.Kj(F,j),vertices:null,uvs:null,indices:null}}q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0;var L=this._textureCache;L[N]=L[N]||new o.xE(Y.baseTexture),q.mesh.texture=L[N],q.mesh.tint=this._tint,B.push(q),z[N]=q}z[N].total++}for(I=0;I<H.length;I++)-1===B.indexOf(H[I])&&this.removeChild(H[I].mesh);for(I=0;I<B.length;I++)B[I].mesh.parent!==this&&this.addChild(B[I].mesh);for(var I in this._activePagesMeshData=B,z){var D=(q=z[I]).total;if(!((null===(t=q.indices)||void 0===t?void 0:t.length)>6*D)||q.vertices.length<2*a.Kj.BATCHABLE_SIZE)q.vertices=new Float32Array(8*D),q.uvs=new Float32Array(8*D),q.indices=new Uint16Array(6*D);else for(var W=q.total,U=q.vertices,X=4*W*2;X<U.length;X++)U[X]=0;q.mesh.size=6*D}for(I=0;I<M;I++){var R=(E=h[I]).position.x+k[E.line];this._roundPixels&&(R=Math.round(R));var Y,G=R*r,Z=E.position.y*r,V=z[(Y=E.texture).baseTexture.uid],$=Y.frame,J=Y._uvs,K=V.index++;V.indices[6*K+0]=0+4*K,V.indices[6*K+1]=1+4*K,V.indices[6*K+2]=2+4*K,V.indices[6*K+3]=0+4*K,V.indices[6*K+4]=2+4*K,V.indices[6*K+5]=3+4*K,V.vertices[8*K+0]=G,V.vertices[8*K+1]=Z,V.vertices[8*K+2]=G+$.width*r,V.vertices[8*K+3]=Z,V.vertices[8*K+4]=G+$.width*r,V.vertices[8*K+5]=Z+$.height*r,V.vertices[8*K+6]=G,V.vertices[8*K+7]=Z+$.height*r,V.uvs[8*K+0]=J.x0,V.uvs[8*K+1]=J.y0,V.uvs[8*K+2]=J.x1,V.uvs[8*K+3]=J.y1,V.uvs[8*K+4]=J.x2,V.uvs[8*K+5]=J.y2,V.uvs[8*K+6]=J.x3,V.uvs[8*K+7]=J.y3}for(var I in this._textWidth=d*r,this._textHeight=(i.y+e.lineHeight)*r,z){var q=z[I];if(0!==this.anchor.x||0!==this.anchor.y)for(var Q=0,tt=this._textWidth*this.anchor.x,et=this._textHeight*this.anchor.y,rt=0;rt<q.total;rt++)q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et;this._maxLineHeight=A*r;var nt=q.mesh.geometry.getBuffer("aVertexPosition"),it=q.mesh.geometry.getBuffer("aTextureCoord"),at=q.mesh.geometry.getIndex();nt.data=q.vertices,it.data=q.uvs,at.data=q.indices,nt.update(),it.update(),at.update()}for(I=0;I<h.length;I++)_.push(h[I])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!y.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var r=this._textureCache;for(var n in r)r[n].destroy(),delete r[n];this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return(0,s.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),y.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return(0,s.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),y.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(f.W2),function(){function t(){}return t.add=function(){l.kC.setExtensionXhrType("fnt",l.kC.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=m(e.data);if(n)for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),s={},o=function(t){s[t.metadata.pageFile]=t.texture,Object.keys(s).length===a.page.length&&(e.bitmapFont=y.install(a,s,!0),r())},h=0;h<a.page.length;++h){var f=a.page[h].file,u=i+f,c=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===u){g.metadata.pageFile=f,g.texture?o(g):g.onAfterMiddleware.add(o),c=!0;break}}if(!c){var d={crossOrigin:e.crossOrigin,loadType:l.kC.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},e.metadata.imageMetadata),parentResource:e};this.add(u,d,o)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}())}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixZQUNNLE1BQVhELElBQ0FBLEVBQVMsSUFFVEQsRUFBT2hCLFNBQVdpQixHQUV1QyxNQUFyREQsRUFBT2hCLFFBQVE1RSxPQUFPNEYsRUFBT2hCLFFBQVF0USxPQUFTLEtBQzlDdVIsR0FBVSxPQUt0QkEsRUFBU0EsRUFBT2xULFFBQVFpVCxFQUFPaEIsUUFBUyxNQUVXLE1BQXJDaUIsRUFBTzdGLE9BQU82RixFQUFPdlIsT0FBUyxLQUN4Q3VSLEdBQVUsS0FFUEEsQ0FDWCxFQU1BMUksRUFBaUI0SSxRQUFVLFNBQVVaLEdBQ2pDLElBQUlhLEVBQU1iLEVBQ0x4UyxRQUFRLE1BQU8sS0FDZkEsUUFBUSxNQUFPLElBQ2ZBLFFBQVEsWUFBYSxJQUUxQixPQUFJcVQsSUFBUWIsRUFDRCxJQUdNLEtBQVJhLEVBQ0UsSUFFSkEsQ0FDWCxFQUNPN0ksQ0FDWCxDQXZIcUMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL2dlYXIzZW5naW5lLXdlYnNpdGUvLi9ub2RlX21vZHVsZXMvQHBpeGkvdGV4dC1iaXRtYXAvbGliL3RleHQtYml0bWFwLmVzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQHBpeGkvdGV4dC1iaXRtYXAgLSB2NS4zLjEyXG4gKiBDb21waWxlZCBXZWQsIDIzIE1hciAyMDIyIDE4OjM0OjI4IFVUQ1xuICpcbiAqIEBwaXhpL3RleHQtYml0bWFwIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuaW1wb3J0IHsgUmVjdGFuZ2xlLCBPYnNlcnZhYmxlUG9pbnQsIFBvaW50IH0gZnJvbSAnQHBpeGkvbWF0aCc7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gJ0BwaXhpL3NldHRpbmdzJztcbmltcG9ydCB7IE1lc2hHZW9tZXRyeSwgTWVzaE1hdGVyaWFsLCBNZXNoIH0gZnJvbSAnQHBpeGkvbWVzaCc7XG5pbXBvcnQgeyBoZXgycmdiLCBzdHJpbmcyaGV4LCBnZXRSZXNvbHV0aW9uT2ZVcmwsIGRlcHJlY2F0aW9uLCByZW1vdmVJdGVtcyB9IGZyb20gJ0BwaXhpL3V0aWxzJztcbmltcG9ydCB7IFRleHR1cmUsIEJhc2VUZXh0dXJlIH0gZnJvbSAnQHBpeGkvY29yZSc7XG5pbXBvcnQgeyBURVhUX0dSQURJRU5ULCBUZXh0U3R5bGUsIFRleHRNZXRyaWNzIH0gZnJvbSAnQHBpeGkvdGV4dCc7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tICdAcGl4aS9kaXNwbGF5JztcbmltcG9ydCB7IExvYWRlclJlc291cmNlIH0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBtYXgtbGVuICovXG4vKipcbiAqIE5vcm1hbGl6ZWQgcGFyc2VkIGRhdGEgZnJvbSAuZm50IGZpbGVzLlxuICpcbiAqIEBjbGFzc1xuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEJpdG1hcEZvbnREYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJpdG1hcEZvbnREYXRhKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFJbmZvW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pbmZvID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YUNvbW1vbltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY29tbW9uID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLklCaXRtYXBGb250RGF0YVBhZ2VbXX1cbiAgICAgICAgICogQHJlYWRPbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2UgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnREYXRhQ2hhcltdfVxuICAgICAgICAgKiBAcmVhZE9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhciA9IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5JQml0bWFwRm9udERhdGFLZXJuaW5nW119XG4gICAgICAgICAqIEByZWFkT25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5rZXJuaW5nID0gW107XG4gICAgfVxuICAgIHJldHVybiBCaXRtYXBGb250RGF0YTtcbn0oKSk7XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFJbmZvXG4gKiBAcHJvcGVydHkge3N0cmluZ30gZmFjZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHNpemVcbiAqL1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHR5cGVkZWYge29iamVjdH0gSUJpdG1hcEZvbnREYXRhQ29tbW9uXG4gKiBAcHJvcGVydHkge251bWJlcn0gbGluZUhlaWdodFxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFQYWdlXG4gKiBAcHJvcGVydHkge251bWJlcn0gaWRcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBmaWxlXG4gKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEB0eXBlZGVmIHtvYmplY3R9IElCaXRtYXBGb250RGF0YUNoYXJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHBhZ2VcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4XG4gKiBAcHJvcGVydHkge251bWJlcn0geVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHdpZHRoXG4gKiBAcHJvcGVydHkge251bWJlcn0gaGVpZ2h0XG4gKiBAcHJvcGVydHkge251bWJlcn0geG9mZnNldFxuICogQHByb3BlcnR5IHtudW1iZXJ9IHlvZmZzZXRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB4YWR2YW5jZVxuICovXG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAdHlwZWRlZiB7b2JqZWN0fSBJQml0bWFwRm9udERhdGFLZXJuaW5nXG4gKiBAcHJvcGVydHkge251bWJlcn0gZmlyc3RcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzZWNvbmRcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBhbW91bnRcbiAqL1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBUZXh0LWJhc2VkLlxuICpcbiAqIEBjbGFzc1xuICogQHByaXZhdGVcbiAqL1xudmFyIFRleHRGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGV4dEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHR4dCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBUZXh0Rm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignaW5mbyBmYWNlPScpID09PSAwO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVydCB0ZXh0IGZvbnQgZGF0YSB0byBhIGphdmFzY3JpcHQgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR4dCAtIFJhdyBzdHJpbmcgZGF0YSB0byBiZSBjb252ZXJ0ZWRcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnREYXRhfSBQYXJzZWQgZm9udCBkYXRhXG4gICAgICovXG4gICAgVGV4dEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh0eHQpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBpdGVtXG4gICAgICAgIHZhciBpdGVtcyA9IHR4dC5tYXRjaCgvXlthLXpdK1xccysuKyQvZ20pO1xuICAgICAgICB2YXIgcmF3RGF0YSA9IHtcbiAgICAgICAgICAgIGluZm86IFtdLFxuICAgICAgICAgICAgY29tbW9uOiBbXSxcbiAgICAgICAgICAgIHBhZ2U6IFtdLFxuICAgICAgICAgICAgY2hhcjogW10sXG4gICAgICAgICAgICBjaGFyczogW10sXG4gICAgICAgICAgICBrZXJuaW5nOiBbXSxcbiAgICAgICAgICAgIGtlcm5pbmdzOiBbXSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBpdGVtcykge1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIG5hbWVcbiAgICAgICAgICAgIHZhciBuYW1lID0gaXRlbXNbaV0ubWF0Y2goL15bYS16XSsvZ20pWzBdO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCBpdGVtIGF0dHJpYnV0ZSBsaXN0IGFzIHN0cmluZyBleC46IFwid2lkdGg9MTBcIlxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZUxpc3QgPSBpdGVtc1tpXS5tYXRjaCgvW2EtekEtWl0rPShbXlxcc1wiJ10rfFwiKFteXCJdKilcIikvZ20pO1xuICAgICAgICAgICAgLy8gQ29udmVydCBhdHRyaWJ1dGUgbGlzdCBpbnRvIGFuIG9iamVjdFxuICAgICAgICAgICAgdmFyIGl0ZW1EYXRhID0ge307XG4gICAgICAgICAgICBmb3IgKHZhciBpXzEgaW4gYXR0cmlidXRlTGlzdCkge1xuICAgICAgICAgICAgICAgIC8vIFNwbGl0IGtleS12YWx1ZSBwYWlyc1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IGF0dHJpYnV0ZUxpc3RbaV8xXS5zcGxpdCgnPScpO1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzcGxpdFswXTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZXZlbnR1YWwgcXVvdGVzIGZyb20gdmFsdWVcbiAgICAgICAgICAgICAgICB2YXIgc3RyVmFsdWUgPSBzcGxpdFsxXS5yZXBsYWNlKC9cIi9nbSwgJycpO1xuICAgICAgICAgICAgICAgIC8vIFRyeSB0byBjb252ZXJ0IHZhbHVlIGludG8gZmxvYXRcbiAgICAgICAgICAgICAgICB2YXIgZmxvYXRWYWx1ZSA9IHBhcnNlRmxvYXQoc3RyVmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgdmFsdWUgY2FzZSBmbG9hdCB2YWx1ZSBpcyBOYU5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBpc05hTihmbG9hdFZhbHVlKSA/IHN0clZhbHVlIDogZmxvYXRWYWx1ZTtcbiAgICAgICAgICAgICAgICBpdGVtRGF0YVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQdXNoIGN1cnJlbnQgaXRlbSB0byB0aGUgcmVzdWx0aW5nIGRhdGFcbiAgICAgICAgICAgIHJhd0RhdGFbbmFtZV0ucHVzaChpdGVtRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgcmF3RGF0YS5pbmZvLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHsgcmV0dXJuIGZvbnQuaW5mby5wdXNoKHtcbiAgICAgICAgICAgIGZhY2U6IGluZm8uZmFjZSxcbiAgICAgICAgICAgIHNpemU6IHBhcnNlSW50KGluZm8uc2l6ZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY29tbW9uLmZvckVhY2goZnVuY3Rpb24gKGNvbW1vbikgeyByZXR1cm4gZm9udC5jb21tb24ucHVzaCh7XG4gICAgICAgICAgICBsaW5lSGVpZ2h0OiBwYXJzZUludChjb21tb24ubGluZUhlaWdodCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEucGFnZS5mb3JFYWNoKGZ1bmN0aW9uIChwYWdlKSB7IHJldHVybiBmb250LnBhZ2UucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQocGFnZS5pZCwgMTApLFxuICAgICAgICAgICAgZmlsZTogcGFnZS5maWxlLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEuY2hhci5mb3JFYWNoKGZ1bmN0aW9uIChjaGFyKSB7IHJldHVybiBmb250LmNoYXIucHVzaCh7XG4gICAgICAgICAgICBpZDogcGFyc2VJbnQoY2hhci5pZCwgMTApLFxuICAgICAgICAgICAgcGFnZTogcGFyc2VJbnQoY2hhci5wYWdlLCAxMCksXG4gICAgICAgICAgICB4OiBwYXJzZUludChjaGFyLngsIDEwKSxcbiAgICAgICAgICAgIHk6IHBhcnNlSW50KGNoYXIueSwgMTApLFxuICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGNoYXIud2lkdGgsIDEwKSxcbiAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoY2hhci5oZWlnaHQsIDEwKSxcbiAgICAgICAgICAgIHhvZmZzZXQ6IHBhcnNlSW50KGNoYXIueG9mZnNldCwgMTApLFxuICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQoY2hhci55b2Zmc2V0LCAxMCksXG4gICAgICAgICAgICB4YWR2YW5jZTogcGFyc2VJbnQoY2hhci54YWR2YW5jZSwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJhd0RhdGEua2VybmluZy5mb3JFYWNoKGZ1bmN0aW9uIChrZXJuaW5nKSB7IHJldHVybiBmb250Lmtlcm5pbmcucHVzaCh7XG4gICAgICAgICAgICBmaXJzdDogcGFyc2VJbnQoa2VybmluZy5maXJzdCwgMTApLFxuICAgICAgICAgICAgc2Vjb25kOiBwYXJzZUludChrZXJuaW5nLnNlY29uZCwgMTApLFxuICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nLmFtb3VudCwgMTApLFxuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgcmV0dXJuIFRleHRGb3JtYXQ7XG59KCkpO1xuXG4vKipcbiAqIEJpdG1hcEZvbnQgZm9ybWF0IHRoYXQncyBYTUwtYmFzZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgWE1MRm9ybWF0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhNTEZvcm1hdCgpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgcmVzb3VyY2UgcmVmZXJzIHRvIHhtbCBmb250IGRhdGEuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgcmVzb3VyY2UgY291bGQgYmUgdHJlYXRlZCBhcyBmb250IGRhdGEsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBYTUxGb3JtYXQudGVzdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBkYXRhIGluc3RhbmNlb2YgWE1MRG9jdW1lbnRcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3BhZ2UnKS5sZW5ndGhcbiAgICAgICAgICAgICYmIGRhdGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKVswXS5nZXRBdHRyaWJ1dGUoJ2ZhY2UnKSAhPT0gbnVsbDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIFhNTCBpbnRvIEJpdG1hcEZvbnREYXRhIHRoYXQgd2UgY2FuIHVzZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7WE1MRG9jdW1lbnR9IHhtbFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTEZvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgdmFyIGluZm8gPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2luZm8nKTtcbiAgICAgICAgdmFyIGNvbW1vbiA9IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY29tbW9uJyk7XG4gICAgICAgIHZhciBwYWdlID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdwYWdlJyk7XG4gICAgICAgIHZhciBjaGFyID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjaGFyJyk7XG4gICAgICAgIHZhciBrZXJuaW5nID0geG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdrZXJuaW5nJyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5pbmZvLnB1c2goe1xuICAgICAgICAgICAgICAgIGZhY2U6IGluZm9baV0uZ2V0QXR0cmlidXRlKCdmYWNlJyksXG4gICAgICAgICAgICAgICAgc2l6ZTogcGFyc2VJbnQoaW5mb1tpXS5nZXRBdHRyaWJ1dGUoJ3NpemUnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21tb24ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRhdGEuY29tbW9uLnB1c2goe1xuICAgICAgICAgICAgICAgIGxpbmVIZWlnaHQ6IHBhcnNlSW50KGNvbW1vbltpXS5nZXRBdHRyaWJ1dGUoJ2xpbmVIZWlnaHQnKSwgMTApLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWdlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhLnBhZ2UucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IHBhcnNlSW50KHBhZ2VbaV0uZ2V0QXR0cmlidXRlKCdpZCcpLCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICBmaWxlOiBwYWdlW2ldLmdldEF0dHJpYnV0ZSgnZmlsZScpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGV0dGVyID0gY2hhcltpXTtcbiAgICAgICAgICAgIGRhdGEuY2hhci5wdXNoKHtcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgnaWQnKSwgMTApLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3BhZ2UnKSwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgeDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeTogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneScpLCAxMCksXG4gICAgICAgICAgICAgICAgd2lkdGg6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyksIDEwKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeG9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneG9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeW9mZnNldDogcGFyc2VJbnQobGV0dGVyLmdldEF0dHJpYnV0ZSgneW9mZnNldCcpLCAxMCksXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IHBhcnNlSW50KGxldHRlci5nZXRBdHRyaWJ1dGUoJ3hhZHZhbmNlJyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2VybmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YS5rZXJuaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGZpcnN0OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnZmlyc3QnKSwgMTApLFxuICAgICAgICAgICAgICAgIHNlY29uZDogcGFyc2VJbnQoa2VybmluZ1tpXS5nZXRBdHRyaWJ1dGUoJ3NlY29uZCcpLCAxMCksXG4gICAgICAgICAgICAgICAgYW1vdW50OiBwYXJzZUludChrZXJuaW5nW2ldLmdldEF0dHJpYnV0ZSgnYW1vdW50JyksIDEwKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgcmV0dXJuIFhNTEZvcm1hdDtcbn0oKSk7XG5cbi8qKlxuICogQml0bWFwRm9udCBmb3JtYXQgdGhhdCdzIFhNTC1iYXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBwcml2YXRlXG4gKi9cbnZhciBYTUxTdHJpbmdGb3JtYXQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nRm9ybWF0KCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiByZXNvdXJjZSByZWZlcnMgdG8gdGV4dCB4bWwgZm9udCBkYXRhLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHthbnl9IGRhdGFcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHJlc291cmNlIGNvdWxkIGJlIHRyZWF0ZWQgYXMgZm9udCBkYXRhLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgWE1MU3RyaW5nRm9ybWF0LnRlc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnICYmIGRhdGEuaW5kZXhPZignPGZvbnQ+JykgPiAtMSkge1xuICAgICAgICAgICAgdmFyIHhtbCA9IG5ldyBzZWxmLkRPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhkYXRhLCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgIHJldHVybiBYTUxGb3JtYXQudGVzdCh4bWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdGhlIHRleHQgWE1MIGludG8gQml0bWFwRm9udERhdGEgdGhhdCB3ZSBjYW4gdXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHhtbFR4dFxuICAgICAqIEByZXR1cm4ge0JpdG1hcEZvbnREYXRhfSBEYXRhIHRvIHVzZSBmb3IgQml0bWFwRm9udFxuICAgICAqL1xuICAgIFhNTFN0cmluZ0Zvcm1hdC5wYXJzZSA9IGZ1bmN0aW9uICh4bWxUeHQpIHtcbiAgICAgICAgdmFyIHhtbCA9IG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbFR4dCwgJ3RleHQveG1sJyk7XG4gICAgICAgIHJldHVybiBYTUxGb3JtYXQucGFyc2UoeG1sKTtcbiAgICB9O1xuICAgIHJldHVybiBYTUxTdHJpbmdGb3JtYXQ7XG59KCkpO1xuXG4vLyBSZWdpc3RlcmVkIGZvcm1hdHMsIG1heWJlIG1ha2UgdGhpcyBleHRlbnNpYmxlIGluIHRoZSBmdXR1cmU/XG52YXIgZm9ybWF0cyA9IFtcbiAgICBUZXh0Rm9ybWF0LFxuICAgIFhNTEZvcm1hdCxcbiAgICBYTUxTdHJpbmdGb3JtYXQgXTtcbi8qKlxuICogQXV0by1kZXRlY3QgQml0bWFwRm9udCBwYXJzaW5nIGZvcm1hdCBiYXNlZCBvbiBkYXRhLlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7YW55fSBkYXRhIC0gRGF0YSB0byBkZXRlY3QgZm9ybWF0XG4gKiBAcmV0dXJuIHthbnl9IEZvcm1hdCBvciBudWxsXG4gKi9cbmZ1bmN0aW9uIGF1dG9EZXRlY3RGb3JtYXQoZGF0YSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZm9ybWF0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZm9ybWF0c1tpXS50ZXN0KGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8gVE9ETzogUHJldmVudCBjb2RlIGR1cGxpY2F0aW9uIGIvdyBnZW5lcmF0ZUZpbGxTdHlsZSAmIFRleHQjZ2VuZXJhdGVGaWxsU3R5bGVcbi8qKlxuICogR2VuZXJhdGVzIHRoZSBmaWxsIHN0eWxlLiBDYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZSBhIGdyYWRpZW50IGJhc2VkIG9uIHRoZSBmaWxsIHN0eWxlIGJlaW5nIGFuIGFycmF5XG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGxpbmVzIC0gVGhlIGxpbmVzIG9mIHRleHQuXG4gKiBAcmV0dXJuIHtzdHJpbmd8bnVtYmVyfENhbnZhc0dyYWRpZW50fSBUaGUgZmlsbCBzdHlsZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZpbGxTdHlsZShjYW52YXMsIGNvbnRleHQsIHN0eWxlLCByZXNvbHV0aW9uLCBsaW5lcywgbWV0cmljcykge1xuICAgIC8vIFRPRE86IENhbid0IGhhdmUgZGlmZmVyZW50IHR5cGVzIGZvciBnZXR0ZXIgYW5kIHNldHRlci4gVGhlIGdldHRlciBzaG91bGRuJ3QgaGF2ZSB0aGUgbnVtYmVyIHR5cGUgYXNcbiAgICAvLyAgICAgICB0aGUgc2V0dGVyIGNvbnZlcnRzIHRvIHN0cmluZy4gU2VlIHRoaXMgdGhyZWFkIGZvciBtb3JlIGRldGFpbHM6XG4gICAgLy8gICAgICAgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yNTIxXG4gICAgdmFyIGZpbGxTdHlsZSA9IHN0eWxlLmZpbGw7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGZpbGxTdHlsZSkpIHtcbiAgICAgICAgcmV0dXJuIGZpbGxTdHlsZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZmlsbFN0eWxlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZmlsbFN0eWxlWzBdO1xuICAgIH1cbiAgICAvLyB0aGUgZ3JhZGllbnQgd2lsbCBiZSBldmVubHkgc3BhY2VkIG91dCBhY2NvcmRpbmcgdG8gaG93IGxhcmdlIHRoZSBhcnJheSBpcy5cbiAgICAvLyBbJyNGRjAwMDAnLCAnIzAwRkYwMCcsICcjMDAwMEZGJ10gd291bGQgY3JlYXRlZCBzdG9wcyBhdCAwLjI1LCAwLjUgYW5kIDAuNzVcbiAgICB2YXIgZ3JhZGllbnQ7XG4gICAgLy8gYSBkcm9wc2hhZG93IHdpbGwgZW5sYXJnZSB0aGUgY2FudmFzIGFuZCByZXN1bHQgaW4gdGhlIGdyYWRpZW50IGJlaW5nXG4gICAgLy8gZ2VuZXJhdGVkIHdpdGggdGhlIGluY29ycmVjdCBkaW1lbnNpb25zXG4gICAgdmFyIGRyb3BTaGFkb3dDb3JyZWN0aW9uID0gKHN0eWxlLmRyb3BTaGFkb3cpID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMDtcbiAgICAvLyBzaG91bGQgYWxzbyB0YWtlIHBhZGRpbmcgaW50byBhY2NvdW50LCBwYWRkaW5nIGNhbiBvZmZzZXQgdGhlIGdyYWRpZW50XG4gICAgdmFyIHBhZGRpbmcgPSBzdHlsZS5wYWRkaW5nIHx8IDA7XG4gICAgdmFyIHdpZHRoID0gTWF0aC5jZWlsKGNhbnZhcy53aWR0aCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwoY2FudmFzLmhlaWdodCAvIHJlc29sdXRpb24pIC0gZHJvcFNoYWRvd0NvcnJlY3Rpb24gLSAocGFkZGluZyAqIDIpO1xuICAgIC8vIG1ha2UgYSBjb3B5IG9mIHRoZSBzdHlsZSBzZXR0aW5ncywgc28gd2UgY2FuIG1hbmlwdWxhdGUgdGhlbSBsYXRlclxuICAgIHZhciBmaWxsID0gZmlsbFN0eWxlLnNsaWNlKCk7XG4gICAgdmFyIGZpbGxHcmFkaWVudFN0b3BzID0gc3R5bGUuZmlsbEdyYWRpZW50U3RvcHMuc2xpY2UoKTtcbiAgICAvLyB3YW50aW5nIHRvIGV2ZW5seSBkaXN0cmlidXRlIHRoZSBmaWxscy4gU28gYW4gYXJyYXkgb2YgNCBjb2xvdXJzIHNob3VsZCBnaXZlIGZpbGxzIG9mIDAuMjUsIDAuNSBhbmQgMC43NVxuICAgIGlmICghZmlsbEdyYWRpZW50U3RvcHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBsZW5ndGhQbHVzMSA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW5ndGhQbHVzMTsgKytpKSB7XG4gICAgICAgICAgICBmaWxsR3JhZGllbnRTdG9wcy5wdXNoKGkgLyBsZW5ndGhQbHVzMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gc3RvcCB0aGUgYmxlZWRpbmcgb2YgdGhlIGxhc3QgZ3JhZGllbnQgb24gdGhlIGxpbmUgYWJvdmUgdG8gdGhlIHRvcCBncmFkaWVudCBvZiB0aGUgdGhpcyBsaW5lXG4gICAgLy8gYnkgaGFyZCBkZWZpbmluZyB0aGUgZmlyc3QgZ3JhZGllbnQgY29sb3VyIGF0IHBvaW50IDAsIGFuZCBsYXN0IGdyYWRpZW50IGNvbG91ciBhdCBwb2ludCAxXG4gICAgZmlsbC51bnNoaWZ0KGZpbGxTdHlsZVswXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMudW5zaGlmdCgwKTtcbiAgICBmaWxsLnB1c2goZmlsbFN0eWxlW2ZpbGxTdHlsZS5sZW5ndGggLSAxXSk7XG4gICAgZmlsbEdyYWRpZW50U3RvcHMucHVzaCgxKTtcbiAgICBpZiAoc3R5bGUuZmlsbEdyYWRpZW50VHlwZSA9PT0gVEVYVF9HUkFESUVOVC5MSU5FQVJfVkVSVElDQUwpIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSB0b3AgY2VudGVyIG9mIHRoZSBjYW52YXMsIGFuZCBlbmQgYXQgdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQod2lkdGggLyAyLCBwYWRkaW5nLCB3aWR0aCAvIDIsIGhlaWdodCArIHBhZGRpbmcpO1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlcGVhdCB0aGUgZ3JhZGllbnQgc28gdGhhdCBlYWNoIGluZGl2aWR1YWwgbGluZSBvZiB0ZXh0IGhhcyB0aGUgc2FtZSB2ZXJ0aWNhbCBncmFkaWVudCBlZmZlY3RcbiAgICAgICAgLy8gWycjRkYwMDAwJywgJyMwMEZGMDAnLCAnIzAwMDBGRiddIG92ZXIgMiBsaW5lcyB3b3VsZCBjcmVhdGUgc3RvcHMgYXQgMC4xMjUsIDAuMjUsIDAuMzc1LCAwLjYyNSwgMC43NSwgMC44NzVcbiAgICAgICAgLy8gVGhlcmUncyBwb3RlbnRpYWwgZm9yIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBpc3N1ZXMgYXQgdGhlIHNlYW1zIGJldHdlZW4gZ3JhZGllbnQgcmVwZWF0cy5cbiAgICAgICAgLy8gVGhlIGxvb3AgYmVsb3cgZ2VuZXJhdGVzIHRoZSBzdG9wcyBpbiBvcmRlciwgc28gdHJhY2sgdGhlIGxhc3QgZ2VuZXJhdGVkIG9uZSB0byBwcmV2ZW50XG4gICAgICAgIC8vIGZsb2F0aW5nIHBvaW50IHByZWNpc2lvbiBmcm9tIG1ha2luZyB1cyBnbyB0aGUgdGVlbmllc3QgYml0IGJhY2t3YXJkcywgcmVzdWx0aW5nIGluXG4gICAgICAgIC8vIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMgZ2V0dGluZyBzd2FwcGVkLlxuICAgICAgICB2YXIgbGFzdEl0ZXJhdGlvblN0b3AgPSAwO1xuICAgICAgICAvLyBBY3R1YWwgaGVpZ2h0IG9mIHRoZSB0ZXh0IGl0c2VsZiwgbm90IGNvdW50aW5nIHNwYWNpbmcgZm9yIGxpbmVIZWlnaHQvbGVhZGluZy9kcm9wU2hhZG93IGV0Y1xuICAgICAgICB2YXIgdGV4dEhlaWdodCA9IG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZm9udFNpemUgKyBzdHlsZS5zdHJva2VUaGlja25lc3M7XG4gICAgICAgIC8vIHRleHRIZWlnaHQsIGJ1dCBhcyBhIDAtMSBzaXplIGluIGdsb2JhbCBncmFkaWVudCBzdG9wIHNwYWNlXG4gICAgICAgIHZhciBncmFkU3RvcExpbmVIZWlnaHQgPSB0ZXh0SGVpZ2h0IC8gaGVpZ2h0O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGhpc0xpbmVUb3AgPSBtZXRyaWNzLmxpbmVIZWlnaHQgKiBpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWxsLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgLy8gMC0xIHN0b3AgcG9pbnQgZm9yIHRoZSBjdXJyZW50IGxpbmUsIG11bHRpcGxpZWQgdG8gZ2xvYmFsIHNwYWNlIGFmdGVyd2FyZHNcbiAgICAgICAgICAgICAgICB2YXIgbGluZVN0b3AgPSAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsbEdyYWRpZW50U3RvcHNbal0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVTdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbal07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsaW5lU3RvcCA9IGogLyBmaWxsLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGdsb2JhbFN0b3AgPSAodGhpc0xpbmVUb3AgLyBoZWlnaHQpICsgKGxpbmVTdG9wICogZ3JhZFN0b3BMaW5lSGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAvLyBQcmV2ZW50IGNvbG9yIHN0b3AgZ2VuZXJhdGlvbiBnb2luZyBiYWNrd2FyZHMgZnJvbSBmbG9hdGluZyBwb2ludCBpbXByZWNpc2lvblxuICAgICAgICAgICAgICAgIHZhciBjbGFtcGVkU3RvcCA9IE1hdGgubWF4KGxhc3RJdGVyYXRpb25TdG9wLCBnbG9iYWxTdG9wKTtcbiAgICAgICAgICAgICAgICBjbGFtcGVkU3RvcCA9IE1hdGgubWluKGNsYW1wZWRTdG9wLCAxKTsgLy8gQ2FwIGF0IDEgYXMgd2VsbCBmb3Igc2FmZXR5J3Mgc2FrZSB0byBhdm9pZCBhIHBvc3NpYmxlIHRocm93LlxuICAgICAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChjbGFtcGVkU3RvcCwgZmlsbFtqXSk7XG4gICAgICAgICAgICAgICAgbGFzdEl0ZXJhdGlvblN0b3AgPSBjbGFtcGVkU3RvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gc3RhcnQgdGhlIGdyYWRpZW50IGF0IHRoZSBjZW50ZXIgbGVmdCBvZiB0aGUgY2FudmFzLCBhbmQgZW5kIGF0IHRoZSBjZW50ZXIgcmlnaHQgb2YgdGhlIGNhbnZhc1xuICAgICAgICBncmFkaWVudCA9IGNvbnRleHQuY3JlYXRlTGluZWFyR3JhZGllbnQocGFkZGluZywgaGVpZ2h0IC8gMiwgd2lkdGggKyBwYWRkaW5nLCBoZWlnaHQgLyAyKTtcbiAgICAgICAgLy8gY2FuIGp1c3QgZXZlbmx5IHNwYWNlIG91dCB0aGUgZ3JhZGllbnRzIGluIHRoaXMgY2FzZSwgYXMgbXVsdGlwbGUgbGluZXMgbWFrZXMgbm8gZGlmZmVyZW5jZVxuICAgICAgICAvLyB0byBhbiBldmVuIGxlZnQgdG8gcmlnaHQgZ3JhZGllbnRcbiAgICAgICAgdmFyIHRvdGFsSXRlcmF0aW9ucyA9IGZpbGwubGVuZ3RoICsgMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJdGVyYXRpb24gPSAxO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdG9wID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWxsR3JhZGllbnRTdG9wc1tpXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gZmlsbEdyYWRpZW50U3RvcHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdG9wID0gY3VycmVudEl0ZXJhdGlvbiAvIHRvdGFsSXRlcmF0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdyYWRpZW50LmFkZENvbG9yU3RvcChzdG9wLCBmaWxsW2ldKTtcbiAgICAgICAgICAgIGN1cnJlbnRJdGVyYXRpb24rKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZ3JhZGllbnQ7XG59XG5cbi8vIFRPRE86IFByZXZlbnQgY29kZSBkdXBsaWNhdGlvbiBiL3cgZHJhd0dseXBoICYgVGV4dCN1cGRhdGVUZXh0XG4vKipcbiAqIERyYXdzIHRoZSBnbHlwaCBgbWV0cmljcy50ZXh0YCBvbiB0aGUgZ2l2ZW4gY2FudmFzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0hUTUxDYW52YXNFbGVtZW50fSBjYW52YXNcbiAqIEBwYXJhbSB7Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJEfSBjb250ZXh0XG4gKiBAcGFyYW0ge1RleHRNZXRyaWNzfSBtZXRyaWNzXG4gKiBAcGFyYW0ge251bWJlcn0geFxuICogQHBhcmFtIHtudW1iZXJ9IHlcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXNvbHV0aW9uXG4gKiBAcGFyYW0ge1RleHRTdHlsZX0gc3R5bGVcbiAqL1xuZnVuY3Rpb24gZHJhd0dseXBoKGNhbnZhcywgY29udGV4dCwgbWV0cmljcywgeCwgeSwgcmVzb2x1dGlvbiwgc3R5bGUpIHtcbiAgICB2YXIgY2hhciA9IG1ldHJpY3MudGV4dDtcbiAgICB2YXIgZm9udFByb3BlcnRpZXMgPSBtZXRyaWNzLmZvbnRQcm9wZXJ0aWVzO1xuICAgIGNvbnRleHQudHJhbnNsYXRlKHgsIHkpO1xuICAgIGNvbnRleHQuc2NhbGUocmVzb2x1dGlvbiwgcmVzb2x1dGlvbik7XG4gICAgdmFyIHR4ID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIC8gMjtcbiAgICB2YXIgdHkgPSAtKHN0eWxlLnN0cm9rZVRoaWNrbmVzcyAvIDIpO1xuICAgIGNvbnRleHQuZm9udCA9IHN0eWxlLnRvRm9udFN0cmluZygpO1xuICAgIGNvbnRleHQubGluZVdpZHRoID0gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gc3R5bGUudGV4dEJhc2VsaW5lO1xuICAgIGNvbnRleHQubGluZUpvaW4gPSBzdHlsZS5saW5lSm9pbjtcbiAgICBjb250ZXh0Lm1pdGVyTGltaXQgPSBzdHlsZS5taXRlckxpbWl0O1xuICAgIC8vIHNldCBjYW52YXMgdGV4dCBzdHlsZXNcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdlbmVyYXRlRmlsbFN0eWxlKGNhbnZhcywgY29udGV4dCwgc3R5bGUsIHJlc29sdXRpb24sIFtjaGFyXSwgbWV0cmljcyk7XG4gICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHN0eWxlLnN0cm9rZTtcbiAgICBpZiAoc3R5bGUuZHJvcFNoYWRvdykge1xuICAgICAgICB2YXIgZHJvcFNoYWRvd0NvbG9yID0gc3R5bGUuZHJvcFNoYWRvd0NvbG9yO1xuICAgICAgICB2YXIgcmdiID0gaGV4MnJnYih0eXBlb2YgZHJvcFNoYWRvd0NvbG9yID09PSAnbnVtYmVyJyA/IGRyb3BTaGFkb3dDb2xvciA6IHN0cmluZzJoZXgoZHJvcFNoYWRvd0NvbG9yKSk7XG4gICAgICAgIHZhciBkcm9wU2hhZG93Qmx1ciA9IHN0eWxlLmRyb3BTaGFkb3dCbHVyICogcmVzb2x1dGlvbjtcbiAgICAgICAgdmFyIGRyb3BTaGFkb3dEaXN0YW5jZSA9IHN0eWxlLmRyb3BTaGFkb3dEaXN0YW5jZSAqIHJlc29sdXRpb247XG4gICAgICAgIGNvbnRleHQuc2hhZG93Q29sb3IgPSBcInJnYmEoXCIgKyByZ2JbMF0gKiAyNTUgKyBcIixcIiArIHJnYlsxXSAqIDI1NSArIFwiLFwiICsgcmdiWzJdICogMjU1ICsgXCIsXCIgKyBzdHlsZS5kcm9wU2hhZG93QWxwaGEgKyBcIilcIjtcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gZHJvcFNoYWRvd0JsdXI7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WCA9IE1hdGguY29zKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgICAgIGNvbnRleHQuc2hhZG93T2Zmc2V0WSA9IE1hdGguc2luKHN0eWxlLmRyb3BTaGFkb3dBbmdsZSkgKiBkcm9wU2hhZG93RGlzdGFuY2U7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZXh0LnNoYWRvd0NvbG9yID0gJ2JsYWNrJztcbiAgICAgICAgY29udGV4dC5zaGFkb3dCbHVyID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRYID0gMDtcbiAgICAgICAgY29udGV4dC5zaGFkb3dPZmZzZXRZID0gMDtcbiAgICB9XG4gICAgaWYgKHN0eWxlLnN0cm9rZSAmJiBzdHlsZS5zdHJva2VUaGlja25lc3MpIHtcbiAgICAgICAgY29udGV4dC5zdHJva2VUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBpZiAoc3R5bGUuZmlsbCkge1xuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KGNoYXIsIHR4LCB0eSArIG1ldHJpY3MubGluZUhlaWdodCAtIGZvbnRQcm9wZXJ0aWVzLmRlc2NlbnQpO1xuICAgIH1cbiAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTsgLy8gZGVmYXVsdHMgbmVlZGVkIGZvciBvbGRlciBicm93c2VycyAoZS5nLiBPcGVyYSAyOSlcbiAgICBjb250ZXh0LmZpbGxTdHlsZSA9ICdyZ2JhKDAsIDAsIDAsIDApJztcbn1cblxuLyoqXG4gKiBQcm9jZXNzZXMgdGhlIHBhc3NlZCBjaGFyYWN0ZXIgc2V0IGRhdGEgYW5kIHJldHVybnMgYSBmbGF0dGVuZWQgYXJyYXkgb2YgYWxsIHRoZSBjaGFyYWN0ZXJzLlxuICpcbiAqIElnbm9yZWQgYmVjYXVzZSBub3QgZGlyZWN0bHkgZXhwb3NlZC5cbiAqXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge3N0cmluZyB8IHN0cmluZ1tdIHwgc3RyaW5nW11bXSB9IGNoYXJzXG4gKiBAcmV0dXJucyB7c3RyaW5nW119XG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKSB7XG4gICAgLy8gU3BsaXQgdGhlIGNoYXJzIHN0cmluZyBpbnRvIGluZGl2aWR1YWwgY2hhcmFjdGVyc1xuICAgIGlmICh0eXBlb2YgY2hhcnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNoYXJzID0gW2NoYXJzXTtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGFuIGFycmF5IG9mIGNoYXJhY3RlcnMrcmFuZ2VzXG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBqID0gY2hhcnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gY2hhcnNbaV07XG4gICAgICAgIC8vIEhhbmRsZSByYW5nZSBkZWxpbWl0ZWQgYnkgc3RhcnQvZW5kIGNoYXJzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5sZW5ndGggIT09IDIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbQml0bWFwRm9udF06IEludmFsaWQgY2hhcmFjdGVyIHJhbmdlIGxlbmd0aCwgZXhwZWN0aW5nIDIgZ290IFwiICsgaXRlbS5sZW5ndGggKyBcIi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgc3RhcnRDb2RlID0gaXRlbVswXS5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgdmFyIGVuZENvZGUgPSBpdGVtWzFdLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZW5kQ29kZSA8IHN0YXJ0Q29kZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW0JpdG1hcEZvbnRdOiBJbnZhbGlkIGNoYXJhY3RlciByYW5nZS4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGlfMSA9IHN0YXJ0Q29kZSwgal8xID0gZW5kQ29kZTsgaV8xIDw9IGpfMTsgaV8xKyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlfMSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSBhIGNoYXJhY3RlciBzZXQgc3RyaW5nXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2guYXBwbHkocmVzdWx0LCBpdGVtLnNwbGl0KCcnKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc3VsdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbQml0bWFwRm9udF06IEVtcHR5IHNldCB3aGVuIHJlc29sdmluZyBjaGFyYWN0ZXJzLicpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEJpdG1hcEZvbnQgcmVwcmVzZW50cyBhIHR5cGVmYWNlIGF2YWlsYWJsZSBmb3IgdXNlIHdpdGggdGhlIEJpdG1hcFRleHQgY2xhc3MuIFVzZSB0aGUgYGluc3RhbGxgXG4gKiBtZXRob2QgZm9yIGFkZGluZyBhIGZvbnQgdG8gYmUgdXNlZC5cbiAqXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBGb250ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YVxuICAgICAqIEBwYXJhbSB7UElYSS5UZXh0dXJlW118T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT59IHRleHR1cmVzXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3duc1RleHR1cmVzXSAtIFNldHRpbmcgdG8gYHRydWVgIHdpbGwgZGVzdHJveSBwYWdlIHRleHR1cmVzXG4gICAgICogICAgICAgIHdoZW4gdGhlIGZvbnQgaXMgdW5pbnN0YWxsZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gQml0bWFwRm9udChkYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKSB7XG4gICAgICAgIHZhciBpbmZvID0gZGF0YS5pbmZvWzBdO1xuICAgICAgICB2YXIgY29tbW9uID0gZGF0YS5jb21tb25bMF07XG4gICAgICAgIHZhciBwYWdlID0gZGF0YS5wYWdlWzBdO1xuICAgICAgICB2YXIgcmVzID0gZ2V0UmVzb2x1dGlvbk9mVXJsKHBhZ2UuZmlsZSk7XG4gICAgICAgIHZhciBwYWdlVGV4dHVyZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fb3duc1RleHR1cmVzID0gb3duc1RleHR1cmVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGZvbnQgZmFjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZm9udCA9IGluZm8uZmFjZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaXplIG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zaXplID0gaW5mby5zaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpbmUtaGVpZ2h0IG9mIHRoZSBmb250IGZhY2UgaW4gcGl4ZWxzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5saW5lSGVpZ2h0ID0gY29tbW9uLmxpbmVIZWlnaHQgLyByZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIGNoYXJhY3RlcnMgYnkgY2hhcmFjdGVyIGNvZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNoYXJzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWFwIG9mIGJhc2UgcGFnZSB0ZXh0dXJlcyAoaS5lLiwgc2hlZXRzIG9mIGdseXBocykuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlcyA9IHBhZ2VUZXh0dXJlcztcbiAgICAgICAgLy8gQ29udmVydCB0aGUgaW5wdXQgVGV4dHVyZSwgVGV4dHVyZXMgb3Igb2JqZWN0XG4gICAgICAgIC8vIGludG8gYSBwYWdlIFRleHR1cmUgbG9va3VwIGJ5IFwiaWRcIlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEucGFnZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIF9hID0gZGF0YS5wYWdlW2ldLCBpZCA9IF9hLmlkLCBmaWxlID0gX2EuZmlsZTtcbiAgICAgICAgICAgIHBhZ2VUZXh0dXJlc1tpZF0gPSB0ZXh0dXJlcyBpbnN0YW5jZW9mIEFycmF5XG4gICAgICAgICAgICAgICAgPyB0ZXh0dXJlc1tpXSA6IHRleHR1cmVzW2ZpbGVdO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIGxldHRlcnNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfYiA9IGRhdGEuY2hhcltpXSwgaWQgPSBfYi5pZCwgcGFnZV8xID0gX2IucGFnZTtcbiAgICAgICAgICAgIHZhciBfYyA9IGRhdGEuY2hhcltpXSwgeCA9IF9jLngsIHkgPSBfYy55LCB3aWR0aCA9IF9jLndpZHRoLCBoZWlnaHQgPSBfYy5oZWlnaHQsIHhvZmZzZXQgPSBfYy54b2Zmc2V0LCB5b2Zmc2V0ID0gX2MueW9mZnNldCwgeGFkdmFuY2UgPSBfYy54YWR2YW5jZTtcbiAgICAgICAgICAgIHggLz0gcmVzO1xuICAgICAgICAgICAgeSAvPSByZXM7XG4gICAgICAgICAgICB3aWR0aCAvPSByZXM7XG4gICAgICAgICAgICBoZWlnaHQgLz0gcmVzO1xuICAgICAgICAgICAgeG9mZnNldCAvPSByZXM7XG4gICAgICAgICAgICB5b2Zmc2V0IC89IHJlcztcbiAgICAgICAgICAgIHhhZHZhbmNlIC89IHJlcztcbiAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IFJlY3RhbmdsZSh4ICsgKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmZyYW1lLnggLyByZXMpLCB5ICsgKHBhZ2VUZXh0dXJlc1twYWdlXzFdLmZyYW1lLnkgLyByZXMpLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdID0ge1xuICAgICAgICAgICAgICAgIHhPZmZzZXQ6IHhvZmZzZXQsXG4gICAgICAgICAgICAgICAgeU9mZnNldDogeW9mZnNldCxcbiAgICAgICAgICAgICAgICB4QWR2YW5jZTogeGFkdmFuY2UsXG4gICAgICAgICAgICAgICAga2VybmluZzoge30sXG4gICAgICAgICAgICAgICAgdGV4dHVyZTogbmV3IFRleHR1cmUocGFnZVRleHR1cmVzW3BhZ2VfMV0uYmFzZVRleHR1cmUsIHJlY3QpLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2VfMSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGFyc2Uga2VybmluZ3NcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmtlcm5pbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBfZCA9IGRhdGEua2VybmluZ1tpXSwgZmlyc3QgPSBfZC5maXJzdCwgc2Vjb25kID0gX2Quc2Vjb25kLCBhbW91bnQgPSBfZC5hbW91bnQ7XG4gICAgICAgICAgICBmaXJzdCAvPSByZXM7XG4gICAgICAgICAgICBzZWNvbmQgLz0gcmVzO1xuICAgICAgICAgICAgYW1vdW50IC89IHJlcztcbiAgICAgICAgICAgIGlmICh0aGlzLmNoYXJzW3NlY29uZF0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJzW3NlY29uZF0ua2VybmluZ1tmaXJzdF0gPSBhbW91bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHJlZmVyZW5jZXMgdG8gY3JlYXRlZCBnbHlwaCB0ZXh0dXJlcy5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBpZCBpbiB0aGlzLmNoYXJzKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2lkXS50ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnNbaWRdLnRleHR1cmUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGlkIGluIHRoaXMucGFnZVRleHR1cmVzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fb3duc1RleHR1cmVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXNbaWRdLmRlc3Ryb3kodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBhZ2VUZXh0dXJlc1tpZF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNldCByZWFkb25seSBudWxsLlxuICAgICAgICB0aGlzLmNoYXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYWdlVGV4dHVyZXMgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXIgYSBuZXcgYml0bWFwIGZvbnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtYTUxEb2N1bWVudHxzdHJpbmd8UElYSS5CaXRtYXBGb250RGF0YX0gZGF0YSAtIFRoZVxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzIG1hcCB0aGF0IGNvdWxkIGJlIHByb3ZpZGVkIGFzIHhtbCBvciByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIFBJWEkuVGV4dHVyZT58UElYSS5UZXh0dXJlfFBJWEkuVGV4dHVyZVtdfVxuICAgICAqICAgICAgICB0ZXh0dXJlcyAtIExpc3Qgb2YgdGV4dHVyZXMgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG1hbmFnZWRUZXh0dXJlIC0gU2V0IHRvIGB0cnVlYCB0byBkZXN0cm95IHBhZ2UgdGV4dHVyZXNcbiAgICAgKiAgICAgICAgd2hlbiB0aGUgZm9udCBpcyB1bmluc3RhbGxlZC4gQnkgZGVmYXVsdCBmb250cyBjcmVhdGVkIHdpdGhcbiAgICAgKiAgICAgICAgYEJpdG1hcEZvbnQuZnJvbWAgb3IgZnJvbSB0aGUgYEJpdG1hcEZvbnRMb2FkZXJgIGFyZSBgdHJ1ZWAuXG4gICAgICogQHJldHVybiB7UElYSS5CaXRtYXBGb250fSBSZXN1bHQgZm9udCBvYmplY3Qgd2l0aCBmb250LCBzaXplLCBsaW5lSGVpZ2h0XG4gICAgICogICAgICAgICBhbmQgY2hhciBmaWVsZHMuXG4gICAgICovXG4gICAgQml0bWFwRm9udC5pbnN0YWxsID0gZnVuY3Rpb24gKGRhdGEsIHRleHR1cmVzLCBvd25zVGV4dHVyZXMpIHtcbiAgICAgICAgdmFyIGZvbnREYXRhO1xuICAgICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIEJpdG1hcEZvbnREYXRhKSB7XG4gICAgICAgICAgICBmb250RGF0YSA9IGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZm9ybWF0ID0gYXV0b0RldGVjdEZvcm1hdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnJlY29nbml6ZWQgZGF0YSBmb3JtYXQgZm9yIGZvbnQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb250RGF0YSA9IGZvcm1hdC5wYXJzZShkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBTaW5nbGUgdGV4dHVyZSwgY29udmVydCB0byBsaXN0XG4gICAgICAgIGlmICh0ZXh0dXJlcyBpbnN0YW5jZW9mIFRleHR1cmUpIHtcbiAgICAgICAgICAgIHRleHR1cmVzID0gW3RleHR1cmVzXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9udCA9IG5ldyBCaXRtYXBGb250KGZvbnREYXRhLCB0ZXh0dXJlcywgb3duc1RleHR1cmVzKTtcbiAgICAgICAgQml0bWFwRm9udC5hdmFpbGFibGVbZm9udC5mb250XSA9IGZvbnQ7XG4gICAgICAgIHJldHVybiBmb250O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGJpdG1hcCBmb250IGJ5IG5hbWUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBOYW1lIG9mIHRoZSBmb250IHRvIHVuaW5zdGFsbC5cbiAgICAgKi9cbiAgICBCaXRtYXBGb250LnVuaW5zdGFsbCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHZhciBmb250ID0gQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgICAgIGlmICghZm9udCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZm9udCBmb3VuZCBuYW1lZCAnXCIgKyBuYW1lICsgXCInXCIpO1xuICAgICAgICB9XG4gICAgICAgIGZvbnQuZGVzdHJveSgpO1xuICAgICAgICBkZWxldGUgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBiaXRtYXAtZm9udCBmb3IgdGhlIGdpdmVuIHN0eWxlIGFuZCBjaGFyYWN0ZXIgc2V0LiBUaGlzIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiBrZXJuaW5ncyB5ZXQuIFdpdGggYHN0eWxlYCBwcm9wZXJ0aWVzLCBvbmx5IHRoZSBmb2xsb3dpbmcgbm9uLWxheW91dCBwcm9wZXJ0aWVzIGFyZSB1c2VkOlxuICAgICAqXG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd3xkcm9wU2hhZG93fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2Ryb3BTaGFkb3dEaXN0YW5jZXxkcm9wU2hhZG93RGlzdGFuY2V9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZHJvcFNoYWRvd0NvbG9yfGRyb3BTaGFkb3dDb2xvcn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93Qmx1cnxkcm9wU2hhZG93Qmx1cn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNkcm9wU2hhZG93QW5nbGV8ZHJvcFNoYWRvd0FuZ2xlfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZpbGx8ZmlsbH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsR3JhZGllbnRTdG9wc3xmaWxsR3JhZGllbnRTdG9wc31cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNmaWxsR3JhZGllbnRUeXBlfGZpbGxHcmFkaWVudFR5cGV9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjZm9udEZhbWlseXxmb250RmFtaWx5fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRTaXplfGZvbnRTaXplfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRWYXJpYW50fGZvbnRWYXJpYW50fVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI2ZvbnRXZWlnaHR8Zm9udFdlaWdodH1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNsaW5lSm9pbnxsaW5lSm9pbn1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNtaXRlckxpbWl0fG1pdGVyTGltaXR9XG4gICAgICogLSB7QGxpbmsgUElYSS5UZXh0U3R5bGUjc3Ryb2tlfHN0cm9rZX1cbiAgICAgKiAtIHtAbGluayBQSVhJLlRleHRTdHlsZSNzdHJva2VUaGlja25lc3N8c3Ryb2tlVGhpY2tuZXNzfVxuICAgICAqIC0ge0BsaW5rIFBJWEkuVGV4dFN0eWxlI3RleHRCYXNlbGluZXx0ZXh0QmFzZWxpbmV9XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjdXN0b20gZm9udCB0byB1c2Ugd2l0aCBCaXRtYXBUZXh0LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fFBJWEkuVGV4dFN0eWxlfSBbc3R5bGVdIC0gU3R5bGUgb3B0aW9ucyB0byByZW5kZXIgd2l0aCBCaXRtYXBGb250LlxuICAgICAqIEBwYXJhbSB7UElYSS5JQml0bWFwRm9udE9wdGlvbnN9IFtvcHRpb25zXSAtIFNldHVwIG9wdGlvbnMgZm9yIGZvbnQgb3IgbmFtZSBvZiB0aGUgZm9udC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBbb3B0aW9ucy5jaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXSAtIGNoYXJhY3RlcnMgaW5jbHVkZWRcbiAgICAgKiAgICAgIGluIHRoZSBmb250IHNldC4gWW91IGNhbiBhbHNvIHVzZSByYW5nZXMuIEZvciBleGFtcGxlLCBgW1snYScsICd6J10sIFsnQScsICdaJ10sIFwiIUAjJCVeJiooKX57fVtdIFwiXWAuXG4gICAgICogICAgICBEb24ndCBmb3JnZXQgdG8gaW5jbHVkZSBzcGFjZXMgJyAnIGluIHlvdXIgY2hhcmFjdGVyIHNldCFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucmVzb2x1dGlvbj0xXSAtIFJlbmRlciByZXNvbHV0aW9uIGZvciBnbHlwaHMuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVXaWR0aD01MTJdIC0gT3B0aW9uYWwgd2lkdGggb2YgYXRsYXMsIHNtYWxsZXIgdmFsdWVzIHRvIHJlZHVjZSBtZW1vcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnRleHR1cmVIZWlnaHQ9NTEyXSAtIE9wdGlvbmFsIGhlaWdodCBvZiBhdGxhcywgc21hbGxlciB2YWx1ZXMgdG8gcmVkdWNlIG1lbW9yeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMucGFkZGluZz00XSAtIFBhZGRpbmcgYmV0d2VlbiBnbHlwaHMgb24gdGV4dHVyZSBhdGxhcy5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLkJpdG1hcEZvbnR9IEZvbnQgZ2VuZXJhdGVkIGJ5IHN0eWxlIG9wdGlvbnMuXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBleGFtcGxlXG4gICAgICogUElYSS5CaXRtYXBGb250LmZyb20oXCJUaXRsZUZvbnRcIiwge1xuICAgICAqICAgICBmb250RmFtaWx5OiBcIkFyaWFsXCIsXG4gICAgICogICAgIGZvbnRTaXplOiAxMixcbiAgICAgKiAgICAgc3Ryb2tlVGhpY2tuZXNzOiAyLFxuICAgICAqICAgICBmaWxsOiBcInB1cnBsZVwiXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCB0aXRsZSA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJUaGlzIGlzIHRoZSB0aXRsZVwiLCB7IGZvbnROYW1lOiBcIlRpdGxlRm9udFwiIH0pO1xuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuZnJvbSA9IGZ1bmN0aW9uIChuYW1lLCB0ZXh0U3R5bGUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFuYW1lKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tCaXRtYXBGb250XSBQcm9wZXJ0eSBgbmFtZWAgaXMgcmVxdWlyZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmFzc2lnbih7fSwgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyksIGNoYXJzID0gX2EuY2hhcnMsIHBhZGRpbmcgPSBfYS5wYWRkaW5nLCByZXNvbHV0aW9uID0gX2EucmVzb2x1dGlvbiwgdGV4dHVyZVdpZHRoID0gX2EudGV4dHVyZVdpZHRoLCB0ZXh0dXJlSGVpZ2h0ID0gX2EudGV4dHVyZUhlaWdodDtcbiAgICAgICAgdmFyIGNoYXJzTGlzdCA9IHJlc29sdmVDaGFyYWN0ZXJzKGNoYXJzKTtcbiAgICAgICAgdmFyIHN0eWxlID0gdGV4dFN0eWxlIGluc3RhbmNlb2YgVGV4dFN0eWxlID8gdGV4dFN0eWxlIDogbmV3IFRleHRTdHlsZSh0ZXh0U3R5bGUpO1xuICAgICAgICB2YXIgbGluZVdpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICB2YXIgZm9udERhdGEgPSBuZXcgQml0bWFwRm9udERhdGEoKTtcbiAgICAgICAgZm9udERhdGEuaW5mb1swXSA9IHtcbiAgICAgICAgICAgIGZhY2U6IHN0eWxlLmZvbnRGYW1pbHksXG4gICAgICAgICAgICBzaXplOiBzdHlsZS5mb250U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgZm9udERhdGEuY29tbW9uWzBdID0ge1xuICAgICAgICAgICAgbGluZUhlaWdodDogc3R5bGUuZm9udFNpemUsXG4gICAgICAgIH07XG4gICAgICAgIHZhciBwb3NpdGlvblggPSAwO1xuICAgICAgICB2YXIgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgdmFyIGNhbnZhcztcbiAgICAgICAgdmFyIGNvbnRleHQ7XG4gICAgICAgIHZhciBiYXNlVGV4dHVyZTtcbiAgICAgICAgdmFyIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFyc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdGV4dHVyZVdpZHRoO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB0ZXh0dXJlSGVpZ2h0O1xuICAgICAgICAgICAgICAgIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG5ldyBCYXNlVGV4dHVyZShjYW52YXMsIHsgcmVzb2x1dGlvbjogcmVzb2x1dGlvbiB9KTtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5wdXNoKG5ldyBUZXh0dXJlKGJhc2VUZXh0dXJlKSk7XG4gICAgICAgICAgICAgICAgZm9udERhdGEucGFnZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgICAgIGZpbGU6ICcnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWVhc3VyZSBnbHlwaCBkaW1lbnNpb25zXG4gICAgICAgICAgICB2YXIgbWV0cmljcyA9IFRleHRNZXRyaWNzLm1lYXN1cmVUZXh0KGNoYXJzTGlzdFtpXSwgc3R5bGUsIGZhbHNlLCBjYW52YXMpO1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gbWV0cmljcy53aWR0aDtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLmNlaWwobWV0cmljcy5oZWlnaHQpO1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB1Z2x5IC0gYnV0IGl0YWxpY3MgYXJlIGdpdmVuIG1vcmUgc3BhY2Ugc28gdGhleSBkb24ndCBvdmVybGFwXG4gICAgICAgICAgICB2YXIgdGV4dHVyZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoKHN0eWxlLmZvbnRTdHlsZSA9PT0gJ2l0YWxpYycgPyAyIDogMSkgKiB3aWR0aCk7XG4gICAgICAgICAgICAvLyBDYW4ndCBmaXQgY2hhciBhbnltb3JlOiBuZXh0IGNhbnZhcyBwbGVhc2UhXG4gICAgICAgICAgICBpZiAocG9zaXRpb25ZID49IHRleHR1cmVIZWlnaHQgLSAoaGVpZ2h0ICogcmVzb2x1dGlvbikpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zaXRpb25ZID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHdhbnQgdXNlciBkZWJ1Z2dpbmcgYW4gaW5maW5pdGUgbG9vcCAob3IgZG8gd2U/IDopXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIltCaXRtYXBGb250XSB0ZXh0dXJlSGVpZ2h0IFwiICsgdGV4dHVyZUhlaWdodCArIFwicHggaXMgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICsgKFwidG9vIHNtYWxsIGZvciBcIiArIHN0eWxlLmZvbnRTaXplICsgXCJweCBmb250c1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgbmV3IGF0bGFzIG9uY2UgY3VycmVudCBoYXMgZmlsbGVkIHVwXG4gICAgICAgICAgICAgICAgY2FudmFzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBiYXNlVGV4dHVyZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gMDtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblggPSAwO1xuICAgICAgICAgICAgICAgIG1heENoYXJIZWlnaHQgPSAwO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4Q2hhckhlaWdodCA9IE1hdGgubWF4KGhlaWdodCArIG1ldHJpY3MuZm9udFByb3BlcnRpZXMuZGVzY2VudCwgbWF4Q2hhckhlaWdodCk7XG4gICAgICAgICAgICAvLyBXcmFwIGxpbmUgb25jZSBmdWxsIHJvdyBoYXMgYmVlbiByZW5kZXJlZFxuICAgICAgICAgICAgaWYgKCh0ZXh0dXJlR2x5cGhXaWR0aCAqIHJlc29sdXRpb24pICsgcG9zaXRpb25YID49IGxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblkgKz0gbWF4Q2hhckhlaWdodCAqIHJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgcG9zaXRpb25ZID0gTWF0aC5jZWlsKHBvc2l0aW9uWSk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25YID0gMDtcbiAgICAgICAgICAgICAgICBtYXhDaGFySGVpZ2h0ID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRyYXdHbHlwaChjYW52YXMsIGNvbnRleHQsIG1ldHJpY3MsIHBvc2l0aW9uWCwgcG9zaXRpb25ZLCByZXNvbHV0aW9uLCBzdHlsZSk7XG4gICAgICAgICAgICAvLyBVbmlxdWUgKG51bWVyaWMpIElEIG1hcHBpbmcgdG8gdGhpcyBnbHlwaFxuICAgICAgICAgICAgdmFyIGlkID0gbWV0cmljcy50ZXh0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgYSB0ZXh0dXJlIGhvbGRpbmcganVzdCB0aGUgZ2x5cGhcbiAgICAgICAgICAgIGZvbnREYXRhLmNoYXIucHVzaCh7XG4gICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgIHBhZ2U6IHRleHR1cmVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgeDogcG9zaXRpb25YIC8gcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICB5OiBwb3NpdGlvblkgLyByZXNvbHV0aW9uLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0ZXh0dXJlR2x5cGhXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICB4b2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIHlvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgeGFkdmFuY2U6IE1hdGguY2VpbCh3aWR0aFxuICAgICAgICAgICAgICAgICAgICAtIChzdHlsZS5kcm9wU2hhZG93ID8gc3R5bGUuZHJvcFNoYWRvd0Rpc3RhbmNlIDogMClcbiAgICAgICAgICAgICAgICAgICAgLSAoc3R5bGUuc3Ryb2tlID8gc3R5bGUuc3Ryb2tlVGhpY2tuZXNzIDogMCkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3NpdGlvblggKz0gKHRleHR1cmVHbHlwaFdpZHRoICsgKDIgKiBwYWRkaW5nKSkgKiByZXNvbHV0aW9uO1xuICAgICAgICAgICAgcG9zaXRpb25YID0gTWF0aC5jZWlsKHBvc2l0aW9uWCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZvbnQgPSBuZXcgQml0bWFwRm9udChmb250RGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAvLyBNYWtlIGl0IGVhc2llciB0byByZXBsYWNlIGEgZm9udFxuICAgICAgICBpZiAoQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgQml0bWFwRm9udC51bmluc3RhbGwobmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgQml0bWFwRm9udC5hdmFpbGFibGVbbmFtZV0gPSBmb250O1xuICAgICAgICByZXR1cm4gZm9udDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoaXMgY2hhcmFjdGVyIHNldCBpbmNsdWRlcyBhbGwgdGhlIGxldHRlcnMgaW4gdGhlIGFscGhhYmV0IChib3RoIGxvd2VyLSBhbmQgdXBwZXItIGNhc2UpLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKFwiRXhhbXBsZUZvbnRcIiwgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuQUxQSEEgfSlcbiAgICAgKi9cbiAgICBCaXRtYXBGb250LkFMUEhBID0gW1snYScsICd6J10sIFsnQScsICdaJ10sICcgJ107XG4gICAgLyoqXG4gICAgICogVGhpcyBjaGFyYWN0ZXIgc2V0IGluY2x1ZGVzIGFsbCBkZWNpbWFsIGRpZ2l0cyAoZnJvbSAwIHRvIDkpLlxuICAgICAqIEByZWFkb25seVxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmdbXVtdfVxuICAgICAqIEBleGFtcGxlXG4gICAgICogQml0bWFwRm9udC5mcm9tKFwiRXhhbXBsZUZvbnRcIiwgc3R5bGUsIHsgY2hhcnM6IEJpdG1hcEZvbnQuTlVNRVJJQyB9KVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuTlVNRVJJQyA9IFtbJzAnLCAnOSddXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgaXMgdGhlIHVuaW9uIG9mIGBCaXRtYXBGb250LkFMUEhBYCBhbmQgYEJpdG1hcEZvbnQuTlVNRVJJQ2AuXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge3N0cmluZ1tdW119XG4gICAgICovXG4gICAgQml0bWFwRm9udC5BTFBIQU5VTUVSSUMgPSBbWydhJywgJ3onXSwgWydBJywgJ1onXSwgWycwJywgJzknXSwgJyAnXTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGNoYXJhY3RlciBzZXQgY29uc2lzdHMgb2YgYWxsIHRoZSBBU0NJSSB0YWJsZS5cbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlciB7c3RyaW5nW11bXX1cbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cuYXNjaWl0YWJsZS5jb20vXG4gICAgICovXG4gICAgQml0bWFwRm9udC5BU0NJSSA9IFtbJyAnLCAnfiddXTtcbiAgICAvKipcbiAgICAgKiBDb2xsZWN0aW9uIG9mIGRlZmF1bHQgb3B0aW9ucyB3aGVuIHVzaW5nIGBCaXRtYXBGb250LmZyb21gLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge1BJWEkuSUJpdG1hcEZvbnRPcHRpb25zfVxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByZXNvbHV0aW9uPTFcbiAgICAgKiBAcHJvcGVydHkge251bWJlcn0gdGV4dHVyZVdpZHRoPTUxMlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0ZXh0dXJlSGVpZ2h0PTUxMlxuICAgICAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBwYWRkaW5nPTRcbiAgICAgKiBAcHJvcGVydHkge3N0cmluZ3xzdHJpbmdbXXxzdHJpbmdbXVtdfSBjaGFycz1QSVhJLkJpdG1hcEZvbnQuQUxQSEFOVU1FUklDXG4gICAgICovXG4gICAgQml0bWFwRm9udC5kZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgcmVzb2x1dGlvbjogMSxcbiAgICAgICAgdGV4dHVyZVdpZHRoOiA1MTIsXG4gICAgICAgIHRleHR1cmVIZWlnaHQ6IDUxMixcbiAgICAgICAgcGFkZGluZzogNCxcbiAgICAgICAgY2hhcnM6IEJpdG1hcEZvbnQuQUxQSEFOVU1FUklDLFxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29sbGVjdGlvbiBvZiBhdmFpbGFibGUvaW5zdGFsbGVkIGZvbnRzLlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBQSVhJLkJpdG1hcEZvbnQ+fVxuICAgICAqL1xuICAgIEJpdG1hcEZvbnQuYXZhaWxhYmxlID0ge307XG4gICAgcmV0dXJuIEJpdG1hcEZvbnQ7XG59KCkpO1xuLyoqXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQGludGVyZmFjZSBJQml0bWFwRm9udE9wdGlvbnNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nIHwgc3RyaW5nW10gfCBzdHJpbmdbXVtdfSBbY2hhcnM9UElYSS5CaXRtYXBGb250LkFMUEhBTlVNRVJJQ10gLSB0aGUgY2hhcmFjdGVyIHNldCB0byBnZW5lcmF0ZVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtyZXNvbHV0aW9uPTFdIC0gdGhlIHJlc29sdXRpb24gZm9yIHJlbmRlcmluZ1xuICogQHByb3BlcnR5IHtudW1iZXJ9IFtwYWRkaW5nPTRdIC0gdGhlIHBhZGRpbmcgYmV0d2VlbiBnbHlwaHMgaW4gdGhlIGF0bGFzXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHR1cmVXaWR0aD01MTJdIC0gdGhlIHdpZHRoIG9mIHRoZSB0ZXh0dXJlIGF0bGFzXG4gKiBAcHJvcGVydHkge251bWJlcn0gW3RleHR1cmVIZWlnaHQ9NTEyXSAtIHRoZSBoZWlnaHQgb2YgdGhlIHRleHR1cmUgYXRsYXNcbiAqL1xuXG52YXIgcGFnZU1lc2hEYXRhUG9vbCA9IFtdO1xudmFyIGNoYXJSZW5kZXJEYXRhUG9vbCA9IFtdO1xuLyoqXG4gKiBBIEJpdG1hcFRleHQgb2JqZWN0IHdpbGwgY3JlYXRlIGEgbGluZSBvciBtdWx0aXBsZSBsaW5lcyBvZiB0ZXh0IHVzaW5nIGJpdG1hcCBmb250LlxuICpcbiAqIFRoZSBwcmltYXJ5IGFkdmFudGFnZSBvZiB0aGlzIGNsYXNzIG92ZXIgVGV4dCBpcyB0aGF0IGFsbCBvZiB5b3VyIHRleHR1cmVzIGFyZSBwcmUtZ2VuZXJhdGVkIGFuZCBsb2FkaW5nLFxuICogbWVhbmluZyB0aGF0IHJlbmRlcmluZyBpcyBmYXN0LCBhbmQgY2hhbmdpbmcgdGV4dCBoYXMgbm8gcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLlxuICpcbiAqIFN1cHBvcnRpbmcgY2hhcmFjdGVyIHNldHMgb3RoZXIgdGhhbiBsYXRpbiwgc3VjaCBhcyBDSksgbGFuZ3VhZ2VzLCBtYXkgYmUgaW1wcmFjdGljYWwgZHVlIHRvIHRoZSBudW1iZXIgb2YgY2hhcmFjdGVycy5cbiAqXG4gKiBUbyBzcGxpdCBhIGxpbmUgeW91IGNhbiB1c2UgJ1xcbicsICdcXHInIG9yICdcXHJcXG4nIGluIHlvdXIgc3RyaW5nLlxuICpcbiAqIFBpeGlKUyBjYW4gYXV0by1nZW5lcmF0ZSBmb250cyBvbi10aGUtZmx5IHVzaW5nIEJpdG1hcEZvbnQgb3IgdXNlIGZudCBmaWxlcyBwcm92aWRlZCBieTpcbiAqIGh0dHA6Ly93d3cuYW5nZWxjb2RlLmNvbS9wcm9kdWN0cy9ibWZvbnQvIGZvciBXaW5kb3dzIG9yXG4gKiBodHRwOi8vd3d3LmJtZ2x5cGguY29tLyBmb3IgTWFjLlxuICpcbiAqIEEgQml0bWFwVGV4dCBjYW4gb25seSBiZSBjcmVhdGVkIHdoZW4gdGhlIGZvbnQgaXMgbG9hZGVkLlxuICpcbiAqIGBgYGpzXG4gKiAvLyBpbiB0aGlzIGNhc2UgdGhlIGZvbnQgaXMgaW4gYSBmaWxlIGNhbGxlZCAnZGVzeXJlbC5mbnQnXG4gKiBsZXQgYml0bWFwVGV4dCA9IG5ldyBQSVhJLkJpdG1hcFRleHQoXCJ0ZXh0IHVzaW5nIGEgZmFuY3kgZm9udCFcIiwge2ZvbnQ6IFwiMzVweCBEZXN5cmVsXCIsIGFsaWduOiBcInJpZ2h0XCJ9KTtcbiAqIGBgYFxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5Db250YWluZXJcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCaXRtYXBUZXh0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCaXRtYXBUZXh0LCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IC0gQSBzdHJpbmcgdGhhdCB5b3Ugd291bGQgbGlrZSB0aGUgdGV4dCB0byBkaXNwbGF5LlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzdHlsZSAtIFRoZSBzdHlsZSBwYXJhbWV0ZXJzLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZS5mb250TmFtZSAtIFRoZSBpbnN0YWxsZWQgQml0bWFwRm9udCBuYW1lLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3R5bGUuZm9udFNpemVdIC0gVGhlIHNpemUgb2YgdGhlIGZvbnQgaW4gcGl4ZWxzLCBlLmcuIDI0LiBJZiB1bmRlZmluZWQsXG4gICAgICouICAgICB0aGlzIHdpbGwgZGVmYXVsdCB0byB0aGUgQml0bWFwRm9udCBzaXplLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3R5bGUuYWxpZ249J2xlZnQnXSAtIEFsaWdubWVudCBmb3IgbXVsdGlsaW5lIHRleHQgKCdsZWZ0JywgJ2NlbnRlcicgb3IgJ3JpZ2h0JyksXG4gICAgICogICAgICBkb2VzIG5vdCBhZmZlY3Qgc2luZ2xlIGxpbmUgdGV4dC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLnRpbnQ9MHhGRkZGRkZdIC0gVGhlIHRpbnQgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdHlsZS5sZXR0ZXJTcGFjaW5nPTBdIC0gVGhlIGFtb3VudCBvZiBzcGFjaW5nIGJldHdlZW4gbGV0dGVycy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0eWxlLm1heFdpZHRoPTBdIC0gVGhlIG1heCB3aWR0aCBvZiB0aGUgdGV4dCBiZWZvcmUgbGluZSB3cmFwcGluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBCaXRtYXBUZXh0KHRleHQsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PT0gdm9pZCAwKSB7IHN0eWxlID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3RpbnQgPSAweEZGRkZGRjtcbiAgICAgICAgaWYgKHN0eWxlLmZvbnQpIHtcbiAgICAgICAgICAgIGRlcHJlY2F0aW9uKCc1LjMuMCcsICdQSVhJLkJpdG1hcFRleHQgY29uc3RydWN0b3Igc3R5bGUuZm9udCBwcm9wZXJ0eSBpcyBkZXByZWNhdGVkLicpO1xuICAgICAgICAgICAgX3RoaXMuX3VwZ3JhZGVTdHlsZShzdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXBwbHkgdGhlIGRlZmF1bHRzXG4gICAgICAgIHZhciBfYSA9IE9iamVjdC5hc3NpZ24oe30sIEJpdG1hcFRleHQuc3R5bGVEZWZhdWx0cywgc3R5bGUpLCBhbGlnbiA9IF9hLmFsaWduLCB0aW50ID0gX2EudGludCwgbWF4V2lkdGggPSBfYS5tYXhXaWR0aCwgbGV0dGVyU3BhY2luZyA9IF9hLmxldHRlclNwYWNpbmcsIGZvbnROYW1lID0gX2EuZm9udE5hbWUsIGZvbnRTaXplID0gX2EuZm9udFNpemU7XG4gICAgICAgIGlmICghQml0bWFwRm9udC5hdmFpbGFibGVbZm9udE5hbWVdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIEJpdG1hcEZvbnQgXFxcIlwiICsgZm9udE5hbWUgKyBcIlxcXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbGxlY3Rpb24gb2YgcGFnZSBtZXNoIGRhdGEuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge29iamVjdH1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcml2YXRlIHRyYWNrZXIgZm9yIHRoZSB3aWR0aCBvZiB0aGUgb3ZlcmFsbCB0ZXh0XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0V2lkdGggPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgaGVpZ2h0IG9mIHRoZSBvdmVyYWxsIHRleHRcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RleHRIZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYWxpZ24gPSBhbGlnbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByaXZhdGUgdHJhY2tlciBmb3IgdGhlIGN1cnJlbnQgdGludC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RpbnQgPSB0aW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250IG5hbWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250TmFtZSA9IGZvbnROYW1lO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCBmb250IHNpemUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9mb250U2l6ZSA9IGZvbnRTaXplIHx8IEJpdG1hcEZvbnQuYXZhaWxhYmxlW2ZvbnROYW1lXS5zaXplO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJpdmF0ZSB0cmFja2VyIGZvciB0aGUgY3VycmVudCB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fdGV4dCA9IHRleHQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IHdpZHRoIG9mIHRoaXMgYml0bWFwIHRleHQgaW4gcGl4ZWxzLiBJZiB0aGUgdGV4dCBwcm92aWRlZCBpcyBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICogdmFsdWUgcHJvdmlkZWQsIGxpbmUgYnJlYWtzIHdpbGwgYmUgYXV0b21hdGljYWxseSBpbnNlcnRlZCBpbiB0aGUgbGFzdCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBEaXNhYmxlIGJ5IHNldHRpbmcgdmFsdWUgdG8gMFxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fbWF4V2lkdGggPSBtYXhXaWR0aDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBtYXggbGluZSBoZWlnaHQuIFRoaXMgaXMgdXNlZnVsIHdoZW4gdHJ5aW5nIHRvIHVzZSB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBUZXh0LFxuICAgICAgICAgKiBpZTogd2hlbiB0cnlpbmcgdG8gdmVydGljYWxseSBhbGlnbi4gKEludGVybmFsbHkgdXNlZClcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX21heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogTGV0dGVyIHNwYWNpbmcuIFRoaXMgaXMgdXNlZnVsIGZvciBzZXR0aW5nIHRoZSBzcGFjZSBiZXR3ZWVuIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl9sZXR0ZXJTcGFjaW5nID0gbGV0dGVyU3BhY2luZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRleHQgYW5jaG9yLiByZWFkLW9ubHlcbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7UElYSS5PYnNlcnZhYmxlUG9pbnR9XG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fYW5jaG9yID0gbmV3IE9ic2VydmFibGVQb2ludChmdW5jdGlvbiAoKSB7IF90aGlzLmRpcnR5ID0gdHJ1ZTsgfSwgX3RoaXMsIDAsIDApO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSBQaXhpSlMgd2lsbCBNYXRoLmZsb29yKCkgeC95IHZhbHVlcyB3aGVuIHJlbmRlcmluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKiBAZGVmYXVsdCBQSVhJLnNldHRpbmdzLlJPVU5EX1BJWEVMU1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3JvdW5kUGl4ZWxzID0gc2V0dGluZ3MuUk9VTkRfUElYRUxTO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIGB0cnVlYCBpZiB0aGUgQml0bWFwVGV4dCBuZWVkcyB0byBiZSByZWRyYXduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FjaGVkIGNoYXIgdGV4dHVyZSBpcyBkZXN0cm95ZWQgd2hlbiBCaXRtYXBUZXh0IGlzIGRlc3Ryb3llZFxuICAgICAgICAgKiBAbWVtYmVyIHtSZWNvcmQ8bnVtYmVyLCBUZXh0dXJlPn1cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLl90ZXh0dXJlQ2FjaGUgPSB7fTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRleHQgYW5kIHVwZGF0ZXMgaXQgd2hlbiBuZWVkZWQuIFRoaXMgc2hvdWxkIG9ubHkgYmUgY2FsbGVkXG4gICAgICogaWYgdGhlIEJpdG1hcEZvbnQgaXMgcmVnZW5lcmF0ZWQuXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudXBkYXRlVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB2YXIgZGF0YSA9IEJpdG1hcEZvbnQuYXZhaWxhYmxlW3RoaXMuX2ZvbnROYW1lXTtcbiAgICAgICAgdmFyIHNjYWxlID0gdGhpcy5fZm9udFNpemUgLyBkYXRhLnNpemU7XG4gICAgICAgIHZhciBwb3MgPSBuZXcgUG9pbnQoKTtcbiAgICAgICAgdmFyIGNoYXJzID0gW107XG4gICAgICAgIHZhciBsaW5lV2lkdGhzID0gW107XG4gICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fdGV4dC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyKS9nLCAnXFxuJykgfHwgJyAnO1xuICAgICAgICB2YXIgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoO1xuICAgICAgICB2YXIgbWF4V2lkdGggPSB0aGlzLl9tYXhXaWR0aCAqIGRhdGEuc2l6ZSAvIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB2YXIgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RMaW5lV2lkdGggPSAwO1xuICAgICAgICB2YXIgbWF4TGluZVdpZHRoID0gMDtcbiAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICB2YXIgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgIHZhciBsYXN0QnJlYWtXaWR0aCA9IDA7XG4gICAgICAgIHZhciBzcGFjZXNSZW1vdmVkID0gMDtcbiAgICAgICAgdmFyIG1heExpbmVIZWlnaHQgPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXJDb2RlID0gdGV4dC5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgdmFyIGNoYXIgPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgICAgICAgIGlmICgoLyg/OlxccykvKS50ZXN0KGNoYXIpKSB7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gaTtcbiAgICAgICAgICAgICAgICBsYXN0QnJlYWtXaWR0aCA9IGxhc3RMaW5lV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hhciA9PT0gJ1xccicgfHwgY2hhciA9PT0gJ1xcbicpIHtcbiAgICAgICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICAgICAgbWF4TGluZVdpZHRoID0gTWF0aC5tYXgobWF4TGluZVdpZHRoLCBsYXN0TGluZVdpZHRoKTtcbiAgICAgICAgICAgICAgICArK2xpbmU7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHBvcy54ID0gMDtcbiAgICAgICAgICAgICAgICBwb3MueSArPSBkYXRhLmxpbmVIZWlnaHQ7XG4gICAgICAgICAgICAgICAgcHJldkNoYXJDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjaGFyRGF0YSA9IGRhdGEuY2hhcnNbY2hhckNvZGVdO1xuICAgICAgICAgICAgaWYgKCFjaGFyRGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHByZXZDaGFyQ29kZSAmJiBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV0pIHtcbiAgICAgICAgICAgICAgICBwb3MueCArPSBjaGFyRGF0YS5rZXJuaW5nW3ByZXZDaGFyQ29kZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2hhclJlbmRlckRhdGEgPSBjaGFyUmVuZGVyRGF0YVBvb2wucG9wKCkgfHwge1xuICAgICAgICAgICAgICAgIHRleHR1cmU6IFRleHR1cmUuRU1QVFksXG4gICAgICAgICAgICAgICAgbGluZTogMCxcbiAgICAgICAgICAgICAgICBjaGFyQ29kZTogMCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogbmV3IFBvaW50KCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2hhclJlbmRlckRhdGEudGV4dHVyZSA9IGNoYXJEYXRhLnRleHR1cmU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5saW5lID0gbGluZTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLmNoYXJDb2RlID0gY2hhckNvZGU7XG4gICAgICAgICAgICBjaGFyUmVuZGVyRGF0YS5wb3NpdGlvbi54ID0gcG9zLnggKyBjaGFyRGF0YS54T2Zmc2V0ICsgKHRoaXMuX2xldHRlclNwYWNpbmcgLyAyKTtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhLnBvc2l0aW9uLnkgPSBwb3MueSArIGNoYXJEYXRhLnlPZmZzZXQ7XG4gICAgICAgICAgICBjaGFycy5wdXNoKGNoYXJSZW5kZXJEYXRhKTtcbiAgICAgICAgICAgIHBvcy54ICs9IGNoYXJEYXRhLnhBZHZhbmNlICsgdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgICAgIGxhc3RMaW5lV2lkdGggPSBwb3MueDtcbiAgICAgICAgICAgIG1heExpbmVIZWlnaHQgPSBNYXRoLm1heChtYXhMaW5lSGVpZ2h0LCAoY2hhckRhdGEueU9mZnNldCArIGNoYXJEYXRhLnRleHR1cmUuaGVpZ2h0KSk7XG4gICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChsYXN0QnJlYWtQb3MgIT09IC0xICYmIG1heFdpZHRoID4gMCAmJiBwb3MueCA+IG1heFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgKytzcGFjZXNSZW1vdmVkO1xuICAgICAgICAgICAgICAgIHJlbW92ZUl0ZW1zKGNoYXJzLCAxICsgbGFzdEJyZWFrUG9zIC0gc3BhY2VzUmVtb3ZlZCwgMSArIGkgLSBsYXN0QnJlYWtQb3MpO1xuICAgICAgICAgICAgICAgIGkgPSBsYXN0QnJlYWtQb3M7XG4gICAgICAgICAgICAgICAgbGFzdEJyZWFrUG9zID0gLTE7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRocy5wdXNoKGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RCcmVha1dpZHRoKTtcbiAgICAgICAgICAgICAgICBsaW5lKys7XG4gICAgICAgICAgICAgICAgcG9zLnggPSAwO1xuICAgICAgICAgICAgICAgIHBvcy55ICs9IGRhdGEubGluZUhlaWdodDtcbiAgICAgICAgICAgICAgICBwcmV2Q2hhckNvZGUgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBsYXN0Q2hhciA9IHRleHQuY2hhckF0KHRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmIChsYXN0Q2hhciAhPT0gJ1xccicgJiYgbGFzdENoYXIgIT09ICdcXG4nKSB7XG4gICAgICAgICAgICBpZiAoKC8oPzpcXHMpLykudGVzdChsYXN0Q2hhcikpIHtcbiAgICAgICAgICAgICAgICBsYXN0TGluZVdpZHRoID0gbGFzdEJyZWFrV2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaW5lV2lkdGhzLnB1c2gobGFzdExpbmVXaWR0aCk7XG4gICAgICAgICAgICBtYXhMaW5lV2lkdGggPSBNYXRoLm1heChtYXhMaW5lV2lkdGgsIGxhc3RMaW5lV2lkdGgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaW5lQWxpZ25PZmZzZXRzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IGxpbmU7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFsaWduT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGlnbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gbWF4TGluZVdpZHRoIC0gbGluZVdpZHRoc1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2FsaWduID09PSAnY2VudGVyJykge1xuICAgICAgICAgICAgICAgIGFsaWduT2Zmc2V0ID0gKG1heExpbmVXaWR0aCAtIGxpbmVXaWR0aHNbaV0pIC8gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmVBbGlnbk9mZnNldHMucHVzaChhbGlnbk9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbkNoYXJzID0gY2hhcnMubGVuZ3RoO1xuICAgICAgICB2YXIgcGFnZXNNZXNoRGF0YSA9IHt9O1xuICAgICAgICB2YXIgbmV3UGFnZXNNZXNoRGF0YSA9IFtdO1xuICAgICAgICB2YXIgYWN0aXZlUGFnZXNNZXNoRGF0YSA9IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWN0aXZlUGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFnZU1lc2hEYXRhUG9vbC5wdXNoKGFjdGl2ZVBhZ2VzTWVzaERhdGFbaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHRleHR1cmUgPSBjaGFyc1tpXS50ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIGJhc2VUZXh0dXJlVWlkID0gdGV4dHVyZS5iYXNlVGV4dHVyZS51aWQ7XG4gICAgICAgICAgICBpZiAoIXBhZ2VzTWVzaERhdGFbYmFzZVRleHR1cmVVaWRdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VNZXNoRGF0YVBvb2wucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYWdlTWVzaERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb21ldHJ5ID0gbmV3IE1lc2hHZW9tZXRyeSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0ZXJpYWwgPSBuZXcgTWVzaE1hdGVyaWFsKFRleHR1cmUuRU1QVFkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzaCA9IG5ldyBNZXNoKGdlb21ldHJ5LCBtYXRlcmlhbCk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRleENvdW50OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXZzQ291bnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc2g6IG1lc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNlczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2czogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGljZXM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IGRhdGEuLlxuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0ZXhDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2c0NvdW50ID0gMDtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudG90YWwgPSAwO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8gbmVlZCB0byBnZXQgcGFnZSB0ZXh0dXJlIGhlcmUgc29tZWhvdy4uXG4gICAgICAgICAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgICAgICAgICAgX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF0gPSBfdGV4dHVyZUNhY2hlW2Jhc2VUZXh0dXJlVWlkXSB8fCBuZXcgVGV4dHVyZSh0ZXh0dXJlLmJhc2VUZXh0dXJlKTtcbiAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC50ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtiYXNlVGV4dHVyZVVpZF07XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLm1lc2gudGludCA9IHRoaXMuX3RpbnQ7XG4gICAgICAgICAgICAgICAgbmV3UGFnZXNNZXNoRGF0YS5wdXNoKHBhZ2VNZXNoRGF0YSk7XG4gICAgICAgICAgICAgICAgcGFnZXNNZXNoRGF0YVtiYXNlVGV4dHVyZVVpZF0gPSBwYWdlTWVzaERhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYWdlc01lc2hEYXRhW2Jhc2VUZXh0dXJlVWlkXS50b3RhbCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxldHMgZmluZCBhbnkgcHJldmlvdXNseSBhY3RpdmUgcGFnZU1lc2hEYXRhcyB0aGF0IGFyZSBubyBsb25nZXIgcmVxdWlyZWQgZm9yXG4gICAgICAgIC8vIHRoZSB1cGRhdGVkIHRleHQgKGlmIGFueSksIHJlbW92ZWQgYW5kIHJldHVybiB0aGVtIHRvIHRoZSBwb29sLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXdQYWdlc01lc2hEYXRhLmluZGV4T2YoYWN0aXZlUGFnZXNNZXNoRGF0YVtpXSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChhY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5leHQgbGV0cyBhZGQgYW55IG5ldyBtZXNoZXMsIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gYWRkZWQgdG8gdGhpcyBCaXRtYXBUZXh0XG4gICAgICAgIC8vIHdlIG9ubHkgYWRkIGlmIGl0cyBub3QgYWxyZWFkeSBhIGNoaWxkIG9mIHRoaXMgQml0bWFwT2JqZWN0XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3UGFnZXNNZXNoRGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaC5wYXJlbnQgIT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKG5ld1BhZ2VzTWVzaERhdGFbaV0ubWVzaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWN0aXZlIHBhZ2UgbWVzaCBkYXRhcyBhcmUgc2V0IHRvIGJlIHRoZSBuZXcgcGFnZXMgYWRkZWQuXG4gICAgICAgIHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEgPSBuZXdQYWdlc01lc2hEYXRhO1xuICAgICAgICBmb3IgKHZhciBpIGluIHBhZ2VzTWVzaERhdGEpIHtcbiAgICAgICAgICAgIHZhciBwYWdlTWVzaERhdGEgPSBwYWdlc01lc2hEYXRhW2ldO1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gcGFnZU1lc2hEYXRhLnRvdGFsO1xuICAgICAgICAgICAgLy8gbGV0cyBvbmx5IGFsbG9jYXRlIG5ldyBidWZmZXJzIGlmIHdlIGNhbiBmaXQgdGhlIG5ldyB0ZXh0IGluIHRoZSBjdXJyZW50IG9uZXMuLlxuICAgICAgICAgICAgLy8gdW5sZXNzIHRoYXQgaXMsIHdlIHdpbGwgYmUgYmF0Y2hpbmcuIEN1cnJlbnRseSBiYXRjaGluZyBkb3NlIG5vdCByZXNwZWN0IHRoZSBzaXplIHByb3BlcnR5IG9mIG1lc2hcbiAgICAgICAgICAgIGlmICghKCgoX2EgPSBwYWdlTWVzaERhdGEuaW5kaWNlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlbmd0aCkgPiA2ICogdG90YWwpIHx8IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcy5sZW5ndGggPCBNZXNoLkJBVENIQUJMRV9TSVpFICogMikge1xuICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnV2cyA9IG5ldyBGbG9hdDMyQXJyYXkoNCAqIDIgKiB0b3RhbCk7XG4gICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLmluZGljZXMgPSBuZXcgVWludDE2QXJyYXkoNiAqIHRvdGFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciB0b3RhbF8xID0gcGFnZU1lc2hEYXRhLnRvdGFsO1xuICAgICAgICAgICAgICAgIHZhciB2ZXJ0aWNlcyA9IHBhZ2VNZXNoRGF0YS52ZXJ0aWNlcztcbiAgICAgICAgICAgICAgICAvLyBDbGVhciB0aGUgZ2FyYmFnZSBhdCB0aGUgZW5kIG9mIHRoZSB2ZXJ0aWNlcyBidWZmZXIuIFRoaXMgd2lsbCBwcmV2ZW50IHRoZSBib3VuZHMgbWlzY2FsY3VsYXRpb24uXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaV8xID0gdG90YWxfMSAqIDQgKiAyOyBpXzEgPCB2ZXJ0aWNlcy5sZW5ndGg7IGlfMSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzW2lfMV0gPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGFzIGEgYnVmZmVyIG1heWJlIGJpZ2dlciB0aGFuIHRoZSBjdXJyZW50IHdvcmQsIHdlIHNldCB0aGUgc2l6ZSBvZiB0aGUgbWVzaE1hdGVyaWFsXG4gICAgICAgICAgICAvLyB0byBtYXRjaCB0aGUgbnVtYmVyIG9mIGxldHRlcnMgbmVlZGVkXG4gICAgICAgICAgICBwYWdlTWVzaERhdGEubWVzaC5zaXplID0gNiAqIHRvdGFsO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuQ2hhcnM7IGkrKykge1xuICAgICAgICAgICAgdmFyIGNoYXIgPSBjaGFyc1tpXTtcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBjaGFyLnBvc2l0aW9uLnggKyBsaW5lQWxpZ25PZmZzZXRzW2NoYXIubGluZV07XG4gICAgICAgICAgICBpZiAodGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBNYXRoLnJvdW5kKG9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgeFBvcyA9IG9mZnNldCAqIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHlQb3MgPSBjaGFyLnBvc2l0aW9uLnkgKiBzY2FsZTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gY2hhci50ZXh0dXJlO1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoID0gcGFnZXNNZXNoRGF0YVt0ZXh0dXJlLmJhc2VUZXh0dXJlLnVpZF07XG4gICAgICAgICAgICB2YXIgdGV4dHVyZUZyYW1lID0gdGV4dHVyZS5mcmFtZTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlVXZzID0gdGV4dHVyZS5fdXZzO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gcGFnZU1lc2guaW5kZXgrKztcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAwXSA9IDAgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAxXSA9IDEgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAyXSA9IDIgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyAzXSA9IDAgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyA0XSA9IDIgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLmluZGljZXNbKGluZGV4ICogNikgKyA1XSA9IDMgKyAoaW5kZXggKiA0KTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgMF0gPSB4UG9zO1xuICAgICAgICAgICAgcGFnZU1lc2gudmVydGljZXNbKGluZGV4ICogOCkgKyAxXSA9IHlQb3M7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDJdID0geFBvcyArICh0ZXh0dXJlRnJhbWUud2lkdGggKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDNdID0geVBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNF0gPSB4UG9zICsgKHRleHR1cmVGcmFtZS53aWR0aCAqIHNjYWxlKTtcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgNV0gPSB5UG9zICsgKHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC52ZXJ0aWNlc1soaW5kZXggKiA4KSArIDZdID0geFBvcztcbiAgICAgICAgICAgIHBhZ2VNZXNoLnZlcnRpY2VzWyhpbmRleCAqIDgpICsgN10gPSB5UG9zICsgKHRleHR1cmVGcmFtZS5oZWlnaHQgKiBzY2FsZSk7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAwXSA9IHRleHR1cmVVdnMueDA7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAxXSA9IHRleHR1cmVVdnMueTA7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAyXSA9IHRleHR1cmVVdnMueDE7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyAzXSA9IHRleHR1cmVVdnMueTE7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA0XSA9IHRleHR1cmVVdnMueDI7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA1XSA9IHRleHR1cmVVdnMueTI7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA2XSA9IHRleHR1cmVVdnMueDM7XG4gICAgICAgICAgICBwYWdlTWVzaC51dnNbKGluZGV4ICogOCkgKyA3XSA9IHRleHR1cmVVdnMueTM7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdGV4dFdpZHRoID0gbWF4TGluZVdpZHRoICogc2NhbGU7XG4gICAgICAgIHRoaXMuX3RleHRIZWlnaHQgPSAocG9zLnkgKyBkYXRhLmxpbmVIZWlnaHQpICogc2NhbGU7XG4gICAgICAgIGZvciAodmFyIGkgaW4gcGFnZXNNZXNoRGF0YSkge1xuICAgICAgICAgICAgdmFyIHBhZ2VNZXNoRGF0YSA9IHBhZ2VzTWVzaERhdGFbaV07XG4gICAgICAgICAgICAvLyBhcHBseSBhbmNob3JcbiAgICAgICAgICAgIGlmICh0aGlzLmFuY2hvci54ICE9PSAwIHx8IHRoaXMuYW5jaG9yLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVydGV4Q291bnQgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBhbmNob3JPZmZzZXRYID0gdGhpcy5fdGV4dFdpZHRoICogdGhpcy5hbmNob3IueDtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yT2Zmc2V0WSA9IHRoaXMuX3RleHRIZWlnaHQgKiB0aGlzLmFuY2hvci55O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGlfMiA9IDA7IGlfMiA8IHBhZ2VNZXNoRGF0YS50b3RhbDsgaV8yKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WDtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFk7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRYO1xuICAgICAgICAgICAgICAgICAgICBwYWdlTWVzaERhdGEudmVydGljZXNbdmVydGV4Q291bnQrK10gLT0gYW5jaG9yT2Zmc2V0WTtcbiAgICAgICAgICAgICAgICAgICAgcGFnZU1lc2hEYXRhLnZlcnRpY2VzW3ZlcnRleENvdW50KytdIC09IGFuY2hvck9mZnNldFg7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VNZXNoRGF0YS52ZXJ0aWNlc1t2ZXJ0ZXhDb3VudCsrXSAtPSBhbmNob3JPZmZzZXRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21heExpbmVIZWlnaHQgPSBtYXhMaW5lSGVpZ2h0ICogc2NhbGU7XG4gICAgICAgICAgICB2YXIgdmVydGV4QnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlQnVmZmVyID0gcGFnZU1lc2hEYXRhLm1lc2guZ2VvbWV0cnkuZ2V0QnVmZmVyKCdhVGV4dHVyZUNvb3JkJyk7XG4gICAgICAgICAgICB2YXIgaW5kZXhCdWZmZXIgPSBwYWdlTWVzaERhdGEubWVzaC5nZW9tZXRyeS5nZXRJbmRleCgpO1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEudmVydGljZXM7XG4gICAgICAgICAgICB0ZXh0dXJlQnVmZmVyLmRhdGEgPSBwYWdlTWVzaERhdGEudXZzO1xuICAgICAgICAgICAgaW5kZXhCdWZmZXIuZGF0YSA9IHBhZ2VNZXNoRGF0YS5pbmRpY2VzO1xuICAgICAgICAgICAgdmVydGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICAgICAgdGV4dHVyZUJ1ZmZlci51cGRhdGUoKTtcbiAgICAgICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNoYXJSZW5kZXJEYXRhUG9vbC5wdXNoKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdHJhbnNmb3JtIG9mIHRoaXMgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLnVwZGF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0ZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRleHQgYmVmb3JlIGNhbGxpbmcgcGFyZW50J3MgZ2V0TG9jYWxCb3VuZHNcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWEkuUmVjdGFuZ2xlfSBUaGUgcmVjdGFuZ3VsYXIgYm91bmRpbmcgYXJlYVxuICAgICAqL1xuICAgIEJpdG1hcFRleHQucHJvdG90eXBlLmdldExvY2FsQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRleHQgd2hlbiBuZWVkZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRleHQoKTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRpbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHRpbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEBkZWZhdWx0IDB4ZmZmZmZmXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90aW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3RpbnQgPT09IHZhbHVlKVxuICAgICAgICAgICAgICAgIHsgcmV0dXJuOyB9XG4gICAgICAgICAgICB0aGlzLl90aW50ID0gdmFsdWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2FjdGl2ZVBhZ2VzTWVzaERhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3RpdmVQYWdlc01lc2hEYXRhW2ldLm1lc2gudGludCA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImFsaWduXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbGlnbm1lbnQgb2YgdGhlIEJpdG1hcFRleHQgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtzdHJpbmd9XG4gICAgICAgICAqIEBkZWZhdWx0ICdsZWZ0J1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWxpZ24gIT09IHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWxpZ24gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJmb250TmFtZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbmFtZSBvZiB0aGUgQml0bWFwRm9udC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZm9udE5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoIUJpdG1hcEZvbnQuYXZhaWxhYmxlW3ZhbHVlXSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgQml0bWFwRm9udCBcXFwiXCIgKyB2YWx1ZSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9mb250TmFtZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9mb250TmFtZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcImZvbnRTaXplXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzaXplIG9mIHRoZSBmb250IHRvIGRpc3BsYXkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2ZvbnRTaXplO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2ZvbnRTaXplICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ZvbnRTaXplID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwiYW5jaG9yXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBhbmNob3Igc2V0cyB0aGUgb3JpZ2luIHBvaW50IG9mIHRoZSB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBpcyBgKDAsMClgLCB0aGlzIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIHRoZSB0b3AgbGVmdC5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0dGluZyB0aGUgYW5jaG9yIHRvIGAoMC41LDAuNSlgIG1lYW5zIHRoZSB0ZXh0J3Mgb3JpZ2luIGlzIGNlbnRlcmVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZXR0aW5nIHRoZSBhbmNob3IgdG8gYCgxLDEpYCB3b3VsZCBtZWFuIHRoZSB0ZXh0J3Mgb3JpZ2luIHBvaW50IHdpbGwgYmUgdGhlIGJvdHRvbSByaWdodCBjb3JuZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge1BJWEkuUG9pbnQgfCBudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hbmNob3I7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuY2hvci5zZXQodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5jaG9yLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBCaXRtYXBUZXh0IG9iamVjdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7c3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgdGV4dCA9IFN0cmluZyh0ZXh0ID09PSBudWxsIHx8IHRleHQgPT09IHVuZGVmaW5lZCA/ICcnIDogdGV4dCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fdGV4dCA9PT0gdGV4dCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RleHQgPSB0ZXh0O1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwibWF4V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG1heCB3aWR0aCBvZiB0aGlzIGJpdG1hcCB0ZXh0IGluIHBpeGVscy4gSWYgdGhlIHRleHQgcHJvdmlkZWQgaXMgbG9uZ2VyIHRoYW4gdGhlXG4gICAgICAgICAqIHZhbHVlIHByb3ZpZGVkLCBsaW5lIGJyZWFrcyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgaW5zZXJ0ZWQgaW4gdGhlIGxhc3Qgd2hpdGVzcGFjZS5cbiAgICAgICAgICogRGlzYWJsZSBieSBzZXR0aW5nIHRoZSB2YWx1ZSB0byAwLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXhXaWR0aDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXhXaWR0aCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXhXaWR0aCA9IHZhbHVlO1xuICAgICAgICAgICAgdGhpcy5kaXJ0eSA9IHRydWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwibWF4TGluZUhlaWdodFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgbWF4IGxpbmUgaGVpZ2h0LiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHRyeWluZyB0byB1c2UgdGhlIHRvdGFsIGhlaWdodCBvZiB0aGUgVGV4dCxcbiAgICAgICAgICogaS5lLiB3aGVuIHRyeWluZyB0byB2ZXJ0aWNhbGx5IGFsaWduLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWF4TGluZUhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0V2lkdGhcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHdpZHRoIG9mIHRoZSBvdmVyYWxsIHRleHQsIGRpZmZlcmVudCBmcm9tIGZvbnRTaXplLFxuICAgICAgICAgKiB3aGljaCBpcyBkZWZpbmVkIGluIHRoZSBzdHlsZSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90ZXh0V2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0bWFwVGV4dC5wcm90b3R5cGUsIFwibGV0dGVyU3BhY2luZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRpdGlvbmFsIHNwYWNlIGJldHdlZW4gY2hhcmFjdGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGV0dGVyU3BhY2luZztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZXR0ZXJTcGFjaW5nICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xldHRlclNwYWNpbmcgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpcnR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCaXRtYXBUZXh0LnByb3RvdHlwZSwgXCJyb3VuZFBpeGVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlIFBpeGlKUyB3aWxsIE1hdGguZmxvb3IoKSB4L3kgdmFsdWVzIHdoZW4gcmVuZGVyaW5nLCBzdG9wcGluZyBwaXhlbCBpbnRlcnBvbGF0aW9uLlxuICAgICAgICAgKiBBZHZhbnRhZ2VzIGNhbiBpbmNsdWRlIHNoYXJwZXIgaW1hZ2UgcXVhbGl0eSAobGlrZSB0ZXh0KSBhbmQgZmFzdGVyIHJlbmRlcmluZyBvbiBjYW52YXMuXG4gICAgICAgICAqIFRoZSBtYWluIGRpc2FkdmFudGFnZSBpcyBtb3ZlbWVudCBvZiBvYmplY3RzIG1heSBhcHBlYXIgbGVzcyBzbW9vdGguXG4gICAgICAgICAqIFRvIHNldCB0aGUgZ2xvYmFsIGRlZmF1bHQsIGNoYW5nZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5ST1VORF9QSVhFTFN9XG4gICAgICAgICAqXG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqIEBkZWZhdWx0IFBJWEkuc2V0dGluZ3MuUk9VTkRfUElYRUxTXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yb3VuZFBpeGVscztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdGhpcy5fcm91bmRQaXhlbHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yb3VuZFBpeGVscyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQucHJvdG90eXBlLCBcInRleHRIZWlnaHRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGhlaWdodCBvZiB0aGUgb3ZlcmFsbCB0ZXh0LCBkaWZmZXJlbnQgZnJvbSBmb250U2l6ZSxcbiAgICAgICAgICogd2hpY2ggaXMgZGVmaW5lZCBpbiB0aGUgc3R5bGUgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyIHtudW1iZXJ9XG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdGV4dEhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LCBjb252ZXJ0IG9sZCBzdHlsZS5mb250IGNvbnN0cnVjdG9yIHBhcmFtIHRvIGZvbnROYW1lICYgZm9udFNpemUgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGRlcHJlY2F0ZWQgc2luY2UgNS4zLjBcbiAgICAgKi9cbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5fdXBncmFkZVN0eWxlID0gZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc3R5bGUuZm9udCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZVNwbGl0ID0gc3R5bGUuZm9udC5zcGxpdCgnICcpO1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSB2YWx1ZVNwbGl0Lmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgICAgID8gdmFsdWVTcGxpdFswXVxuICAgICAgICAgICAgICAgIDogdmFsdWVTcGxpdC5zbGljZSgxKS5qb2luKCcgJyk7XG4gICAgICAgICAgICBpZiAodmFsdWVTcGxpdC5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgIHN0eWxlLmZvbnRTaXplID0gcGFyc2VJbnQodmFsdWVTcGxpdFswXSwgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUuZm9udE5hbWUgPSBzdHlsZS5mb250Lm5hbWU7XG4gICAgICAgICAgICBzdHlsZS5mb250U2l6ZSA9IHR5cGVvZiBzdHlsZS5mb250LnNpemUgPT09ICdudW1iZXInXG4gICAgICAgICAgICAgICAgPyBzdHlsZS5mb250LnNpemVcbiAgICAgICAgICAgICAgICA6IHBhcnNlSW50KHN0eWxlLmZvbnQuc2l6ZSwgMTApO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCaXRtYXBUZXh0LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF90ZXh0dXJlQ2FjaGUgPSB0aGlzLl90ZXh0dXJlQ2FjaGU7XG4gICAgICAgIGZvciAodmFyIGlkIGluIF90ZXh0dXJlQ2FjaGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX3RleHR1cmVDYWNoZVtpZF07XG4gICAgICAgICAgICB0ZXh0dXJlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIGRlbGV0ZSBfdGV4dHVyZUNhY2hlW2lkXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90ZXh0dXJlQ2FjaGUgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgYml0bWFwIGZvbnQgd2l0aCBkYXRhIGFuZCBhIHRleHR1cmUuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBzaW5jZSA1LjMuMFxuICAgICAqIEBzZWUgUElYSS5CaXRtYXBGb250Lmluc3RhbGxcbiAgICAgKiBAc3RhdGljXG4gICAgICovXG4gICAgQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgPSBmdW5jdGlvbiAoZGF0YSwgdGV4dHVyZXMpIHtcbiAgICAgICAgZGVwcmVjYXRpb24oJzUuMy4wJywgJ1BJWEkuQml0bWFwVGV4dC5yZWdpc3RlckZvbnQgaXMgZGVwcmVjYXRlZCwgdXNlIFBJWEkuQml0bWFwRm9udC5pbnN0YWxsJyk7XG4gICAgICAgIHJldHVybiBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdG1hcFRleHQsIFwiZm9udHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBsaXN0IG9mIGluc3RhbGxlZCBmb250cy5cbiAgICAgICAgICpcbiAgICAgICAgICogQHNlZSBQSVhJLkJpdG1hcEZvbnQuYXZhaWxhYmxlXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHNpbmNlIDUuMy4wXG4gICAgICAgICAqIEBzdGF0aWNcbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge09iamVjdC48c3RyaW5nLCBQSVhJLkJpdG1hcEZvbnQ+fVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZXByZWNhdGlvbignNS4zLjAnLCAnUElYSS5CaXRtYXBUZXh0LmZvbnRzIGlzIGRlcHJlY2F0ZWQsIHVzZSBQSVhJLkJpdG1hcEZvbnQuYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICByZXR1cm4gQml0bWFwRm9udC5hdmFpbGFibGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBCaXRtYXBUZXh0LnN0eWxlRGVmYXVsdHMgPSB7XG4gICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgICAgIHRpbnQ6IDB4RkZGRkZGLFxuICAgICAgICBtYXhXaWR0aDogMCxcbiAgICAgICAgbGV0dGVyU3BhY2luZzogMCxcbiAgICB9O1xuICAgIHJldHVybiBCaXRtYXBUZXh0O1xufShDb250YWluZXIpKTtcblxuLyoqXG4gKiB7QGxpbmsgUElYSS5Mb2FkZXIgTG9hZGVyfSBtaWRkbGV3YXJlIGZvciBsb2FkaW5nXG4gKiBiaXRtYXAtYmFzZWQgZm9udHMgc3VpdGFibGUgZm9yIHVzaW5nIHdpdGgge0BsaW5rIFBJWEkuQml0bWFwVGV4dH0uXG4gKiBAY2xhc3NcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAaW1wbGVtZW50cyBQSVhJLklMb2FkZXJQbHVnaW5cbiAqL1xudmFyIEJpdG1hcEZvbnRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQml0bWFwRm9udExvYWRlcigpIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyBpbnN0YWxsZWQuXG4gICAgICpcbiAgICAgKiBAc2VlIFBJWEkuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luXG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci5hZGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIExvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ2ZudCcsIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBzZWUgUElYSS5Mb2FkZXIubG9hZGVyTWlkZGxld2FyZVxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZX0gcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBuZXh0XG4gICAgICovXG4gICAgQml0bWFwRm9udExvYWRlci51c2UgPSBmdW5jdGlvbiAocmVzb3VyY2UsIG5leHQpIHtcbiAgICAgICAgdmFyIGZvcm1hdCA9IGF1dG9EZXRlY3RGb3JtYXQocmVzb3VyY2UuZGF0YSk7XG4gICAgICAgIC8vIFJlc291cmNlIHdhcyBub3QgcmVjb2duaXNlZCBhcyBhbnkgb2YgdGhlIGV4cGVjdGVkIGZvbnQgZGF0YSBmb3JtYXRcbiAgICAgICAgaWYgKCFmb3JtYXQpIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYmFzZVVybCA9IEJpdG1hcEZvbnRMb2FkZXIuZ2V0QmFzZVVybCh0aGlzLCByZXNvdXJjZSk7XG4gICAgICAgIHZhciBkYXRhID0gZm9ybWF0LnBhcnNlKHJlc291cmNlLmRhdGEpO1xuICAgICAgICB2YXIgdGV4dHVyZXMgPSB7fTtcbiAgICAgICAgLy8gSGFuZGxlIGNvbXBsZXRlZCwgd2hlbiB0aGUgbnVtYmVyIG9mIHRleHR1cmVzXG4gICAgICAgIC8vIGxvYWQgaXMgdGhlIHNhbWUgbnVtYmVyIGFzIHJlZmVyZW5jZXMgaW4gdGhlIGZudCBmaWxlXG4gICAgICAgIHZhciBjb21wbGV0ZWQgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgdGV4dHVyZXNbcGFnZS5tZXRhZGF0YS5wYWdlRmlsZV0gPSBwYWdlLnRleHR1cmU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGV4dHVyZXMpLmxlbmd0aCA9PT0gZGF0YS5wYWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmJpdG1hcEZvbnQgPSBCaXRtYXBGb250Lmluc3RhbGwoZGF0YSwgdGV4dHVyZXMsIHRydWUpO1xuICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnBhZ2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwYWdlRmlsZSA9IGRhdGEucGFnZVtpXS5maWxlO1xuICAgICAgICAgICAgdmFyIHVybCA9IGJhc2VVcmwgKyBwYWdlRmlsZTtcbiAgICAgICAgICAgIHZhciBleGlzdHMgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGluY2FzZSB0aGUgaW1hZ2UgaXMgbG9hZGVkIG91dHNpZGVcbiAgICAgICAgICAgIC8vIHVzaW5nIHRoZSBzYW1lIGxvYWRlciwgcmVzb3VyY2Ugd2lsbCBiZSBhdmFpbGFibGVcbiAgICAgICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcy5yZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYml0bWFwUmVzb3VyY2UgPSB0aGlzLnJlc291cmNlc1tuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoYml0bWFwUmVzb3VyY2UudXJsID09PSB1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgYml0bWFwUmVzb3VyY2UubWV0YWRhdGEucGFnZUZpbGUgPSBwYWdlRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdG1hcFJlc291cmNlLnRleHR1cmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZChiaXRtYXBSZXNvdXJjZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRtYXBSZXNvdXJjZS5vbkFmdGVyTWlkZGxld2FyZS5hZGQoY29tcGxldGVkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBleGlzdHMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0ZXh0dXJlIGlzIG5vdCBsb2FkZWQsIHdlJ2xsIGF0dGVtcHQgdG8gYWRkXG4gICAgICAgICAgICAvLyBpdCB0byB0aGUgbG9hZCBhbmQgYWRkIHRoZSB0ZXh0dXJlIHRvIHRoZSBsaXN0XG4gICAgICAgICAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICAgICAgICAgIC8vIFN0YW5kYXJkIGxvYWRpbmcgb3B0aW9ucyBmb3IgaW1hZ2VzXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNyb3NzT3JpZ2luOiByZXNvdXJjZS5jcm9zc09yaWdpbixcbiAgICAgICAgICAgICAgICAgICAgbG9hZFR5cGU6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IE9iamVjdC5hc3NpZ24oeyBwYWdlRmlsZTogcGFnZUZpbGUgfSwgcmVzb3VyY2UubWV0YWRhdGEuaW1hZ2VNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFJlc291cmNlOiByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkKHVybCwgb3B0aW9ucywgY29tcGxldGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogR2V0IGZvbGRlciBwYXRoIGZyb20gYSByZXNvdXJjZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlcn0gbG9hZGVyXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlfSByZXNvdXJjZVxuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmdldEJhc2VVcmwgPSBmdW5jdGlvbiAobG9hZGVyLCByZXNvdXJjZSkge1xuICAgICAgICB2YXIgcmVzVXJsID0gIXJlc291cmNlLmlzRGF0YVVybCA/IEJpdG1hcEZvbnRMb2FkZXIuZGlybmFtZShyZXNvdXJjZS51cmwpIDogJyc7XG4gICAgICAgIGlmIChyZXNvdXJjZS5pc0RhdGFVcmwpIHtcbiAgICAgICAgICAgIGlmIChyZXNVcmwgPT09ICcuJykge1xuICAgICAgICAgICAgICAgIHJlc1VybCA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvYWRlci5iYXNlVXJsICYmIHJlc1VybCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGJhc2V1cmwgaGFzIGEgdHJhaWxpbmcgc2xhc2ggdGhlbiBhZGQgb25lIHRvIHJlc1VybCBzbyB0aGUgcmVwbGFjZSB3b3JrcyBiZWxvd1xuICAgICAgICAgICAgICAgIGlmIChsb2FkZXIuYmFzZVVybC5jaGFyQXQobG9hZGVyLmJhc2VVcmwubGVuZ3RoIC0gMSkgPT09ICcvJykge1xuICAgICAgICAgICAgICAgICAgICByZXNVcmwgKz0gJy8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyByZW1vdmUgYmFzZVVybCBmcm9tIHJlc1VybFxuICAgICAgICByZXNVcmwgPSByZXNVcmwucmVwbGFjZShsb2FkZXIuYmFzZVVybCwgJycpO1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBhbiByZXNVcmwgbm93LCBpdCBuZWVkcyBhIHRyYWlsaW5nIHNsYXNoLiBFbnN1cmUgdGhhdCBpdCBkb2VzIGlmIHRoZSBzdHJpbmcgaXNuJ3QgZW1wdHkuXG4gICAgICAgIGlmIChyZXNVcmwgJiYgcmVzVXJsLmNoYXJBdChyZXNVcmwubGVuZ3RoIC0gMSkgIT09ICcvJykge1xuICAgICAgICAgICAgcmVzVXJsICs9ICcvJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzVXJsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIE5vZGVKUydzIHBhdGguZGlybmFtZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFBhdGggdG8gZ2V0IGRpcmVjdG9yeSBmb3JcbiAgICAgKi9cbiAgICBCaXRtYXBGb250TG9hZGVyLmRpcm5hbWUgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBkaXIgPSB1cmxcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csICcvJykgLy8gY29udmVydCB3aW5kb3dzIG5vdGF0aW9uIHRvIFVOSVggbm90YXRpb24sIFVSTC1zYWZlIGJlY2F1c2UgaXQncyBhIGZvcmJpZGRlbiBjaGFyYWN0ZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC8kLywgJycpIC8vIHJlcGxhY2UgdHJhaWxpbmcgc2xhc2hcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXC9bXlxcL10qJC8sICcnKTsgLy8gcmVtb3ZlIGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGxhc3RcbiAgICAgICAgLy8gRmlsZSByZXF1ZXN0IGlzIHJlbGF0aXZlLCB1c2UgY3VycmVudCBkaXJlY3RvcnlcbiAgICAgICAgaWYgKGRpciA9PT0gdXJsKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0ZWQgd2l0aCBhIHNsYXNoXG4gICAgICAgIGVsc2UgaWYgKGRpciA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiAnLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpcjtcbiAgICB9O1xuICAgIHJldHVybiBCaXRtYXBGb250TG9hZGVyO1xufSgpKTtcblxuZXhwb3J0IHsgQml0bWFwRm9udCwgQml0bWFwRm9udERhdGEsIEJpdG1hcEZvbnRMb2FkZXIsIEJpdG1hcFRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRleHQtYml0bWFwLmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJCaXRtYXBGb250RGF0YSIsInRoaXMiLCJpbmZvIiwiY29tbW9uIiwicGFnZSIsImNoYXIiLCJrZXJuaW5nIiwiVGV4dEZvcm1hdCIsInRlc3QiLCJkYXRhIiwiaW5kZXhPZiIsInBhcnNlIiwidHh0IiwiaXRlbXMiLCJtYXRjaCIsInJhd0RhdGEiLCJjaGFycyIsImtlcm5pbmdzIiwiaSIsIm5hbWUiLCJhdHRyaWJ1dGVMaXN0IiwiaXRlbURhdGEiLCJpXzEiLCJzcGxpdCIsImtleSIsInN0clZhbHVlIiwicmVwbGFjZSIsImZsb2F0VmFsdWUiLCJwYXJzZUZsb2F0IiwidmFsdWUiLCJpc05hTiIsInB1c2giLCJmb250IiwiZm9yRWFjaCIsImZhY2UiLCJzaXplIiwicGFyc2VJbnQiLCJsaW5lSGVpZ2h0IiwiaWQiLCJmaWxlIiwieCIsInkiLCJ3aWR0aCIsImhlaWdodCIsInhvZmZzZXQiLCJ5b2Zmc2V0IiwieGFkdmFuY2UiLCJmaXJzdCIsInNlY29uZCIsImFtb3VudCIsIlhNTEZvcm1hdCIsIlhNTERvY3VtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJnZXRBdHRyaWJ1dGUiLCJ4bWwiLCJsZXR0ZXIiLCJYTUxTdHJpbmdGb3JtYXQiLCJzZWxmIiwiRE9NUGFyc2VyIiwicGFyc2VGcm9tU3RyaW5nIiwieG1sVHh0Iiwid2luZG93IiwiZm9ybWF0cyIsImF1dG9EZXRlY3RGb3JtYXQiLCJkcmF3R2x5cGgiLCJjYW52YXMiLCJjb250ZXh0IiwibWV0cmljcyIsInJlc29sdXRpb24iLCJzdHlsZSIsInRleHQiLCJmb250UHJvcGVydGllcyIsInRyYW5zbGF0ZSIsInNjYWxlIiwidHgiLCJzdHJva2VUaGlja25lc3MiLCJ0eSIsInRvRm9udFN0cmluZyIsImxpbmVXaWR0aCIsInRleHRCYXNlbGluZSIsImxpbmVKb2luIiwibWl0ZXJMaW1pdCIsImZpbGxTdHlsZSIsImxpbmVzIiwiZ3JhZGllbnQiLCJmaWxsIiwiaXNBcnJheSIsImRyb3BTaGFkb3dDb3JyZWN0aW9uIiwiZHJvcFNoYWRvd0Rpc3RhbmNlIiwicGFkZGluZyIsIk1hdGgiLCJjZWlsIiwic2xpY2UiLCJmaWxsR3JhZGllbnRTdG9wcyIsImxlbmd0aFBsdXMxIiwidW5zaGlmdCIsImZpbGxHcmFkaWVudFR5cGUiLCJjcmVhdGVMaW5lYXJHcmFkaWVudCIsImxhc3RJdGVyYXRpb25TdG9wIiwiZ3JhZFN0b3BMaW5lSGVpZ2h0IiwiZm9udFNpemUiLCJ0aGlzTGluZVRvcCIsImoiLCJnbG9iYWxTdG9wIiwiY2xhbXBlZFN0b3AiLCJtYXgiLCJtaW4iLCJhZGRDb2xvclN0b3AiLCJ0b3RhbEl0ZXJhdGlvbnMiLCJjdXJyZW50SXRlcmF0aW9uIiwic3RvcCIsImdlbmVyYXRlRmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJkcm9wU2hhZG93IiwiZHJvcFNoYWRvd0NvbG9yIiwicmdiIiwiaGV4MnJnYiIsInN0cmluZzJoZXgiLCJkcm9wU2hhZG93Qmx1ciIsInNoYWRvd0NvbG9yIiwiZHJvcFNoYWRvd0FscGhhIiwic2hhZG93Qmx1ciIsInNoYWRvd09mZnNldFgiLCJjb3MiLCJkcm9wU2hhZG93QW5nbGUiLCJzaGFkb3dPZmZzZXRZIiwic2luIiwic3Ryb2tlVGV4dCIsImRlc2NlbnQiLCJmaWxsVGV4dCIsInNldFRyYW5zZm9ybSIsIkJpdG1hcEZvbnQiLCJ0ZXh0dXJlcyIsIm93bnNUZXh0dXJlcyIsInJlcyIsImdldFJlc29sdXRpb25PZlVybCIsInBhZ2VUZXh0dXJlcyIsIl9vd25zVGV4dHVyZXMiLCJfYSIsIl9iIiwicGFnZV8xIiwiX2MiLCJyZWN0IiwiZnJhbWUiLCJ4T2Zmc2V0IiwieU9mZnNldCIsInhBZHZhbmNlIiwidGV4dHVyZSIsImJhc2VUZXh0dXJlIiwiX2QiLCJwcm90b3R5cGUiLCJkZXN0cm95IiwiaW5zdGFsbCIsImZvbnREYXRhIiwiZm9ybWF0IiwiRXJyb3IiLCJhdmFpbGFibGUiLCJ1bmluc3RhbGwiLCJmcm9tIiwidGV4dFN0eWxlIiwib3B0aW9ucyIsImFzc2lnbiIsImRlZmF1bHRPcHRpb25zIiwidGV4dHVyZVdpZHRoIiwidGV4dHVyZUhlaWdodCIsImNoYXJzTGlzdCIsInJlc3VsdCIsIml0ZW0iLCJzdGFydENvZGUiLCJjaGFyQ29kZUF0IiwiZW5kQ29kZSIsImpfMSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImFwcGx5IiwicmVzb2x2ZUNoYXJhY3RlcnMiLCJmb250RmFtaWx5IiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwibWF4Q2hhckhlaWdodCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJ0ZXh0dXJlR2x5cGhXaWR0aCIsImZvbnRTdHlsZSIsInVuZGVmaW5lZCIsIkFMUEhBIiwiTlVNRVJJQyIsIkFMUEhBTlVNRVJJQyIsIkFTQ0lJIiwicGFnZU1lc2hEYXRhUG9vbCIsImNoYXJSZW5kZXJEYXRhUG9vbCIsIkJpdG1hcEZvbnRMb2FkZXIiLCJfc3VwZXIiLCJCaXRtYXBUZXh0IiwiX3RoaXMiLCJjYWxsIiwiX3RpbnQiLCJkZXByZWNhdGlvbiIsIl91cGdyYWRlU3R5bGUiLCJzdHlsZURlZmF1bHRzIiwiYWxpZ24iLCJ0aW50IiwibWF4V2lkdGgiLCJsZXR0ZXJTcGFjaW5nIiwiZm9udE5hbWUiLCJfYWN0aXZlUGFnZXNNZXNoRGF0YSIsIl90ZXh0V2lkdGgiLCJfdGV4dEhlaWdodCIsIl9hbGlnbiIsIl9mb250TmFtZSIsIl9mb250U2l6ZSIsIl90ZXh0IiwiX21heFdpZHRoIiwiX21heExpbmVIZWlnaHQiLCJfbGV0dGVyU3BhY2luZyIsIl9hbmNob3IiLCJkaXJ0eSIsIl9yb3VuZFBpeGVscyIsIl90ZXh0dXJlQ2FjaGUiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19leHRlbmRzIiwidXBkYXRlVGV4dCIsInBvcyIsImxpbmVXaWR0aHMiLCJ0ZXh0TGVuZ3RoIiwicHJldkNoYXJDb2RlIiwibGFzdExpbmVXaWR0aCIsIm1heExpbmVXaWR0aCIsImxpbmUiLCJsYXN0QnJlYWtQb3MiLCJsYXN0QnJlYWtXaWR0aCIsInNwYWNlc1JlbW92ZWQiLCJtYXhMaW5lSGVpZ2h0IiwiY2hhckNvZGUiLCJjaGFyQXQiLCJjaGFyRGF0YSIsImNoYXJSZW5kZXJEYXRhIiwicG9wIiwicG9zaXRpb24iLCJyZW1vdmVJdGVtcyIsImxhc3RDaGFyIiwibGluZUFsaWduT2Zmc2V0cyIsImFsaWduT2Zmc2V0IiwibGVuQ2hhcnMiLCJwYWdlc01lc2hEYXRhIiwibmV3UGFnZXNNZXNoRGF0YSIsImFjdGl2ZVBhZ2VzTWVzaERhdGEiLCJiYXNlVGV4dHVyZVVpZCIsInVpZCIsInBhZ2VNZXNoRGF0YSIsImdlb21ldHJ5IiwibWF0ZXJpYWwiLCJpbmRleCIsImluZGV4Q291bnQiLCJ2ZXJ0ZXhDb3VudCIsInV2c0NvdW50IiwidG90YWwiLCJtZXNoIiwidmVydGljZXMiLCJ1dnMiLCJpbmRpY2VzIiwicmVtb3ZlQ2hpbGQiLCJwYXJlbnQiLCJhZGRDaGlsZCIsIkZsb2F0MzJBcnJheSIsIlVpbnQxNkFycmF5IiwidG90YWxfMSIsIm9mZnNldCIsInJvdW5kIiwieFBvcyIsInlQb3MiLCJwYWdlTWVzaCIsInRleHR1cmVGcmFtZSIsInRleHR1cmVVdnMiLCJfdXZzIiwieDAiLCJ5MCIsIngxIiwieTEiLCJ4MiIsInkyIiwieDMiLCJ5MyIsImFuY2hvciIsImFuY2hvck9mZnNldFgiLCJhbmNob3JPZmZzZXRZIiwiaV8yIiwidmVydGV4QnVmZmVyIiwiZ2V0QnVmZmVyIiwidGV4dHVyZUJ1ZmZlciIsImluZGV4QnVmZmVyIiwiZ2V0SW5kZXgiLCJ1cGRhdGUiLCJ1cGRhdGVUcmFuc2Zvcm0iLCJ2YWxpZGF0ZSIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSIsImdldExvY2FsQm91bmRzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJzZXQiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiY29weUZyb20iLCJ2YWx1ZVNwbGl0Iiwiam9pbiIsInJlZ2lzdGVyRm9udCIsImFkZCIsInVzZSIsInJlc291cmNlIiwibmV4dCIsImJhc2VVcmwiLCJnZXRCYXNlVXJsIiwiY29tcGxldGVkIiwibWV0YWRhdGEiLCJwYWdlRmlsZSIsImtleXMiLCJiaXRtYXBGb250IiwidXJsIiwiZXhpc3RzIiwicmVzb3VyY2VzIiwiYml0bWFwUmVzb3VyY2UiLCJvbkFmdGVyTWlkZGxld2FyZSIsImNyb3NzT3JpZ2luIiwibG9hZFR5cGUiLCJpbWFnZU1ldGFkYXRhIiwicGFyZW50UmVzb3VyY2UiLCJsb2FkZXIiLCJyZXNVcmwiLCJpc0RhdGFVcmwiLCJkaXJuYW1lIiwiZGlyIl0sInNvdXJjZVJvb3QiOiIifQ==