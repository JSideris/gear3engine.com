/*! For license information please see 2755.4ede8e3e4808ff2c3c06.js.LICENSE.txt */
"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[2755],{2755:(t,e,r)=>{Object.defineProperty(e,"__esModule",{value:!0});var i=r(2514),s=function(){function t(t,e,r){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=r,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},t}();function n(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var o,a=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var r=[];e;)r.push(e),e=e._next;return r},t.prototype.has=function(t){if(!(t instanceof s))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},t.prototype.dispatch=function(){for(var t=arguments,e=[],r=0;r<arguments.length;r++)e[r]=t[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},t.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new s(t,!1,e))},t.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new s(t,!0,e))},t.prototype.detach=function(t){if(!(t instanceof s))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},t.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},t}();function h(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[e.strictMode?"strict":"loose"].exec(t),s={},n=14;n--;)s[r.key[n]]=i[n]||"";return s[r.q.name]={},s[r.key[12]].replace(r.q.parser,(function(t,e,i){e&&(s[r.q.name][e]=i)})),s}var u,d,l,p,c,_=null;function E(){}function f(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function g(t){return t.toString().replace("object ","")}function T(){}function O(t){return function(){for(var e=arguments,r=[],i=0;i<arguments.length;i++)r[i]=e[i];if(null===t)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,r)}}e.LoaderResource=function(){function t(e,r,i){if(this._dequeue=E,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof e||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=E,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new a,this.onProgress=new a,this.onComplete=new a,this.onAfterMiddleware=new a}return t.setExtensionLoadType=function(e,r){f(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){f(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(r)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:void 0===o&&(o=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),o&&this.crossOrigin?this._loadXdr():this._loadXhr()}},t.prototype._hasFlag=function(t){return 0!=(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new globalThis.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},t.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(g(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnTimeout=function(){var t=this.xhr;this.abort(g(t)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var t=this.xhr;this.abort(g(t)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",i=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(r=e.responseText),0===i&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var n=document.createElement("div");n.innerHTML=r,this.data=n}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||r;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";e=e||globalThis.location,_||(_=document.createElement("a")),_.href=t;var r=h(_.href,{strictMode:!0}),i=!r.port&&""===e.port||r.port===e.port,s=r.protocol?r.protocol+":":"";return r.host===e.hostname&&i&&s===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),s=t.indexOf("#"),n=Math.min(i>-1?i:t.length,s>-1?s:t.length);e=(t=t.substring(0,n)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}(),(d=(u=e.LoaderResource||(e.LoaderResource={})).STATUS_FLAGS||(u.STATUS_FLAGS={}))[d.NONE=0]="NONE",d[d.DATA_URL=1]="DATA_URL",d[d.COMPLETE=2]="COMPLETE",d[d.LOADING=4]="LOADING",(l=u.TYPE||(u.TYPE={}))[l.UNKNOWN=0]="UNKNOWN",l[l.JSON=1]="JSON",l[l.XML=2]="XML",l[l.IMAGE=3]="IMAGE",l[l.AUDIO=4]="AUDIO",l[l.VIDEO=5]="VIDEO",l[l.TEXT=6]="TEXT",(p=u.LOAD_TYPE||(u.LOAD_TYPE={}))[p.XHR=1]="XHR",p[p.IMAGE=2]="IMAGE",p[p.AUDIO=3]="AUDIO",p[p.VIDEO=4]="VIDEO",(c=u.XHR_RESPONSE_TYPE||(u.XHR_RESPONSE_TYPE={})).DEFAULT="text",c.BUFFER="arraybuffer",c.BLOB="blob",c.DOCUMENT="document",c.JSON="json",c.TEXT="text",u._loadTypeMap={gif:u.LOAD_TYPE.IMAGE,png:u.LOAD_TYPE.IMAGE,bmp:u.LOAD_TYPE.IMAGE,jpg:u.LOAD_TYPE.IMAGE,jpeg:u.LOAD_TYPE.IMAGE,tif:u.LOAD_TYPE.IMAGE,tiff:u.LOAD_TYPE.IMAGE,webp:u.LOAD_TYPE.IMAGE,tga:u.LOAD_TYPE.IMAGE,svg:u.LOAD_TYPE.IMAGE,"svg+xml":u.LOAD_TYPE.IMAGE,mp3:u.LOAD_TYPE.AUDIO,ogg:u.LOAD_TYPE.AUDIO,wav:u.LOAD_TYPE.AUDIO,mp4:u.LOAD_TYPE.VIDEO,webm:u.LOAD_TYPE.VIDEO},u._xhrTypeMap={xhtml:u.XHR_RESPONSE_TYPE.DOCUMENT,html:u.XHR_RESPONSE_TYPE.DOCUMENT,htm:u.XHR_RESPONSE_TYPE.DOCUMENT,xml:u.XHR_RESPONSE_TYPE.DOCUMENT,tmx:u.XHR_RESPONSE_TYPE.DOCUMENT,svg:u.XHR_RESPONSE_TYPE.DOCUMENT,tsx:u.XHR_RESPONSE_TYPE.DOCUMENT,gif:u.XHR_RESPONSE_TYPE.BLOB,png:u.XHR_RESPONSE_TYPE.BLOB,bmp:u.XHR_RESPONSE_TYPE.BLOB,jpg:u.XHR_RESPONSE_TYPE.BLOB,jpeg:u.XHR_RESPONSE_TYPE.BLOB,tif:u.XHR_RESPONSE_TYPE.BLOB,tiff:u.XHR_RESPONSE_TYPE.BLOB,webp:u.XHR_RESPONSE_TYPE.BLOB,tga:u.XHR_RESPONSE_TYPE.BLOB,json:u.XHR_RESPONSE_TYPE.JSON,text:u.XHR_RESPONSE_TYPE.TEXT,txt:u.XHR_RESPONSE_TYPE.TEXT,ttf:u.XHR_RESPONSE_TYPE.BUFFER,otf:u.XHR_RESPONSE_TYPE.BUFFER},u.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var m=function(t,e){this.data=t,this.callback=e},y=function(){function t(t,e){var r=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=T,this.unsaturated=T,this.empty=T,this.drain=T,this.error=T,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(t,e,i){if(i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var s=new m(t,"function"==typeof i?i:T);e?r._tasks.unshift(s):r._tasks.push(s),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var t=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(t.data,O(r._next(t)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(t){var e=this;return function(){for(var r=arguments,i=[],s=0;s<arguments.length;s++)i[s]=r[s];e.workers-=1,t.callback.apply(t,i),null!=i[0]&&e.error(i[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(t,e){this._insert(t,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=T,this.started=!1,this._tasks=[]},t.prototype.unshift=function(t,e){this._insert(t,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},t.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},t.eachSeries=function(t,e,r,i){var s=0,n=t.length;!function o(a){a||s===n?r&&r(a):i?setTimeout((function(){e(t[s++],o)}),1):e(t[s++],o)}()},t.queue=function(e,r){return new t(e,r)},t}(),b=/(#[\w-]+)?$/,P=function(){function t(e,r){var i=this;void 0===e&&(e=""),void 0===r&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return i._loadResource(t,e)},this._queue=y.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new a,this.onError=new a,this.onLoad=new a,this.onStart=new a,this.onComplete=new a;for(var s=0;s<t._plugins.length;++s){var n=t._plugins[s],o=n.pre,h=n.use;o&&this.pre(o),h&&this.use(h)}this._protected=!1}return t.prototype._add=function(t,r,i,s){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(r=this._prepareUrl(r),this.resources[t]=new e.LoaderResource(t,r,i),"function"==typeof s&&this.resources[t].onAfterMiddleware.once(s),this.loading){for(var n=i.parentResource,o=[],a=0;a<n.children.length;++a)n.children[a].isComplete||o.push(n.children[a]);var h=n.progressChunk*(o.length+1)/(o.length+2);for(n.children.push(this.resources[t]),n.progressChunk=h,a=0;a<o.length;++a)o[a].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(t){var e,r=h(t,{strictMode:!0});if(e=r.protocol||!r.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var i=b.exec(e)[0];-1!==(e=e.slice(0,e.length-i.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=i}return e},t.prototype._loadResource=function(t,e){var r=this;t._dequeue=e,y.eachSeries(this._beforeMiddleware,(function(e,i){e.call(r,t,(function(){i(t.isComplete?{}:null)}))}),(function(){t.isComplete?r._onLoad(t):(t._onLoadBinding=t.onComplete.once(r._onLoad,r),t.load())}),!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),y.eachSeries(this._afterMiddleware,(function(r,i){r.call(e,t,i)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||((e=new t)._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return t._plugins.push(e),e.add&&e.add(),t},t._plugins=[],t}();P.prototype.add=function(t,e,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;++s)this.add(t[s]);return this}if("object"==typeof t&&(r=t,i=e||r.callback||r.onComplete,e=r.url,t=r.name||r.key||r.url),"string"!=typeof e&&(i=r,r=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(i=r,r=null),this._add(t,e,r,i)};var S=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?P.shared:new P},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),L=function(){function t(){}return t.add=function(){e.LoaderResource.setExtensionLoadType("svg",e.LoaderResource.LOAD_TYPE.XHR),e.LoaderResource.setExtensionXhrType("svg",e.LoaderResource.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,r){if(!t.data||t.type!==e.LoaderResource.TYPE.IMAGE&&"svg"!==t.extension)r();else{var s=t.data,n=t.url,o=t.name,a=t.metadata;i.Texture.fromLoader(s,n,o,a).then((function(e){t.texture=e,r()})).catch(r)}},t}();P.registerPlugin({use:function(t,r){if(t.data){if(t.xhr&&t.xhrType===e.LoaderResource.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=globalThis.URL||globalThis.webkitURL,s=i.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=s,t.type=e.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){i.revokeObjectURL(s),t.data.onload=null,r()})}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+function(t){for(var e="",r=0;r<t.length;){for(var i=[0,0,0],s=[0,0,0,0],n=0;n<i.length;++n)r<t.length?i[n]=255&t.charCodeAt(r++):i[n]=0;switch(s[0]=i[0]>>2,s[1]=(3&i[0])<<4|i[1]>>4,s[2]=(15&i[1])<<2|i[2]>>6,s[3]=63&i[2],r-(t.length-1)){case 2:s[3]=64,s[2]=64;break;case 1:s[3]=64}for(n=0;n<s.length;++n)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s[n])}return e}(t.xhr.responseText),t.type=e.LoaderResource.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,r()})}r()}else r()}}),P.registerPlugin(L),e.AppLoaderPlugin=S,e.Loader=P,e.TextureLoader=L}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQU0sRUFFekNDLEVBQW1CLElBQXVCLEVBQWhCRCxFQUFXLEtBQWEsRUFBTUEsRUFBVyxJQUFNLEVBRXpFQyxFQUFtQixJQUF1QixHQUFoQkQsRUFBVyxLQUFjLEVBQU1BLEVBQVcsSUFBTSxFQUUxRUMsRUFBbUIsR0FBcUIsR0FBaEJELEVBQVcsR0FFaEJELEdBQU9GLEVBQU16VSxPQUFTLElBRXJDLEtBQUssRUFFRDZVLEVBQW1CLEdBQUssR0FDeEJBLEVBQW1CLEdBQUssR0FDeEIsTUFDSixLQUFLLEVBRURBLEVBQW1CLEdBQUssR0FLaEMsSUFBU0MsRUFBTSxFQUFHQSxFQUFNRCxFQUFtQjdVLFNBQVU4VSxFQUNqREosR0FqREUsb0VBaURnQmpDLE9BQU9vQyxFQUFtQkMsR0FFcEQsQ0FDQSxPQUFPSixDQUNYLENBMEJrRU0sQ0FBYXBDLEVBQVN2USxJQUFJOEgsY0FDNUV5SSxFQUFTdk8sS0FBT3hHLEVBQVEwRCxlQUFlRSxLQUFLc0YsV0FFNUM2TCxFQUFTaFAsS0FBS29FLE9BQVMsV0FDbkI0SyxFQUFTaFAsS0FBS29FLE9BQVMsS0FDdkJpSSxHQUNKLEVBSVIsQ0FvQkpBLEdBdkNBLE1BRklBLEdBMENSLElBS0FJLEVBQU8rQyxlQUFlTSxHQUV0QjdWLEVBQVF3VixnQkFBa0JBLEVBQzFCeFYsRUFBUXdTLE9BQVNBLEVBQ2pCeFMsRUFBUTZWLGNBQWdCQSIsInNvdXJjZXMiOlsid2VicGFjazovL2dlYXIzZW5naW5lLXdlYnNpdGUvLi4vLi4vR0FNRVMtU0lNVUxBVE9SUy1GVU4vZ2VhcjNlbmdpbmUvcGx1Z2lucy9nM2UtY2FudmFzLTJkL25vZGVfbW9kdWxlcy9AcGl4aS9sb2FkZXJzL2Rpc3QvY2pzL2xvYWRlcnMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAcGl4aS9sb2FkZXJzIC0gdjYuNC4yXG4gKiBDb21waWxlZCBUaHUsIDAyIEp1biAyMDIyIDE1OjM5OjI2IFVUQ1xuICpcbiAqIEBwaXhpL2xvYWRlcnMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4ndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb3JlID0gcmVxdWlyZSgnQHBpeGkvY29yZScpO1xuXG4vKiBqc2hpbnQgLVcwOTcgKi9cbi8qKlxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIFNpZ25hbEJpbmRpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogU2lnbmFsQmluZGluZyBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAY29uc3RydWN0cyBTaWduYWxCaW5kaW5nXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSBFdmVudCBoYW5kbGVyIHRvIGJlIGNhbGxlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvbmNlPWZhbHNlXSAtIFNob3VsZCB0aGlzIGxpc3RlbmVyIGJlIHJlbW92ZWQgYWZ0ZXIgZGlzcGF0Y2hcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW3RoaXNBcmddIC0gVGhlIGNvbnRleHQgb2YgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBhcGkgcHJpdmF0ZVxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgZnVuY3Rpb24gU2lnbmFsQmluZGluZyhmbiwgb25jZSwgdGhpc0FyZykge1xuICAgICAgICBpZiAob25jZSA9PT0gdm9pZCAwKSB7IG9uY2UgPSBmYWxzZTsgfVxuICAgICAgICB0aGlzLl9mbiA9IGZuO1xuICAgICAgICB0aGlzLl9vbmNlID0gb25jZTtcbiAgICAgICAgdGhpcy5fdGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgICAgIHRoaXMuX25leHQgPSB0aGlzLl9wcmV2ID0gdGhpcy5fb3duZXIgPSBudWxsO1xuICAgIH1cbiAgICBTaWduYWxCaW5kaW5nLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9vd25lciA9PT0gbnVsbClcbiAgICAgICAgICAgIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgICAgIHRoaXMuX293bmVyLmRldGFjaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gU2lnbmFsQmluZGluZztcbn0oKSk7XG4vKipcbiAqIEBwYXJhbSBzZWxmXG4gKiBAcGFyYW0gbm9kZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2FkZFNpZ25hbEJpbmRpbmcoc2VsZiwgbm9kZSkge1xuICAgIGlmICghc2VsZi5faGVhZCkge1xuICAgICAgICBzZWxmLl9oZWFkID0gbm9kZTtcbiAgICAgICAgc2VsZi5fdGFpbCA9IG5vZGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzZWxmLl90YWlsLl9uZXh0ID0gbm9kZTtcbiAgICAgICAgbm9kZS5fcHJldiA9IHNlbGYuX3RhaWw7XG4gICAgICAgIHNlbGYuX3RhaWwgPSBub2RlO1xuICAgIH1cbiAgICBub2RlLl9vd25lciA9IHNlbGY7XG4gICAgcmV0dXJuIG5vZGU7XG59XG4vKipcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBTaWduYWwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogTWluaVNpZ25hbCBjb25zdHJ1Y3Rvci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGxldCBteVNpZ25hbCA9IG5ldyBTaWduYWwoKTtcbiAgICAgKiBsZXQgYmluZGluZyA9IG15U2lnbmFsLmFkZChvblNpZ25hbCk7XG4gICAgICogbXlTaWduYWwuZGlzcGF0Y2goJ2ZvbycsICdiYXInKTtcbiAgICAgKiBteVNpZ25hbC5kZXRhY2goYmluZGluZyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gU2lnbmFsKCkge1xuICAgICAgICB0aGlzLl9oZWFkID0gdGhpcy5fdGFpbCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGFuIGFycmF5IG9mIGF0dGFjaGVkIFNpZ25hbEJpbmRpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZXhpc3RzPWZhbHNlXSAtIFdlIG9ubHkgbmVlZCB0byBrbm93IGlmIHRoZXJlIGFyZSBoYW5kbGVycy5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaWduYWxCaW5kaW5nW10gfCBib29sZWFufSBBcnJheSBvZiBhdHRhY2hlZCBTaWduYWxCaW5kaW5nIG9yIEJvb2xlYW4gaWYgY2FsbGVkIHdpdGggZXhpc3RzID0gdHJ1ZVxuICAgICAqIEBhcGkgcHVibGljXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5oYW5kbGVycyA9IGZ1bmN0aW9uIChleGlzdHMpIHtcbiAgICAgICAgaWYgKGV4aXN0cyA9PT0gdm9pZCAwKSB7IGV4aXN0cyA9IGZhbHNlOyB9XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgICAgaWYgKGV4aXN0cylcbiAgICAgICAgICAgIHsgcmV0dXJuICEhbm9kZTsgfVxuICAgICAgICB2YXIgZWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGVlLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5fbmV4dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBub2RlIGlzIGEgU2lnbmFsQmluZGluZyBhdHRhY2hlZCB0byB0aGlzIE1pbmlTaWduYWxcbiAgICAgKiBAcGFyYW0ge1BJWEkuU2lnbmFsQmluZGluZ30gbm9kZSAtIE5vZGUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgbm9kZSBpcyBhdHRhY2hlIHRvIG1pbmktc2lnbmFsXG4gICAgICovXG4gICAgU2lnbmFsLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAoIShub2RlIGluc3RhbmNlb2YgU2lnbmFsQmluZGluZykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNoYXMoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBTaWduYWxCaW5kaW5nIG9iamVjdC4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZS5fb3duZXIgPT09IHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEaXNwYWNoZXMgYSBzaWduYWwgdG8gYWxsIHJlZ2lzdGVyZWQgbGlzdGVuZXJzLlxuICAgICAqIEBwYXJhbSB7Li4uYW55fSBhcmdzXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IEluZGljYXRpb24gaWYgd2UndmUgZW1pdHRlZCBhbiBldmVudC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRpc3BhdGNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gdGhpcy5faGVhZDtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLl9vbmNlKVxuICAgICAgICAgICAgICAgIHsgdGhpcy5kZXRhY2gobm9kZSk7IH1cbiAgICAgICAgICAgIG5vZGUuX2ZuLmFwcGx5KG5vZGUuX3RoaXNBcmcsIGFyZ3MpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuX25leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIENhbGxiYWNrIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbdGhpc0FyZ10gLSBUaGUgY29udGV4dCBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge1BJWEkuU2lnbmFsQmluZGluZ30gVGhlIFNpZ25hbEJpbmRpbmcgbm9kZSB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuICAgICAgICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7IHRoaXNBcmcgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNhZGQoKTogRmlyc3QgYXJnIG11c3QgYmUgYSBGdW5jdGlvbi4nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2FkZFNpZ25hbEJpbmRpbmcodGhpcywgbmV3IFNpZ25hbEJpbmRpbmcoZm4sIGZhbHNlLCB0aGlzQXJnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZWdpc3RlciBhIG5ldyBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgZXhlY3V0ZWQgb25seSBvbmNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gQ2FsbGJhY2sgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFt0aGlzQXJnXSAtIFRoZSBjb250ZXh0IG9mIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7UElYSS5TaWduYWxCaW5kaW5nfSBUaGUgU2lnbmFsQmluZGluZyBub2RlIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIFNpZ25hbC5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIChmbiwgdGhpc0FyZykge1xuICAgICAgICBpZiAodGhpc0FyZyA9PT0gdm9pZCAwKSB7IHRoaXNBcmcgPSBudWxsOyB9XG4gICAgICAgIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluaVNpZ25hbCNvbmNlKCk6IEZpcnN0IGFyZyBtdXN0IGJlIGEgRnVuY3Rpb24uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9hZGRTaWduYWxCaW5kaW5nKHRoaXMsIG5ldyBTaWduYWxCaW5kaW5nKGZuLCB0cnVlLCB0aGlzQXJnKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmUgYmluZGluZyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtQSVhJLlNpZ25hbEJpbmRpbmd9IG5vZGUgLSBUaGUgYmluZGluZyBub2RlIHRoYXQgd2lsbCBiZSByZW1vdmVkLlxuICAgICAqIEByZXR1cm5zIHtTaWduYWx9IFRoZSBpbnN0YW5jZSBvbiB3aGljaCB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkLlxuICAgICAgQGFwaSBwdWJsaWMgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRldGFjaCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmICghKG5vZGUgaW5zdGFuY2VvZiBTaWduYWxCaW5kaW5nKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNaW5pU2lnbmFsI2RldGFjaCgpOiBGaXJzdCBhcmcgbXVzdCBiZSBhIFNpZ25hbEJpbmRpbmcgb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLl9vd25lciAhPT0gdGhpcylcbiAgICAgICAgICAgIHsgcmV0dXJuIHRoaXM7IH0gLy8gdG9kbzogb3IgZXJyb3I/XG4gICAgICAgIGlmIChub2RlLl9wcmV2KVxuICAgICAgICAgICAgeyBub2RlLl9wcmV2Ll9uZXh0ID0gbm9kZS5fbmV4dDsgfVxuICAgICAgICBpZiAobm9kZS5fbmV4dClcbiAgICAgICAgICAgIHsgbm9kZS5fbmV4dC5fcHJldiA9IG5vZGUuX3ByZXY7IH1cbiAgICAgICAgaWYgKG5vZGUgPT09IHRoaXMuX2hlYWQpIHsgLy8gZmlyc3Qgbm9kZVxuICAgICAgICAgICAgdGhpcy5faGVhZCA9IG5vZGUuX25leHQ7XG4gICAgICAgICAgICBpZiAobm9kZS5fbmV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUgPT09IHRoaXMuX3RhaWwpIHsgLy8gbGFzdCBub2RlXG4gICAgICAgICAgICB0aGlzLl90YWlsID0gbm9kZS5fcHJldjtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwuX25leHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBEZXRhY2ggYWxsIGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJucyB7U2lnbmFsfSBUaGUgaW5zdGFuY2Ugb24gd2hpY2ggdGhpcyBtZXRob2Qgd2FzIGNhbGxlZC5cbiAgICAgKi9cbiAgICBTaWduYWwucHJvdG90eXBlLmRldGFjaEFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLl9oZWFkO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICB7IHJldHVybiB0aGlzOyB9XG4gICAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLl90YWlsID0gbnVsbDtcbiAgICAgICAgd2hpbGUgKG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGUuX293bmVyID0gbnVsbDtcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLl9uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIFNpZ25hbDtcbn0oKSk7XG5cbi8qKlxuICogZnVuY3Rpb24gZnJvbSBucG0gcGFja2FnZSBgcGFyc2VVcmlgLCBjb252ZXJ0ZWQgdG8gVFMgdG8gYXZvaWQgbGVmdHBhZCBpbmNpZGVudFxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxuICogQHBhcmFtIFtvcHRzXSAtIG9wdGlvbnNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc3RyaWN0TW9kZV0gLSB0eXBlIG9mIHBhcnNlclxuICovXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIsIG9wdHMpIHtcbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICB2YXIgbyA9IHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAga2V5OiBbJ3NvdXJjZScsICdwcm90b2NvbCcsICdhdXRob3JpdHknLCAndXNlckluZm8nLCAndXNlcicsICdwYXNzd29yZCcsICdob3N0JywgJ3BvcnQnLCAncmVsYXRpdmUnLCAncGF0aCcsICdkaXJlY3RvcnknLCAnZmlsZScsICdxdWVyeScsICdhbmNob3InXSxcbiAgICAgICAgcToge1xuICAgICAgICAgICAgbmFtZTogJ3F1ZXJ5S2V5JyxcbiAgICAgICAgICAgIHBhcnNlcjogLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nXG4gICAgICAgIH0sXG4gICAgICAgIHBhcnNlcjoge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG1heC1sZW5cbiAgICAgICAgICAgIHN0cmljdDogL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykpPygoKCg/OltePyNcXC9dKlxcLykqKShbXj8jXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLyxcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gICAgICAgICAgICBsb29zZTogL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvXG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBtID0gby5wYXJzZXJbb3B0cy5zdHJpY3RNb2RlID8gJ3N0cmljdCcgOiAnbG9vc2UnXS5leGVjKHN0cik7XG4gICAgdmFyIHVyaSA9IHt9O1xuICAgIHZhciBpID0gMTQ7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgeyB1cmlbby5rZXlbaV1dID0gbVtpXSB8fCAnJzsgfVxuICAgIHVyaVtvLnEubmFtZV0gPSB7fTtcbiAgICB1cmlbby5rZXlbMTJdXS5yZXBsYWNlKG8ucS5wYXJzZXIsIGZ1bmN0aW9uIChfdDAsIHQxLCB0Mikge1xuICAgICAgICBpZiAodDEpXG4gICAgICAgICAgICB7IHVyaVtvLnEubmFtZV1bdDFdID0gdDI7IH1cbiAgICB9KTtcbiAgICByZXR1cm4gdXJpO1xufVxuXG4vLyB0ZXN0cyBpZiBDT1JTIGlzIHN1cHBvcnRlZCBpbiBYSFIsIGlmIG5vdCB3ZSBuZWVkIHRvIHVzZSBYRFJcbnZhciB1c2VYZHI7XG52YXIgdGVtcEFuY2hvciA9IG51bGw7XG4vLyBzb21lIHN0YXR1cyBjb25zdGFudHNcbnZhciBTVEFUVVNfTk9ORSA9IDA7XG52YXIgU1RBVFVTX09LID0gMjAwO1xudmFyIFNUQVRVU19FTVBUWSA9IDIwNDtcbnZhciBTVEFUVVNfSUVfQlVHX0VNUFRZID0gMTIyMztcbnZhciBTVEFUVVNfVFlQRV9PSyA9IDI7XG4vLyBub29wXG5mdW5jdGlvbiBfbm9vcCQxKCkgeyB9XG4vKipcbiAqIFF1aWNrIGhlbHBlciB0byBzZXQgYSB2YWx1ZSBvbiBvbmUgb2YgdGhlIGV4dGVuc2lvbiBtYXBzLiBFbnN1cmVzIHRoZXJlIGlzIG5vXG4gKiBkb3QgYXQgdGhlIHN0YXJ0IG9mIHRoZSBleHRlbnNpb24uXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0gbWFwIC0gVGhlIG1hcCB0byBzZXQgb24uXG4gKiBAcGFyYW0gZXh0bmFtZSAtIFRoZSBleHRlbnNpb24gKG9yIGtleSkgdG8gc2V0LlxuICogQHBhcmFtIHZhbCAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gKi9cbmZ1bmN0aW9uIHNldEV4dE1hcChtYXAsIGV4dG5hbWUsIHZhbCkge1xuICAgIGlmIChleHRuYW1lICYmIGV4dG5hbWUuaW5kZXhPZignLicpID09PSAwKSB7XG4gICAgICAgIGV4dG5hbWUgPSBleHRuYW1lLnN1YnN0cmluZygxKTtcbiAgICB9XG4gICAgaWYgKCFleHRuYW1lKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbWFwW2V4dG5hbWVdID0gdmFsO1xufVxuLyoqXG4gKiBRdWljayBoZWxwZXIgdG8gZ2V0IHN0cmluZyB4aHIgdHlwZS5cbiAqIEBpZ25vcmVcbiAqIEBwYXJhbSB4aHIgLSBUaGUgcmVxdWVzdCB0byBjaGVjay5cbiAqIEByZXR1cm5zIFRoZSB0eXBlLlxuICovXG5mdW5jdGlvbiByZXFUeXBlKHhocikge1xuICAgIHJldHVybiB4aHIudG9TdHJpbmcoKS5yZXBsYWNlKCdvYmplY3QgJywgJycpO1xufVxuLyoqXG4gKiBNYW5hZ2VzIHRoZSBzdGF0ZSBhbmQgbG9hZGluZyBvZiBhIHJlc291cmNlIGFuZCBhbGwgY2hpbGQgcmVzb3VyY2VzLlxuICpcbiAqIENhbiBiZSBleHRlbmRlZCBpbiBgR2xvYmFsTWl4aW5zLkxvYWRlclJlc291cmNlYC5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbmV4cG9ydHMuTG9hZGVyUmVzb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVzb3VyY2UgdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gdXJsIC0gVGhlIHVybCBmb3IgdGhpcyByZXNvdXJjZSwgZm9yIGF1ZGlvL3ZpZGVvIGxvYWRzIHlvdSBjYW4gcGFzc1xuICAgICAqICAgICAgYW4gYXJyYXkgb2Ygc291cmNlcy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IFtvcHRpb25zLmNyb3NzT3JpZ2luXSAtIElzIHRoaXMgcmVxdWVzdCBjcm9zcy1vcmlnaW4/IERlZmF1bHQgaXMgdG9cbiAgICAgKiAgICAgIGRldGVybWluZSBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0PTBdIC0gQSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3IgdGhlIGxvYWQuIElmIHRoZSBsb2FkIHRha2VzXG4gICAgICogICAgICBsb25nZXIgdGhhbiB0aGlzIHRpbWUgaXQgaXMgY2FuY2VsbGVkIGFuZCB0aGUgbG9hZCBpcyBjb25zaWRlcmVkIGEgZmFpbHVyZS4gSWYgdGhpcyB2YWx1ZSBpc1xuICAgICAqICAgICAgc2V0IHRvIGAwYCB0aGVuIHRoZXJlIGlzIG5vIGV4cGxpY2l0IHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlLkxPQURfVFlQRX0gW29wdGlvbnMubG9hZFR5cGU9TE9BRF9UWVBFLlhIUl0gLSBIb3cgc2hvdWxkIHRoaXMgcmVzb3VyY2VcbiAgICAgKiAgICAgIGJlIGxvYWRlZD9cbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEV9IFtvcHRpb25zLnhoclR5cGU9WEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVF0gLSBIb3dcbiAgICAgKiAgICAgIHNob3VsZCB0aGUgZGF0YSBiZWluZyBsb2FkZWQgYmUgaW50ZXJwcmV0ZWQgd2hlbiB1c2luZyBYSFI/XG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlLklNZXRhZGF0YX0gW29wdGlvbnMubWV0YWRhdGFdIC0gRXh0cmEgY29uZmlndXJhdGlvbiBmb3IgbWlkZGxld2FyZVxuICAgICAqICAgICAgYW5kIHRoZSBSZXNvdXJjZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTG9hZGVyUmVzb3VyY2UobmFtZSwgdXJsLCBvcHRpb25zKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYGRlcXVldWVgIG1ldGhvZCB0aGF0IHdpbGwgYmUgdXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBhc3luYyBxdWV1ZSBkZXF1ZXVlIG1ldGhvZFxuICAgICAgICAgKiB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcCQxO1xuICAgICAgICAvKipcbiAgICAgICAgICogVXNlZCBhIHN0b3JhZ2UgcGxhY2UgZm9yIHRoZSBvbiBsb2FkIGJpbmRpbmcgdXNlZCBwcml2YXRlbHkgYnkgdGhlIGxvYWRlci5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQG1lbWJlciB7RnVuY3Rpb259XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0aW1lciBmb3IgZWxlbWVudCBsb2FkcyB0byBjaGVjayBpZiB0aGV5IHRpbWVvdXQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9lbGVtZW50VGltZXIgPSAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBjb21wbGV0ZWAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kQ29tcGxldGUgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGBfb25FcnJvcmAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25FcnJvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYF9vblByb2dyZXNzYCBmdW5jdGlvbiBib3VuZCB0byB0aGlzIHJlc291cmNlJ3MgY29udGV4dC5cbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fYm91bmRPblByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX29uVGltZW91dGAgZnVuY3Rpb24gYm91bmQgdG8gdGhpcyByZXNvdXJjZSdzIGNvbnRleHQuXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIEB0eXBlIHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uTG9hZCA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgdHlwZW9mIHVybCAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQm90aCBuYW1lIGFuZCB1cmwgYXJlIHJlcXVpcmVkIGZvciBjb25zdHJ1Y3RpbmcgYSByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgdGhpcy5fZmxhZ3MgPSAwO1xuICAgICAgICAvLyBzZXQgZGF0YSB1cmwgZmxhZywgbmVlZHMgdG8gYmUgc2V0IGVhcmx5IGZvciBzb21lIF9kZXRlcm1pbmVYIGNoZWNrcyB0byB3b3JrLlxuICAgICAgICB0aGlzLl9zZXRGbGFnKExvYWRlclJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCwgdXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgdGhpcy5leHRlbnNpb24gPSB0aGlzLl9nZXRFeHRlbnNpb24oKTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5jcm9zc09yaWdpbiA9IG9wdGlvbnMuY3Jvc3NPcmlnaW4gPT09IHRydWUgPyAnYW5vbnltb3VzJyA6IG9wdGlvbnMuY3Jvc3NPcmlnaW47XG4gICAgICAgIHRoaXMudGltZW91dCA9IG9wdGlvbnMudGltZW91dCB8fCAwO1xuICAgICAgICB0aGlzLmxvYWRUeXBlID0gb3B0aW9ucy5sb2FkVHlwZSB8fCB0aGlzLl9kZXRlcm1pbmVMb2FkVHlwZSgpO1xuICAgICAgICAvLyBUaGUgdHlwZSB1c2VkIHRvIGxvYWQgdGhlIHJlc291cmNlIHZpYSBYSFIuIElmIHVuc2V0LCBkZXRlcm1pbmVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgIHRoaXMueGhyVHlwZSA9IG9wdGlvbnMueGhyVHlwZTtcbiAgICAgICAgLy8gRXh0cmEgaW5mbyBmb3IgbWlkZGxld2FyZSwgYW5kIGNvbnRyb2xsaW5nIHNwZWNpZmljcyBhYm91dCBob3cgdGhlIHJlc291cmNlIGxvYWRzLlxuICAgICAgICAvLyBOb3RlIHRoYXQgaWYgeW91IHBhc3MgaW4gYSBgbG9hZEVsZW1lbnRgLCB0aGUgUmVzb3VyY2UgY2xhc3MgdGFrZXMgb3duZXJzaGlwIG9mIGl0LlxuICAgICAgICAvLyBNZWFuaW5nIGl0IHdpbGwgbW9kaWZ5IGl0IGFzIGl0IHNlZXMgZml0LlxuICAgICAgICB0aGlzLm1ldGFkYXRhID0gb3B0aW9ucy5tZXRhZGF0YSB8fCB7fTtcbiAgICAgICAgLy8gVGhlIGVycm9yIHRoYXQgb2NjdXJyZWQgd2hpbGUgbG9hZGluZyAoaWYgYW55KS5cbiAgICAgICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgICAgIC8vIFRoZSBYSFIgb2JqZWN0IHRoYXQgd2FzIHVzZWQgdG8gbG9hZCB0aGlzIHJlc291cmNlLiBUaGlzIGlzIG9ubHkgc2V0XG4gICAgICAgIC8vIHdoZW4gYGxvYWRUeXBlYCBpcyBgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUmAuXG4gICAgICAgIHRoaXMueGhyID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIGNoaWxkIHJlc291cmNlcyB0aGlzIHJlc291cmNlIG93bnMuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgLy8gVGhlIHJlc291cmNlIHR5cGUuXG4gICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuVU5LTk9XTjtcbiAgICAgICAgLy8gVGhlIHByb2dyZXNzIGNodW5rIG93bmVkIGJ5IHRoaXMgcmVzb3VyY2UuXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDaHVuayA9IDA7XG4gICAgICAgIC8vIFRoZSBgZGVxdWV1ZWAgbWV0aG9kIHRoYXQgd2lsbCBiZSB1c2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIGFzeW5jIHF1ZXVlIGRlcXVldWUgbWV0aG9kXG4gICAgICAgIC8vIHVzZWQgcHJpdmF0ZWx5IGJ5IHRoZSBsb2FkZXIuXG4gICAgICAgIHRoaXMuX2RlcXVldWUgPSBfbm9vcCQxO1xuICAgICAgICAvLyBVc2VkIGEgc3RvcmFnZSBwbGFjZSBmb3IgdGhlIG9uIGxvYWQgYmluZGluZyB1c2VkIHByaXZhdGVseSBieSB0aGUgbG9hZGVyLlxuICAgICAgICB0aGlzLl9vbkxvYWRCaW5kaW5nID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIHRpbWVyIGZvciBlbGVtZW50IGxvYWRzIHRvIGNoZWNrIGlmIHRoZXkgdGltZW91dC5cbiAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gMDtcbiAgICAgICAgdGhpcy5fYm91bmRDb21wbGV0ZSA9IHRoaXMuY29tcGxldGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fYm91bmRPbkVycm9yID0gdGhpcy5fb25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kT25UaW1lb3V0ID0gdGhpcy5fb25UaW1lb3V0LmJpbmQodGhpcyk7XG4gICAgICAgIC8vIHhociBjYWxsYmFja3NcbiAgICAgICAgdGhpcy5fYm91bmRYaHJPbkVycm9yID0gdGhpcy5feGhyT25FcnJvci5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uVGltZW91dCA9IHRoaXMuX3hock9uVGltZW91dC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLl9ib3VuZFhock9uQWJvcnQgPSB0aGlzLl94aHJPbkFib3J0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2JvdW5kWGhyT25Mb2FkID0gdGhpcy5feGhyT25Mb2FkLmJpbmQodGhpcyk7XG4gICAgICAgIC8vIERpc3BhdGNoZWQgd2hlbiB0aGUgcmVzb3VyY2UgYmVpbmdzIHRvIGxvYWQuXG4gICAgICAgIHRoaXMub25TdGFydCA9IG5ldyBTaWduYWwoKTtcbiAgICAgICAgLy8gRGlzcGF0Y2hlZCBlYWNoIHRpbWUgcHJvZ3Jlc3Mgb2YgdGhpcyByZXNvdXJjZSBsb2FkIHVwZGF0ZXMuXG4gICAgICAgIC8vIE5vdCBhbGwgcmVzb3VyY2VzIHR5cGVzIGFuZCBsb2FkZXIgc3lzdGVtcyBjYW4gc3VwcG9ydCB0aGlzIGV2ZW50XG4gICAgICAgIC8vIHNvIHNvbWV0aW1lcyBpdCBtYXkgbm90IGJlIGF2YWlsYWJsZS4gSWYgdGhlIHJlc291cmNlXG4gICAgICAgIC8vIGlzIGJlaW5nIGxvYWRlZCBvbiBhIG1vZGVybiBicm93c2VyLCB1c2luZyBYSFIsIGFuZCB0aGUgcmVtb3RlIHNlcnZlclxuICAgICAgICAvLyBwcm9wZXJseSBzZXRzIENvbnRlbnQtTGVuZ3RoIGhlYWRlcnMsIHRoZW4gdGhpcyB3aWxsIGJlIGF2YWlsYWJsZS5cbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICAvLyBEaXNwYXRjaGVkIG9uY2UgdGhpcyByZXNvdXJjZSBoYXMgbG9hZGVkLCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgaXQgd2lsbFxuICAgICAgICAvLyBiZSBpbiB0aGUgYGVycm9yYCBwcm9wZXJ0eS5cbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICAvLyBEaXNwYXRjaGVkIGFmdGVyIHRoaXMgcmVzb3VyY2UgaGFzIGhhZCBhbGwgdGhlICphZnRlciogbWlkZGxld2FyZSBydW4gb24gaXQuXG4gICAgICAgIHRoaXMub25BZnRlck1pZGRsZXdhcmUgPSBuZXcgU2lnbmFsKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxvYWQgdHlwZSB0byBiZSB1c2VkIGZvciBhIHNwZWNpZmljIGV4dGVuc2lvbi5cbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4dG5hbWUgLSBUaGUgZXh0ZW5zaW9uIHRvIHNldCB0aGUgdHlwZSBmb3IsIGUuZy4gXCJwbmdcIiBvciBcImZudFwiXG4gICAgICogQHBhcmFtIHtQSVhJLkxvYWRlclJlc291cmNlLkxPQURfVFlQRX0gbG9hZFR5cGUgLSBUaGUgbG9hZCB0eXBlIHRvIHNldCBpdCB0by5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5zZXRFeHRlbnNpb25Mb2FkVHlwZSA9IGZ1bmN0aW9uIChleHRuYW1lLCBsb2FkVHlwZSkge1xuICAgICAgICBzZXRFeHRNYXAoTG9hZGVyUmVzb3VyY2UuX2xvYWRUeXBlTWFwLCBleHRuYW1lLCBsb2FkVHlwZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBsb2FkIHR5cGUgdG8gYmUgdXNlZCBmb3IgYSBzcGVjaWZpYyBleHRlbnNpb24uXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHRuYW1lIC0gVGhlIGV4dGVuc2lvbiB0byBzZXQgdGhlIHR5cGUgZm9yLCBlLmcuIFwicG5nXCIgb3IgXCJmbnRcIlxuICAgICAqIEBwYXJhbSB7UElYSS5Mb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRX0geGhyVHlwZSAtIFRoZSB4aHIgdHlwZSB0byBzZXQgaXQgdG8uXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2Uuc2V0RXh0ZW5zaW9uWGhyVHlwZSA9IGZ1bmN0aW9uIChleHRuYW1lLCB4aHJUeXBlKSB7XG4gICAgICAgIHNldEV4dE1hcChMb2FkZXJSZXNvdXJjZS5feGhyVHlwZU1hcCwgZXh0bmFtZSwgeGhyVHlwZSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLCBcImlzRGF0YVVybFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSBzdGFydHMgdG8gbG9hZC5cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uU3RhcnRTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLlJlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHRoZSByZXNvdXJjZSByZXBvcnRzIGxvYWRpbmcgcHJvZ3Jlc3MuXG4gICAgICAgICAqIEBtZW1iZXJvZiBQSVhJLkxvYWRlclJlc291cmNlXG4gICAgICAgICAqIEBjYWxsYmFjayBPblByb2dyZXNzU2lnbmFsXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5SZXNvdXJjZX0gcmVzb3VyY2UgLSBUaGUgcmVzb3VyY2UgdGhhdCB0aGUgZXZlbnQgaGFwcGVuZWQgb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwZXJjZW50YWdlIC0gVGhlIHByb2dyZXNzIG9mIHRoZSBsb2FkIGluIHRoZSByYW5nZSBbMCwgMV0uXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUgcmVzb3VyY2UgZmluaXNoZXMgbG9hZGluZy5cbiAgICAgICAgICogQG1lbWJlcm9mIFBJWEkuTG9hZGVyUmVzb3VyY2VcbiAgICAgICAgICogQGNhbGxiYWNrIE9uQ29tcGxldGVTaWduYWxcbiAgICAgICAgICogQHBhcmFtIHtQSVhJLlJlc291cmNlfSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0aGF0IHRoZSBldmVudCBoYXBwZW5lZCBvbi5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyb2YgUElYSS5Mb2FkZXJSZXNvdXJjZVxuICAgICAgICAgKiBAdHlwZWRlZiB7b2JqZWN0fSBJTWV0YWRhdGFcbiAgICAgICAgICogQHByb3BlcnR5IHtIVE1MSW1hZ2VFbGVtZW50fEhUTUxBdWRpb0VsZW1lbnR8SFRNTFZpZGVvRWxlbWVudH0gW2xvYWRFbGVtZW50PW51bGxdIC0gVGhlXG4gICAgICAgICAqICAgICAgZWxlbWVudCB0byB1c2UgZm9yIGxvYWRpbmcsIGluc3RlYWQgb2YgY3JlYXRpbmcgb25lLlxuICAgICAgICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IFtza2lwU291cmNlPWZhbHNlXSAtIFNraXBzIGFkZGluZyBzb3VyY2UocykgdG8gdGhlIGxvYWQgZWxlbWVudC4gVGhpc1xuICAgICAgICAgKiAgICAgIGlzIHVzZWZ1bCBpZiB5b3Ugd2FudCB0byBwYXNzIGluIGEgYGxvYWRFbGVtZW50YCB0aGF0IHlvdSBhbHJlYWR5IGFkZGVkIGxvYWQgc291cmNlcyB0by5cbiAgICAgICAgICogQHByb3BlcnR5IHtzdHJpbmd8c3RyaW5nW119IFttaW1lVHlwZV0gLSBUaGUgbWltZSB0eXBlIHRvIHVzZSBmb3IgdGhlIHNvdXJjZSBlbGVtZW50XG4gICAgICAgICAqICAgICAgb2YgYSB2aWRlby9hdWRpbyBlbG1lbnQuIElmIHRoZSB1cmxzIGFyZSBhbiBhcnJheSwgeW91IGNhbiBwYXNzIHRoaXMgYXMgYW4gYXJyYXkgYXMgd2VsbFxuICAgICAgICAgKiAgICAgIHdoZXJlIGVhY2ggaW5kZXggaXMgdGhlIG1pbWUgdHlwZSB0byB1c2UgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHVybCBpbmRleC5cbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdG9yZXMgd2hldGhlciBvciBub3QgdGhpcyB1cmwgaXMgYSBkYXRhIHVybC5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKExvYWRlclJlc291cmNlLlNUQVRVU19GTEFHUy5EQVRBX1VSTCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLCBcImlzQ29tcGxldGVcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzY3JpYmVzIGlmIHRoaXMgcmVzb3VyY2UgaGFzIGZpbmlzaGVkIGxvYWRpbmcuIElzIHRydWUgd2hlbiB0aGUgcmVzb3VyY2UgaGFzIGNvbXBsZXRlbHlcbiAgICAgICAgICogbG9hZGVkLlxuICAgICAgICAgKiBAcmVhZG9ubHlcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hhc0ZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkNPTVBMRVRFKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUsIFwiaXNMb2FkaW5nXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2NyaWJlcyBpZiB0aGlzIHJlc291cmNlIGlzIGN1cnJlbnRseSBsb2FkaW5nLiBJcyB0cnVlIHdoZW4gdGhlIHJlc291cmNlIHN0YXJ0cyBsb2FkaW5nLFxuICAgICAgICAgKiBhbmQgaXMgZmFsc2UgYWdhaW4gd2hlbiBjb21wbGV0ZS5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYXNGbGFnKExvYWRlclJlc291cmNlLlNUQVRVU19GTEFHUy5MT0FESU5HKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKiBNYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9jbGVhckV2ZW50cygpO1xuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFib3J0cyB0aGUgbG9hZGluZyBvZiB0aGlzIHJlc291cmNlLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byB1c2UgZm9yIHRoZSBlcnJvclxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5hYm9ydCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIC8vIGFib3J0IGNhbiBiZSBjYWxsZWQgbXVsdGlwbGUgdGltZXMsIGlnbm9yZSBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHN0b3JlIGVycm9yXG4gICAgICAgIHRoaXMuZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICAgIC8vIGNsZWFyIGV2ZW50cyBiZWZvcmUgY2FsbGluZyBhYm9ydHNcbiAgICAgICAgdGhpcy5fY2xlYXJFdmVudHMoKTtcbiAgICAgICAgLy8gYWJvcnQgdGhlIGFjdHVhbCBsb2FkaW5nXG4gICAgICAgIGlmICh0aGlzLnhocikge1xuICAgICAgICAgICAgdGhpcy54aHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnhkcikge1xuICAgICAgICAgICAgdGhpcy54ZHIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIC8vIHNpbmdsZSBzb3VyY2VcbiAgICAgICAgICAgIGlmICh0aGlzLmRhdGEuc3JjKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IExvYWRlclJlc291cmNlLkVNUFRZX0dJRjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG11bHRpLXNvdXJjZVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHRoaXMuZGF0YS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVDaGlsZCh0aGlzLmRhdGEuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGRvbmUgbm93LlxuICAgICAgICB0aGlzLl9maW5pc2goKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEtpY2tzIG9mZiBsb2FkaW5nIG9mIHRoaXMgcmVzb3VyY2UuIFRoaXMgbWV0aG9kIGlzIGFzeW5jaHJvbm91cy5cbiAgICAgKiBAcGFyYW0ge1BJWEkuTG9hZGVyUmVzb3VyY2UuT25Db21wbGV0ZVNpZ25hbH0gW2NiXSAtIE9wdGlvbmFsIGNhbGxiYWNrIHRvIGNhbGwgb25jZSB0aGUgcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2IoX3RoaXMpOyB9LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYikge1xuICAgICAgICAgICAgdGhpcy5vbkNvbXBsZXRlLm9uY2UoY2IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NldEZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIHRydWUpO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luID09PSBmYWxzZSB8fCB0eXBlb2YgdGhpcy5jcm9zc09yaWdpbiAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY3Jvc3NPcmlnaW4gPSB0aGlzLl9kZXRlcm1pbmVDcm9zc09yaWdpbih0aGlzLnVybCk7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoICh0aGlzLmxvYWRUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRTpcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBMb2FkZXJSZXNvdXJjZS5UWVBFLklNQUdFO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRFbGVtZW50KCdpbWFnZScpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU86XG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gTG9hZGVyUmVzb3VyY2UuVFlQRS5BVURJTztcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU291cmNlRWxlbWVudCgnYXVkaW8nKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPOlxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuVklERU87XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNvdXJjZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExvYWRlclJlc291cmNlLkxPQURfVFlQRS5YSFI6XG4gICAgICAgICAgICAvKiBmYWxscyB0aHJvdWdoICovXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXNlWGRyID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICB1c2VYZHIgPSAhIShnbG9iYWxUaGlzLlhEb21haW5SZXF1ZXN0ICYmICEoJ3dpdGhDcmVkZW50aWFscycgaW4gKG5ldyBYTUxIdHRwUmVxdWVzdCgpKSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodXNlWGRyICYmIHRoaXMuY3Jvc3NPcmlnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhkcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZFhocigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBmbGFnIGlzIHNldC5cbiAgICAgKiBAcGFyYW0gZmxhZyAtIFRoZSBmbGFnIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIGZsYWcgaXMgc2V0LlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5faGFzRmxhZyA9IGZ1bmN0aW9uIChmbGFnKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fZmxhZ3MgJiBmbGFnKSAhPT0gMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIChVbilTZXRzIHRoZSBmbGFnLlxuICAgICAqIEBwYXJhbSBmbGFnIC0gVGhlIGZsYWcgdG8gKHVuKXNldC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBXaGV0aGVyIHRvIHNldCBvciAodW4pc2V0IHRoZSBmbGFnLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fc2V0RmxhZyA9IGZ1bmN0aW9uIChmbGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9mbGFncyA9IHZhbHVlID8gKHRoaXMuX2ZsYWdzIHwgZmxhZykgOiAodGhpcy5fZmxhZ3MgJiB+ZmxhZyk7XG4gICAgfTtcbiAgICAvKiogQ2xlYXJzIGFsbCB0aGUgZXZlbnRzIGZyb20gdGhlIHVuZGVybHlpbmcgbG9hZGluZyBzb3VyY2UuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9jbGVhckV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX2VsZW1lbnRUaW1lcik7XG4gICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5kYXRhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0aGlzLl9ib3VuZENvbXBsZXRlLCBmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLmRhdGEucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YS5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy54aHIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9ib3VuZFhock9uRXJyb3IsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIHRoaXMuX2JvdW5kWGhyT25BYm9ydCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy54aHIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbmVycm9yID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnhoci5vbnRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMueGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBGaW5hbGl6ZXMgdGhlIGxvYWQuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29tcGxldGUgY2FsbGVkIGFnYWluIGZvciBhbiBhbHJlYWR5IGNvbXBsZXRlZCByZXNvdXJjZS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRGbGFnKExvYWRlclJlc291cmNlLlNUQVRVU19GTEFHUy5DT01QTEVURSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuX3NldEZsYWcoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTLkxPQURJTkcsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5vbkNvbXBsZXRlLmRpc3BhdGNoKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gZWxlbWVudCB0aGF0IGhhcyBhIHNpbmdsZSBzb3VyY2UsXG4gICAgICogbGlrZSBhbiBIVE1MSW1hZ2VFbGVtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBlbGVtZW50IHRvIHVzZS5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgaWYgKHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMubWV0YWRhdGEubG9hZEVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ2ltYWdlJyAmJiB0eXBlb2YgZ2xvYmFsVGhpcy5JbWFnZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0eXBlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5kYXRhLmNyb3NzT3JpZ2luID0gdGhpcy5jcm9zc09yaWdpbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMubWV0YWRhdGEuc2tpcFNvdXJjZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhLnNyYyA9IHRoaXMudXJsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIGlmICh0aGlzLnRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnRUaW1lciA9IHNldFRpbWVvdXQodGhpcy5fYm91bmRPblRpbWVvdXQsIHRoaXMudGltZW91dCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIGVsZW1lbnQgdGhhdCBoYXMgbXVsdGlwbGUgc291cmNlcyxcbiAgICAgKiBsaWtlIGFuIEhUTUxBdWRpb0VsZW1lbnQgb3IgSFRNTFZpZGVvRWxlbWVudC5cbiAgICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnQgdG8gdXNlLlxuICAgICAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fbG9hZFNvdXJjZUVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBpZiAodGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5tZXRhZGF0YS5sb2FkRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlID09PSAnYXVkaW8nICYmIHR5cGVvZiBnbG9iYWxUaGlzLkF1ZGlvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IEF1ZGlvKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHR5cGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJVbnN1cHBvcnRlZCBlbGVtZW50OiBcIiArIHR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNyb3NzT3JpZ2luKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuY3Jvc3NPcmlnaW4gPSB0aGlzLmNyb3NzT3JpZ2luO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5tZXRhZGF0YS5za2lwU291cmNlKSB7XG4gICAgICAgICAgICAvLyBzdXBwb3J0IGZvciBDb2Nvb25KUyBDYW52YXMrIHJ1bnRpbWUsIGxhY2tzIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NvdXJjZScpXG4gICAgICAgICAgICBpZiAobmF2aWdhdG9yLmlzQ29jb29uSlMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuc3JjID0gQXJyYXkuaXNBcnJheSh0aGlzLnVybCkgPyB0aGlzLnVybFswXSA6IHRoaXMudXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnVybCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWltZVR5cGVzID0gdGhpcy5tZXRhZGF0YS5taW1lVHlwZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudXJsLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmxbaV0sIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1tpXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZXMgPSB0aGlzLm1ldGFkYXRhLm1pbWVUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5hcHBlbmRDaGlsZCh0aGlzLl9jcmVhdGVTb3VyY2UodHlwZSwgdGhpcy51cmwsIEFycmF5LmlzQXJyYXkobWltZVR5cGVzKSA/IG1pbWVUeXBlc1swXSA6IG1pbWVUeXBlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIHRoaXMuX2JvdW5kT25FcnJvciwgZmFsc2UpO1xuICAgICAgICB0aGlzLmRhdGEuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5fYm91bmRPblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZGF0YS5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIHRoaXMuX2JvdW5kQ29tcGxldGUsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5kYXRhLmxvYWQoKTtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudFRpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZE9uVGltZW91dCwgdGhpcy50aW1lb3V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqIExvYWRzIHRoaXMgcmVzb3VyY2VzIHVzaW5nIGFuIFhNTEh0dHBSZXF1ZXN0LiAqL1xuICAgIExvYWRlclJlc291cmNlLnByb3RvdHlwZS5fbG9hZFhociA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gaWYgdW5zZXQsIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnhoclR5cGUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aGlzLnhoclR5cGUgPSB0aGlzLl9kZXRlcm1pbmVYaHJUeXBlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIC8vIHNlbmQgY3JlZGVudGlhbHMgd2hlbiBjcm9zc09yaWdpbiB3aXRoIGNyZWRlbnRpYWxzIHJlcXVlc3RlZFxuICAgICAgICBpZiAodGhpcy5jcm9zc09yaWdpbiA9PT0gJ3VzZS1jcmVkZW50aWFscycpIHtcbiAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNldCB0aGUgcmVxdWVzdCB0eXBlIGFuZCB1cmxcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnRpbWVvdXQgPSB0aGlzLnRpbWVvdXQ7XG4gICAgICAgIC8vIGxvYWQganNvbiBhcyB0ZXh0IGFuZCBwYXJzZSBpdCBvdXJzZWx2ZXMuIFdlIGRvIHRoaXMgYmVjYXVzZSBzb21lIGJyb3dzZXJzXG4gICAgICAgIC8vICpjb3VnaCogc2FmYXJpICpjb3VnaCogY2FuJ3QgZGVhbCB3aXRoIGl0LlxuICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5KU09OXG4gICAgICAgICAgICB8fCB0aGlzLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSB0aGlzLnhoclR5cGU7XG4gICAgICAgIH1cbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5fYm91bmRYaHJPbkVycm9yLCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCd0aW1lb3V0JywgdGhpcy5fYm91bmRYaHJPblRpbWVvdXQsIGZhbHNlKTtcbiAgICAgICAgeGhyLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgdGhpcy5fYm91bmRYaHJPbkFib3J0LCBmYWxzZSk7XG4gICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuX2JvdW5kT25Qcm9ncmVzcywgZmFsc2UpO1xuICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHRoaXMuX2JvdW5kWGhyT25Mb2FkLCBmYWxzZSk7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfTtcbiAgICAvKiogTG9hZHMgdGhpcyByZXNvdXJjZXMgdXNpbmcgYW4gWERvbWFpblJlcXVlc3QuIFRoaXMgaXMgaGVyZSBiZWNhdXNlIHdlIG5lZWQgdG8gc3VwcG9ydCBJRTkgKGdyb3NzKS4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2xvYWRYZHIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGlmIHVuc2V0LCBkZXRlcm1pbmUgdGhlIHZhbHVlXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy54aHJUeXBlICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdGhpcy54aHJUeXBlID0gdGhpcy5fZGV0ZXJtaW5lWGhyVHlwZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB4ZHIgPSB0aGlzLnhociA9IG5ldyBnbG9iYWxUaGlzLlhEb21haW5SZXF1ZXN0KCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcbiAgICAgICAgLy8gWERvbWFpblJlcXVlc3QgaGFzIGEgZmV3IHF1aXJrcy4gT2NjYXNpb25hbGx5IGl0IHdpbGwgYWJvcnQgcmVxdWVzdHNcbiAgICAgICAgLy8gQSB3YXkgdG8gYXZvaWQgdGhpcyBpcyB0byBtYWtlIHN1cmUgQUxMIGNhbGxiYWNrcyBhcmUgc2V0IGV2ZW4gaWYgbm90IHVzZWRcbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTU3ODY5NjYveGRvbWFpbnJlcXVlc3QtYWJvcnRzLXBvc3Qtb24taWUtOVxuICAgICAgICB4ZHIudGltZW91dCA9IHRoaXMudGltZW91dCB8fCA1MDAwOyAvLyBYRFIgbmVlZHMgYSB0aW1lb3V0IHZhbHVlIG9yIGl0IGJyZWFrcyBpbiBJRTlcbiAgICAgICAgeGRyLm9uZXJyb3IgPSB0aGlzLl9ib3VuZFhock9uRXJyb3I7XG4gICAgICAgIHhkci5vbnRpbWVvdXQgPSB0aGlzLl9ib3VuZFhock9uVGltZW91dDtcbiAgICAgICAgeGRyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9ib3VuZE9uUHJvZ3Jlc3M7XG4gICAgICAgIHhkci5vbmxvYWQgPSB0aGlzLl9ib3VuZFhock9uTG9hZDtcbiAgICAgICAgeGRyLm9wZW4oJ0dFVCcsIHRoaXMudXJsLCB0cnVlKTtcbiAgICAgICAgLy8gTm90ZTogVGhlIHhkci5zZW5kKCkgY2FsbCBpcyB3cmFwcGVkIGluIGEgdGltZW91dCB0byBwcmV2ZW50IGFuXG4gICAgICAgIC8vIGlzc3VlIHdpdGggdGhlIGludGVyZmFjZSB3aGVyZSBzb21lIHJlcXVlc3RzIGFyZSBsb3N0IGlmIG11bHRpcGxlXG4gICAgICAgIC8vIFhEb21haW5SZXF1ZXN0cyBhcmUgYmVpbmcgc2VudCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAgICAvLyBTb21lIGluZm8gaGVyZTogaHR0cHM6Ly9naXRodWIuY29tL3Bob3RvbnN0b3JtL3BoYXNlci9pc3N1ZXMvMTI0OFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHhkci5zZW5kKCk7IH0sIDEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNvdXJjZSB1c2VkIGluIGxvYWRpbmcgdmlhIGFuIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgZWxlbWVudCB0eXBlICh2aWRlbyBvciBhdWRpbykuXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSBzb3VyY2UgVVJMIHRvIGxvYWQgZnJvbS5cbiAgICAgKiBAcGFyYW0gW21pbWVdIC0gVGhlIG1pbWUgdHlwZSBvZiB0aGUgdmlkZW9cbiAgICAgKiBAcmV0dXJucyBUaGUgc291cmNlIGVsZW1lbnQuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9jcmVhdGVTb3VyY2UgPSBmdW5jdGlvbiAodHlwZSwgdXJsLCBtaW1lKSB7XG4gICAgICAgIGlmICghbWltZSkge1xuICAgICAgICAgICAgbWltZSA9IHR5cGUgKyBcIi9cIiArIHRoaXMuX2dldEV4dGVuc2lvbih1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzb3VyY2UnKTtcbiAgICAgICAgc291cmNlLnNyYyA9IHVybDtcbiAgICAgICAgc291cmNlLnR5cGUgPSBtaW1lO1xuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGlmIGEgbG9hZCBlcnJvcnMgb3V0LlxuICAgICAqIEBwYXJhbSBldmVudCAtIFRoZSBlcnJvciBldmVudCBmcm9tIHRoZSBlbGVtZW50IHRoYXQgZW1pdHMgaXQuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9vbkVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuYWJvcnQoXCJGYWlsZWQgdG8gbG9hZCBlbGVtZW50IHVzaW5nOiBcIiArIGV2ZW50LnRhcmdldC5ub2RlTmFtZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgYSBsb2FkIHByb2dyZXNzIGV2ZW50IGZpcmVzIGZvciBhbiBlbGVtZW50IG9yIHhoci94ZHIuXG4gICAgICogQHBhcmFtIGV2ZW50IC0gUHJvZ3Jlc3MgZXZlbnQuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9vblByb2dyZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5sZW5ndGhDb21wdXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm9uUHJvZ3Jlc3MuZGlzcGF0Y2godGhpcywgZXZlbnQubG9hZGVkIC8gZXZlbnQudG90YWwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIGlmIGEgdGltZW91dCBldmVudCBmaXJlcyBmb3IgYW4gZWxlbWVudC4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX29uVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5hYm9ydChcIkxvYWQgdGltZWQgb3V0LlwiKTtcbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgaWYgYW4gZXJyb3IgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCBmYWlsZWQuIFN0YXR1czogXCIgKyB4aHIuc3RhdHVzICsgXCIsIHRleHQ6IFxcXCJcIiArIHhoci5zdGF0dXNUZXh0ICsgXCJcXFwiXCIpO1xuICAgIH07XG4gICAgLyoqIENhbGxlZCBpZiBhbiBlcnJvciBldmVudCBmaXJlcyBmb3IgeGhyL3hkci4gKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX3hock9uVGltZW91dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHhociA9IHRoaXMueGhyO1xuICAgICAgICB0aGlzLmFib3J0KHJlcVR5cGUoeGhyKSArIFwiIFJlcXVlc3QgdGltZWQgb3V0LlwiKTtcbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgaWYgYW4gYWJvcnQgZXZlbnQgZmlyZXMgZm9yIHhoci94ZHIuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkFib3J0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeGhyID0gdGhpcy54aHI7XG4gICAgICAgIHRoaXMuYWJvcnQocmVxVHlwZSh4aHIpICsgXCIgUmVxdWVzdCB3YXMgYWJvcnRlZCBieSB0aGUgdXNlci5cIik7XG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIHdoZW4gZGF0YSBzdWNjZXNzZnVsbHkgbG9hZHMgZnJvbSBhbiB4aHIveGRyIHJlcXVlc3QuICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl94aHJPbkxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB4aHIgPSB0aGlzLnhocjtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHN0YXR1cyA9IHR5cGVvZiB4aHIuc3RhdHVzID09PSAndW5kZWZpbmVkJyA/IFNUQVRVU19PSyA6IHhoci5zdGF0dXM7IC8vIFhEUiBoYXMgbm8gYC5zdGF0dXNgLCBhc3N1bWUgMjAwLlxuICAgICAgICAvLyByZXNwb25zZVRleHQgaXMgYWNjZXNzaWJsZSBvbmx5IGlmIHJlc3BvbnNlVHlwZSBpcyAnJyBvciAndGV4dCcgYW5kIG9uIG9sZGVyIGJyb3dzZXJzXG4gICAgICAgIGlmICh4aHIucmVzcG9uc2VUeXBlID09PSAnJyB8fCB4aHIucmVzcG9uc2VUeXBlID09PSAndGV4dCcgfHwgdHlwZW9mIHhoci5yZXNwb25zZVR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICB0ZXh0ID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdGF0dXMgY2FuIGJlIDAgd2hlbiB1c2luZyB0aGUgYGZpbGU6Ly9gIHByb3RvY29sIHNvIHdlIGFsc28gY2hlY2sgaWYgYSByZXNwb25zZSBpcyBzZXQuXG4gICAgICAgIC8vIElmIGl0IGhhcyBhIHJlc3BvbnNlLCB3ZSBhc3N1bWUgMjAwOyBvdGhlcndpc2UgYSAwIHN0YXR1cyBjb2RlIHdpdGggbm8gY29udGVudHMgaXMgYW4gYWJvcnRlZCByZXF1ZXN0LlxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSAmJiAodGV4dC5sZW5ndGggPiAwIHx8IHhoci5yZXNwb25zZVR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUikpIHtcbiAgICAgICAgICAgIHN0YXR1cyA9IFNUQVRVU19PSztcbiAgICAgICAgfVxuICAgICAgICAvLyBoYW5kbGUgSUU5IGJ1ZzogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDA0Njk3Mi9tc2llLXJldHVybnMtc3RhdHVzLWNvZGUtb2YtMTIyMy1mb3ItYWpheC1yZXF1ZXN0XG4gICAgICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0lFX0JVR19FTVBUWSkge1xuICAgICAgICAgICAgc3RhdHVzID0gU1RBVFVTX0VNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXNUeXBlID0gKHN0YXR1cyAvIDEwMCkgfCAwO1xuICAgICAgICBpZiAoc3RhdHVzVHlwZSA9PT0gU1RBVFVTX1RZUEVfT0spIHtcbiAgICAgICAgICAgIC8vIGlmIHRleHQsIGp1c3QgcmV0dXJuIGl0XG4gICAgICAgICAgICBpZiAodGhpcy54aHJUeXBlID09PSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGV4dDtcbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBMb2FkZXJSZXNvdXJjZS5UWVBFLlRFWFQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiBqc29uLCBwYXJzZSBpbnRvIGpzb24gb2JqZWN0XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT04pIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSBMb2FkZXJSZXNvdXJjZS5UWVBFLkpTT047XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIGpzb246IFwiICsgZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiB4bWwsIHBhcnNlIGludG8gYW4geG1sIGRvY3VtZW50IG9yIGRpdiBlbGVtZW50XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnhoclR5cGUgPT09IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkRPQ1VNRU5UKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbFRoaXMuRE9NUGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZG9tcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZG9tcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh0ZXh0LCAndGV4dC94bWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSB0ZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGl2O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IExvYWRlclJlc291cmNlLlRZUEUuWE1MO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSQxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJFcnJvciB0cnlpbmcgdG8gcGFyc2UgbG9hZGVkIHhtbDogXCIgKyBlJDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gb3RoZXIgdHlwZXMganVzdCByZXR1cm4gdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB4aHIucmVzcG9uc2UgfHwgdGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoXCJbXCIgKyB4aHIuc3RhdHVzICsgXCJdIFwiICsgeGhyLnN0YXR1c1RleHQgKyBcIjogXCIgKyB4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGBjcm9zc09yaWdpbmAgcHJvcGVydHkgZm9yIHRoaXMgcmVzb3VyY2UgYmFzZWQgb24gaWYgdGhlIHVybFxuICAgICAqIGZvciB0aGlzIHJlc291cmNlIGlzIGNyb3NzLW9yaWdpbi4gSWYgY3Jvc3NPcmlnaW4gd2FzIG1hbnVhbGx5IHNldCwgdGhpc1xuICAgICAqIGZ1bmN0aW9uIGRvZXMgbm90aGluZy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB1cmwgLSBUaGUgdXJsIHRvIHRlc3QuXG4gICAgICogQHBhcmFtIFtsb2M9Z2xvYmFsVGhpcy5sb2NhdGlvbl0gLSBUaGUgbG9jYXRpb24gb2JqZWN0IHRvIHRlc3QgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY3Jvc3NPcmlnaW4gdmFsdWUgdG8gdXNlIChvciBlbXB0eSBzdHJpbmcgZm9yIG5vbmUpLlxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVDcm9zc09yaWdpbiA9IGZ1bmN0aW9uICh1cmwsIGxvYykge1xuICAgICAgICAvLyBkYXRhOiBhbmQgamF2YXNjcmlwdDogdXJscyBhcmUgY29uc2lkZXJlZCBzYW1lLW9yaWdpblxuICAgICAgICBpZiAodXJsLmluZGV4T2YoJ2RhdGE6JykgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBBIHNhbmRib3hlZCBpZnJhbWUgd2l0aG91dCB0aGUgJ2FsbG93LXNhbWUtb3JpZ2luJyBhdHRyaWJ1dGUgd2lsbCBoYXZlIGEgc3BlY2lhbFxuICAgICAgICAvLyBvcmlnaW4gZGVzaWduZWQgbm90IHRvIG1hdGNoIGdsb2JhbFRoaXMubG9jYXRpb24ub3JpZ2luLCBhbmQgd2lsbCBhbHdheXMgcmVxdWlyZVxuICAgICAgICAvLyBjcm9zc09yaWdpbiByZXF1ZXN0cyByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGxvY2F0aW9uIG1hdGNoZXMuXG4gICAgICAgIGlmIChnbG9iYWxUaGlzLm9yaWdpbiAhPT0gZ2xvYmFsVGhpcy5sb2NhdGlvbi5vcmlnaW4pIHtcbiAgICAgICAgICAgIHJldHVybiAnYW5vbnltb3VzJztcbiAgICAgICAgfVxuICAgICAgICAvLyBkZWZhdWx0IGlzIGdsb2JhbFRoaXMubG9jYXRpb25cbiAgICAgICAgbG9jID0gbG9jIHx8IGdsb2JhbFRoaXMubG9jYXRpb247XG4gICAgICAgIGlmICghdGVtcEFuY2hvcikge1xuICAgICAgICAgICAgdGVtcEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBsZXQgdGhlIGJyb3dzZXIgZGV0ZXJtaW5lIHRoZSBmdWxsIGhyZWYgZm9yIHRoZSB1cmwgb2YgdGhpcyByZXNvdXJjZSBhbmQgdGhlblxuICAgICAgICAvLyBwYXJzZSB3aXRoIHRoZSBub2RlIHVybCBsaWIsIHdlIGNhbid0IHVzZSB0aGUgcHJvcGVydGllcyBvZiB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgLy8gYmVjYXVzZSB0aGV5IGRvbid0IHdvcmsgaW4gSUU5IDooXG4gICAgICAgIHRlbXBBbmNob3IuaHJlZiA9IHVybDtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9IHBhcnNlVXJpKHRlbXBBbmNob3IuaHJlZiwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgc2FtZVBvcnQgPSAoIXBhcnNlZFVybC5wb3J0ICYmIGxvYy5wb3J0ID09PSAnJykgfHwgKHBhcnNlZFVybC5wb3J0ID09PSBsb2MucG9ydCk7XG4gICAgICAgIHZhciBwcm90b2NvbCA9IHBhcnNlZFVybC5wcm90b2NvbCA/IHBhcnNlZFVybC5wcm90b2NvbCArIFwiOlwiIDogJyc7XG4gICAgICAgIC8vIGlmIGNyb3NzIG9yaWdpblxuICAgICAgICBpZiAocGFyc2VkVXJsLmhvc3QgIT09IGxvYy5ob3N0bmFtZSB8fCAhc2FtZVBvcnQgfHwgcHJvdG9jb2wgIT09IGxvYy5wcm90b2NvbCkge1xuICAgICAgICAgICAgcmV0dXJuICdhbm9ueW1vdXMnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIHJlc3BvbnNlVHlwZSBvZiBhbiBYSFIgcmVxdWVzdCBiYXNlZCBvbiB0aGUgZXh0ZW5zaW9uIG9mIHRoZVxuICAgICAqIHJlc291cmNlIGJlaW5nIGxvYWRlZC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkxvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFfSBUaGUgcmVzcG9uc2VUeXBlIHRvIHVzZS5cbiAgICAgKi9cbiAgICBMb2FkZXJSZXNvdXJjZS5wcm90b3R5cGUuX2RldGVybWluZVhoclR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBMb2FkZXJSZXNvdXJjZS5feGhyVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgdGhlIGxvYWRUeXBlIG9mIGEgcmVzb3VyY2UgYmFzZWQgb24gdGhlIGV4dGVuc2lvbiBvZiB0aGVcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Mb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEV9IFRoZSBsb2FkVHlwZSB0byB1c2UuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9kZXRlcm1pbmVMb2FkVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIExvYWRlclJlc291cmNlLl9sb2FkVHlwZU1hcFt0aGlzLmV4dGVuc2lvbl0gfHwgTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlhIUjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEV4dHJhY3RzIHRoZSBleHRlbnNpb24gKHNhbnMgJy4nKSBvZiB0aGUgZmlsZSBiZWluZyBsb2FkZWQgYnkgdGhlIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSBbdXJsXSAtIHVybCB0byBwYXJzZSwgYHRoaXMudXJsYCBieSBkZWZhdWx0LlxuICAgICAqIEByZXR1cm5zIFRoZSBleHRlbnNpb24uXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9nZXRFeHRlbnNpb24gPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGlmICh1cmwgPT09IHZvaWQgMCkgeyB1cmwgPSB0aGlzLnVybDsgfVxuICAgICAgICB2YXIgZXh0ID0gJyc7XG4gICAgICAgIGlmICh0aGlzLmlzRGF0YVVybCkge1xuICAgICAgICAgICAgdmFyIHNsYXNoSW5kZXggPSB1cmwuaW5kZXhPZignLycpO1xuICAgICAgICAgICAgZXh0ID0gdXJsLnN1YnN0cmluZyhzbGFzaEluZGV4ICsgMSwgdXJsLmluZGV4T2YoJzsnLCBzbGFzaEluZGV4KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgcXVlcnlTdGFydCA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgICAgICB2YXIgaGFzaFN0YXJ0ID0gdXJsLmluZGV4T2YoJyMnKTtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGgubWluKHF1ZXJ5U3RhcnQgPiAtMSA/IHF1ZXJ5U3RhcnQgOiB1cmwubGVuZ3RoLCBoYXNoU3RhcnQgPiAtMSA/IGhhc2hTdGFydCA6IHVybC5sZW5ndGgpO1xuICAgICAgICAgICAgdXJsID0gdXJsLnN1YnN0cmluZygwLCBpbmRleCk7XG4gICAgICAgICAgICBleHQgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLicpICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4dC50b0xvd2VyQ2FzZSgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZXJtaW5lcyB0aGUgbWltZSB0eXBlIG9mIGFuIFhIUiByZXF1ZXN0IGJhc2VkIG9uIHRoZSByZXNwb25zZVR5cGUgb2ZcbiAgICAgKiByZXNvdXJjZSBiZWluZyBsb2FkZWQuXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSB0byBnZXQgYSBtaW1lIHR5cGUgZm9yLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybnMgVGhlIG1pbWUgdHlwZSB0byB1c2UuXG4gICAgICovXG4gICAgTG9hZGVyUmVzb3VyY2UucHJvdG90eXBlLl9nZXRNaW1lRnJvbVhoclR5cGUgPSBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSOlxuICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24vb2N0ZXQtYmluYXJ5JztcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL2Jsb2InO1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uL3htbCc7XG4gICAgICAgICAgICBjYXNlIExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkpTT046XG4gICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuREVGQVVMVDpcbiAgICAgICAgICAgIGNhc2UgTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVDpcbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0ZXh0L3BsYWluJztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExvYWRlclJlc291cmNlO1xufSgpKTtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbmFtZXNwYWNlXG4oZnVuY3Rpb24gKExvYWRlclJlc291cmNlKSB7XG4gICAgKGZ1bmN0aW9uIChTVEFUVVNfRkxBR1MpIHtcbiAgICAgICAgLyoqIE5vbmUgKi9cbiAgICAgICAgU1RBVFVTX0ZMQUdTW1NUQVRVU19GTEFHU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgICAgICAvKiogRGF0YSBVUkwgKi9cbiAgICAgICAgU1RBVFVTX0ZMQUdTW1NUQVRVU19GTEFHU1tcIkRBVEFfVVJMXCJdID0gMV0gPSBcIkRBVEFfVVJMXCI7XG4gICAgICAgIC8qKiBDb21wbGV0ZSAqL1xuICAgICAgICBTVEFUVVNfRkxBR1NbU1RBVFVTX0ZMQUdTW1wiQ09NUExFVEVcIl0gPSAyXSA9IFwiQ09NUExFVEVcIjtcbiAgICAgICAgLyoqIExvYWRpbmcgKi9cbiAgICAgICAgU1RBVFVTX0ZMQUdTW1NUQVRVU19GTEFHU1tcIkxPQURJTkdcIl0gPSA0XSA9IFwiTE9BRElOR1wiO1xuICAgIH0pKExvYWRlclJlc291cmNlLlNUQVRVU19GTEFHUyB8fCAoTG9hZGVyUmVzb3VyY2UuU1RBVFVTX0ZMQUdTID0ge30pKTtcbiAgICAoZnVuY3Rpb24gKFRZUEUpIHtcbiAgICAgICAgLyoqIFVua25vd24gKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiVU5LTk9XTlwiXSA9IDBdID0gXCJVTktOT1dOXCI7XG4gICAgICAgIC8qKiBKU09OICovXG4gICAgICAgIFRZUEVbVFlQRVtcIkpTT05cIl0gPSAxXSA9IFwiSlNPTlwiO1xuICAgICAgICAvKiogWE1MICovXG4gICAgICAgIFRZUEVbVFlQRVtcIlhNTFwiXSA9IDJdID0gXCJYTUxcIjtcbiAgICAgICAgLyoqIEltYWdlICovXG4gICAgICAgIFRZUEVbVFlQRVtcIklNQUdFXCJdID0gM10gPSBcIklNQUdFXCI7XG4gICAgICAgIC8qKiBBdWRpbyAqL1xuICAgICAgICBUWVBFW1RZUEVbXCJBVURJT1wiXSA9IDRdID0gXCJBVURJT1wiO1xuICAgICAgICAvKiogVmlkZW8gKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiVklERU9cIl0gPSA1XSA9IFwiVklERU9cIjtcbiAgICAgICAgLyoqIFBsYWluIHRleHQgKi9cbiAgICAgICAgVFlQRVtUWVBFW1wiVEVYVFwiXSA9IDZdID0gXCJURVhUXCI7XG4gICAgfSkoTG9hZGVyUmVzb3VyY2UuVFlQRSB8fCAoTG9hZGVyUmVzb3VyY2UuVFlQRSA9IHt9KSk7XG4gICAgKGZ1bmN0aW9uIChMT0FEX1RZUEUpIHtcbiAgICAgICAgLyoqIFVzZXMgWE1MSHR0cFJlcXVlc3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgICAgIExPQURfVFlQRVtMT0FEX1RZUEVbXCJYSFJcIl0gPSAxXSA9IFwiWEhSXCI7XG4gICAgICAgIC8qKiBVc2VzIGFuIGBJbWFnZWAgb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgICAgICBMT0FEX1RZUEVbTE9BRF9UWVBFW1wiSU1BR0VcIl0gPSAyXSA9IFwiSU1BR0VcIjtcbiAgICAgICAgLyoqIFVzZXMgYW4gYEF1ZGlvYCBvYmplY3QgdG8gbG9hZCB0aGUgcmVzb3VyY2UuICovXG4gICAgICAgIExPQURfVFlQRVtMT0FEX1RZUEVbXCJBVURJT1wiXSA9IDNdID0gXCJBVURJT1wiO1xuICAgICAgICAvKiogVXNlcyBhIGBWaWRlb2Agb2JqZWN0IHRvIGxvYWQgdGhlIHJlc291cmNlLiAqL1xuICAgICAgICBMT0FEX1RZUEVbTE9BRF9UWVBFW1wiVklERU9cIl0gPSA0XSA9IFwiVklERU9cIjtcbiAgICB9KShMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUgfHwgKExvYWRlclJlc291cmNlLkxPQURfVFlQRSA9IHt9KSk7XG4gICAgKGZ1bmN0aW9uIChYSFJfUkVTUE9OU0VfVFlQRSkge1xuICAgICAgICAvKiogc3RyaW5nICovXG4gICAgICAgIFhIUl9SRVNQT05TRV9UWVBFW1wiREVGQVVMVFwiXSA9IFwidGV4dFwiO1xuICAgICAgICAvKiogQXJyYXlCdWZmZXIgKi9cbiAgICAgICAgWEhSX1JFU1BPTlNFX1RZUEVbXCJCVUZGRVJcIl0gPSBcImFycmF5YnVmZmVyXCI7XG4gICAgICAgIC8qKiBCbG9iICovXG4gICAgICAgIFhIUl9SRVNQT05TRV9UWVBFW1wiQkxPQlwiXSA9IFwiYmxvYlwiO1xuICAgICAgICAvKiogRG9jdW1lbnQgKi9cbiAgICAgICAgWEhSX1JFU1BPTlNFX1RZUEVbXCJET0NVTUVOVFwiXSA9IFwiZG9jdW1lbnRcIjtcbiAgICAgICAgLyoqIE9iamVjdCAqL1xuICAgICAgICBYSFJfUkVTUE9OU0VfVFlQRVtcIkpTT05cIl0gPSBcImpzb25cIjtcbiAgICAgICAgLyoqIFN0cmluZyAqL1xuICAgICAgICBYSFJfUkVTUE9OU0VfVFlQRVtcIlRFWFRcIl0gPSBcInRleHRcIjtcbiAgICB9KShMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRSB8fCAoTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUgPSB7fSkpO1xuICAgIExvYWRlclJlc291cmNlLl9sb2FkVHlwZU1hcCA9IHtcbiAgICAgICAgLy8gaW1hZ2VzXG4gICAgICAgIGdpZjogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICBwbmc6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgYm1wOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIGpwZzogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICBqcGVnOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIHRpZjogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICB0aWZmOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIHdlYnA6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgdGdhOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuSU1BR0UsXG4gICAgICAgIHN2ZzogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLklNQUdFLFxuICAgICAgICAnc3ZnK3htbCc6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5JTUFHRSxcbiAgICAgICAgLy8gYXVkaW9cbiAgICAgICAgbXAzOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuQVVESU8sXG4gICAgICAgIG9nZzogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLkFVRElPLFxuICAgICAgICB3YXY6IExvYWRlclJlc291cmNlLkxPQURfVFlQRS5BVURJTyxcbiAgICAgICAgLy8gdmlkZW9zXG4gICAgICAgIG1wNDogTG9hZGVyUmVzb3VyY2UuTE9BRF9UWVBFLlZJREVPLFxuICAgICAgICB3ZWJtOiBMb2FkZXJSZXNvdXJjZS5MT0FEX1RZUEUuVklERU8sXG4gICAgfTtcbiAgICBMb2FkZXJSZXNvdXJjZS5feGhyVHlwZU1hcCA9IHtcbiAgICAgICAgLy8geG1sXG4gICAgICAgIHhodG1sOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICAgICAgaHRtbDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIGh0bTogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIHhtbDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIHRteDogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIHN2ZzogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuRE9DVU1FTlQsXG4gICAgICAgIC8vIFRoaXMgd2FzIGFkZGVkIHRvIGhhbmRsZSBUaWxlZCBUaWxlc2V0IFhNTCwgYnV0IC50c3ggaXMgYWxzbyBhIFR5cGVTY3JpcHQgUmVhY3QgQ29tcG9uZW50LlxuICAgICAgICAvLyBTaW5jZSBpdCBpcyB3YXkgbGVzcyBsaWtlbHkgZm9yIHBlb3BsZSB0byBiZSBsb2FkaW5nIFR5cGVTY3JpcHQgZmlsZXMgaW5zdGVhZCBvZiBUaWxlZCBmaWxlcyxcbiAgICAgICAgLy8gdGhpcyBzaG91bGQgcHJvYmFibHkgYmUgZmluZS5cbiAgICAgICAgdHN4OiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5ET0NVTUVOVCxcbiAgICAgICAgLy8gaW1hZ2VzXG4gICAgICAgIGdpZjogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgcG5nOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICBibXA6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgICAgIGpwZzogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAganBlZzogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQixcbiAgICAgICAgdGlmOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICB0aWZmOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICB3ZWJwOiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5CTE9CLFxuICAgICAgICB0Z2E6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJMT0IsXG4gICAgICAgIC8vIGpzb25cbiAgICAgICAganNvbjogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuSlNPTixcbiAgICAgICAgLy8gdGV4dFxuICAgICAgICB0ZXh0OiBMb2FkZXJSZXNvdXJjZS5YSFJfUkVTUE9OU0VfVFlQRS5URVhULFxuICAgICAgICB0eHQ6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLlRFWFQsXG4gICAgICAgIC8vIGZvbnRzXG4gICAgICAgIHR0ZjogTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQlVGRkVSLFxuICAgICAgICBvdGY6IExvYWRlclJlc291cmNlLlhIUl9SRVNQT05TRV9UWVBFLkJVRkZFUixcbiAgICB9O1xuICAgIC8vIFdlIGNhbid0IHNldCB0aGUgYHNyY2AgYXR0cmlidXRlIHRvIGVtcHR5IHN0cmluZywgc28gb24gYWJvcnQgd2Ugc2V0IGl0IHRvIHRoaXMgMXB4IHRyYW5zcGFyZW50IGdpZlxuICAgIExvYWRlclJlc291cmNlLkVNUFRZX0dJRiA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlBQUFQLy8vd0FBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Jztcbn0pKGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UgfHwgKGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UgPSB7fSkpO1xuXG4vKipcbiAqIFNtYWxsZXIgdmVyc2lvbiBvZiB0aGUgYXN5bmMgbGlicmFyeSBjb25zdHJ1Y3RzLlxuICogQGlnbm9yZVxuICovXG5mdW5jdGlvbiBfbm9vcCgpIHtcbn1cbi8qKlxuICogRW5zdXJlcyBhIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIG9uY2UuXG4gKiBAaWdub3JlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIFRoZSBmdW5jdGlvbiB0byB3cmFwLlxuICogQHJldHVybnMge0Z1bmN0aW9ufSBUaGUgd3JhcHBpbmcgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIG9ubHlPbmNlKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzJDEgPSBhcmd1bWVudHM7XG5cbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayB3YXMgYWxyZWFkeSBjYWxsZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbGxGbiA9IGZuO1xuICAgICAgICBmbiA9IG51bGw7XG4gICAgICAgIGNhbGxGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9O1xufVxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIEFzeW5jUXVldWVJdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1F1ZXVlSXRlbShkYXRhLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgfVxuICAgIHJldHVybiBBc3luY1F1ZXVlSXRlbTtcbn0oKSk7XG4vKipcbiAqIEBwcml2YXRlXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgQXN5bmNRdWV1ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gd29ya2VyXG4gICAgICogQHBhcmFtIGNvbmN1cnJlbmN5XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBBc3luY1F1ZXVlKHdvcmtlciwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGNvbmN1cnJlbmN5ID09PSB2b2lkIDApIHsgY29uY3VycmVuY3kgPSAxOyB9XG4gICAgICAgIHRoaXMud29ya2VycyA9IDA7XG4gICAgICAgIHRoaXMuc2F0dXJhdGVkID0gX25vb3A7XG4gICAgICAgIHRoaXMudW5zYXR1cmF0ZWQgPSBfbm9vcDtcbiAgICAgICAgdGhpcy5lbXB0eSA9IF9ub29wO1xuICAgICAgICB0aGlzLmRyYWluID0gX25vb3A7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBfbm9vcDtcbiAgICAgICAgdGhpcy5zdGFydGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Rhc2tzID0gW107XG4gICAgICAgIHRoaXMuX2luc2VydCA9IGZ1bmN0aW9uIChkYXRhLCBpbnNlcnRBdEZyb250LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndGFzayBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICBpZiAoZGF0YSA9PSBudWxsICYmIF90aGlzLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIC8vIGNhbGwgZHJhaW4gaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIHRhc2tzXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5kcmFpbigpOyB9LCAxKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG5ldyBBc3luY1F1ZXVlSXRlbShkYXRhLCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgPyBjYWxsYmFjayA6IF9ub29wKTtcbiAgICAgICAgICAgIGlmIChpbnNlcnRBdEZyb250KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3Rhc2tzLnVuc2hpZnQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdGFza3MucHVzaChpdGVtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFRpbWVvdXQoX3RoaXMucHJvY2VzcywgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHdoaWxlICghX3RoaXMucGF1c2VkICYmIF90aGlzLndvcmtlcnMgPCBfdGhpcy5jb25jdXJyZW5jeSAmJiBfdGhpcy5fdGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhc2sgPSBfdGhpcy5fdGFza3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuX3Rhc2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy53b3JrZXJzICs9IDE7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLndvcmtlcnMgPT09IF90aGlzLmNvbmN1cnJlbmN5KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGhpcy5fd29ya2VyKHRhc2suZGF0YSwgb25seU9uY2UoX3RoaXMuX25leHQodGFzaykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fd29ya2VyID0gd29ya2VyO1xuICAgICAgICBpZiAoY29uY3VycmVuY3kgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ29uY3VycmVuY3kgbXVzdCBub3QgYmUgemVybycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uY3VycmVuY3kgPSBjb25jdXJyZW5jeTtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBjb25jdXJyZW5jeSAvIDQuMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHRhc2tcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHRhc2spIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHMkMVtfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy53b3JrZXJzIC09IDE7XG4gICAgICAgICAgICB0YXNrLmNhbGxiYWNrLmFwcGx5KHRhc2ssIGFyZ3MpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVxLW51bGwsZXFlcWVxXG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZXJyb3IoYXJnc1swXSwgdGFzay5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfdGhpcy53b3JrZXJzIDw9IChfdGhpcy5jb25jdXJyZW5jeSAtIF90aGlzLmJ1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51bnNhdHVyYXRlZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLmlkbGUoKSkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRyYWluKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvLyBUaGF0IHdhcyBpbiBvYmplY3RcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5faW5zZXJ0KGRhdGEsIGZhbHNlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5raWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLndvcmtlcnMgPSAwO1xuICAgICAgICB0aGlzLmRyYWluID0gX25vb3A7XG4gICAgICAgIHRoaXMuc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl90YXNrcyA9IFtdO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS51bnNoaWZ0ID0gZnVuY3Rpb24gKGRhdGEsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX2luc2VydChkYXRhLCB0cnVlLCBjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrcy5sZW5ndGg7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5ydW5uaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy53b3JrZXJzO1xuICAgIH07XG4gICAgQXN5bmNRdWV1ZS5wcm90b3R5cGUuaWRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2tzLmxlbmd0aCArIHRoaXMud29ya2VycyA9PT0gMDtcbiAgICB9O1xuICAgIEFzeW5jUXVldWUucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXVzZWQgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdXNlZCA9IHRydWU7XG4gICAgfTtcbiAgICBBc3luY1F1ZXVlLnByb3RvdHlwZS5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhdXNlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhdXNlZCA9IGZhbHNlO1xuICAgICAgICAvLyBOZWVkIHRvIGNhbGwgdGhpcy5wcm9jZXNzIG9uY2UgcGVyIGNvbmN1cnJlbnRcbiAgICAgICAgLy8gd29ya2VyIHRvIHByZXNlcnZlIGZ1bGwgY29uY3VycmVuY3kgYWZ0ZXIgcGF1c2VcbiAgICAgICAgZm9yICh2YXIgdyA9IDE7IHcgPD0gdGhpcy5jb25jdXJyZW5jeTsgdysrKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgYW4gYXJyYXkgaW4gc2VyaWVzLlxuICAgICAqIEBwYXJhbSB7QXJyYXkuPCo+fSBhcnJheSAtIEFycmF5IHRvIGl0ZXJhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0b3IgLSBGdW5jdGlvbiB0byBjYWxsIGZvciBlYWNoIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBGdW5jdGlvbiB0byBjYWxsIHdoZW4gZG9uZSwgb3Igb24gZXJyb3IuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVmZXJOZXh0PWZhbHNlXSAtIEJyZWFrIHN5bmNocm9ub3VzIGVhY2ggbG9vcCBieSBjYWxsaW5nIG5leHQgd2l0aCBhIHNldFRpbWVvdXQgb2YgMS5cbiAgICAgKi9cbiAgICBBc3luY1F1ZXVlLmVhY2hTZXJpZXMgPSBmdW5jdGlvbiAoYXJyYXksIGl0ZXJhdG9yLCBjYWxsYmFjaywgZGVmZXJOZXh0KSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IGFycmF5Lmxlbmd0aDtcbiAgICAgICAgZnVuY3Rpb24gbmV4dChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgfHwgaSA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWZlck5leHQpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0b3IoYXJyYXlbaSsrXSwgbmV4dCk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpdGVyYXRvcihhcnJheVtpKytdLCBuZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuZXh0KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBc3luYyBxdWV1ZSBpbXBsZW1lbnRhdGlvbixcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3b3JrZXIgLSBUaGUgd29ya2VyIGZ1bmN0aW9uIHRvIGNhbGwgZm9yIGVhY2ggdGFzay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29uY3VycmVuY3kgLSBIb3cgbWFueSB3b3JrZXJzIHRvIHJ1biBpbiBwYXJyYWxsZWwuXG4gICAgICogQHJldHVybnMgeyp9IFRoZSBhc3luYyBxdWV1ZSBvYmplY3QuXG4gICAgICovXG4gICAgQXN5bmNRdWV1ZS5xdWV1ZSA9IGZ1bmN0aW9uICh3b3JrZXIsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHJldHVybiBuZXcgQXN5bmNRdWV1ZSh3b3JrZXIsIGNvbmN1cnJlbmN5KTtcbiAgICB9O1xuICAgIHJldHVybiBBc3luY1F1ZXVlO1xufSgpKTtcblxuLy8gc29tZSBjb25zdGFudHNcbnZhciBNQVhfUFJPR1JFU1MgPSAxMDA7XG52YXIgcmd4RXh0cmFjdFVybEhhc2ggPSAvKCNbXFx3LV0rKT8kLztcbi8qKlxuICogVGhlIG5ldyBsb2FkZXIsIGZvcmtlZCBmcm9tIFJlc291cmNlIExvYWRlciBieSBDaGFkIEVuZ2xlcjogaHR0cHM6Ly9naXRodWIuY29tL2VuZ2xlcmNqL3Jlc291cmNlLWxvYWRlclxuICpcbiAqIGBgYGpzXG4gKiBjb25zdCBsb2FkZXIgPSBQSVhJLkxvYWRlci5zaGFyZWQ7IC8vIFBpeGlKUyBleHBvc2VzIGEgcHJlbWFkZSBpbnN0YW5jZSBmb3IgeW91IHRvIHVzZS5cbiAqIC8vIG9yXG4gKiBjb25zdCBsb2FkZXIgPSBuZXcgUElYSS5Mb2FkZXIoKTsgLy8gWW91IGNhbiBhbHNvIGNyZWF0ZSB5b3VyIG93biBpZiB5b3Ugd2FudFxuICpcbiAqIGNvbnN0IHNwcml0ZXMgPSB7fTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYGFkZGAgdG8gZW5xdWV1ZSBhIHJlc291cmNlXG4gKiBsb2FkZXIuYWRkKCdidW5ueScsICdkYXRhL2J1bm55LnBuZycpXG4gKiAgICAgICAuYWRkKCdzcGFjZXNoaXAnLCAnYXNzZXRzL3Nwcml0ZXNoZWV0Lmpzb24nKTtcbiAqIGxvYWRlci5hZGQoJ3Njb3JlRm9udCcsICdhc3NldHMvc2NvcmUuZm50Jyk7XG4gKlxuICogLy8gQ2hhaW5hYmxlIGBwcmVgIHRvIGFkZCBhIG1pZGRsZXdhcmUgdGhhdCBydW5zIGZvciBlYWNoIHJlc291cmNlLCAqYmVmb3JlKiBsb2FkaW5nIHRoYXQgcmVzb3VyY2UuXG4gKiAvLyBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgY3VzdG9tIGNhY2hpbmcgbW9kdWxlcyAodXNpbmcgZmlsZXN5c3RlbSwgaW5kZXhlZGRiLCBtZW1vcnksIGV0YykuXG4gKiBsb2FkZXIucHJlKGNhY2hpbmdNaWRkbGV3YXJlKTtcbiAqXG4gKiAvLyBDaGFpbmFibGUgYHVzZWAgdG8gYWRkIGEgbWlkZGxld2FyZSB0aGF0IHJ1bnMgZm9yIGVhY2ggcmVzb3VyY2UsICphZnRlciogbG9hZGluZyB0aGF0IHJlc291cmNlLlxuICogLy8gVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IGN1c3RvbSBwYXJzaW5nIG1vZHVsZXMgKGxpa2Ugc3ByaXRlc2hlZXQgcGFyc2Vycywgc3BpbmUgcGFyc2VyLCBldGMpLlxuICogbG9hZGVyLnVzZShwYXJzaW5nTWlkZGxld2FyZSk7XG4gKlxuICogLy8gVGhlIGBsb2FkYCBtZXRob2QgbG9hZHMgdGhlIHF1ZXVlIG9mIHJlc291cmNlcywgYW5kIGNhbGxzIHRoZSBwYXNzZWQgaW4gY2FsbGJhY2sgY2FsbGVkIG9uY2UgYWxsXG4gKiAvLyByZXNvdXJjZXMgaGF2ZSBsb2FkZWQuXG4gKiBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAqICAgICAvLyByZXNvdXJjZXMgaXMgYW4gb2JqZWN0IHdoZXJlIHRoZSBrZXkgaXMgdGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSByZXNvdXJjZSBvYmplY3QuXG4gKiAgICAgLy8gVGhleSBoYXZlIGEgY291cGxlIGRlZmF1bHQgcHJvcGVydGllczpcbiAqICAgICAvLyAtIGB1cmxgOiBUaGUgVVJMIHRoYXQgdGhlIHJlc291cmNlIHdhcyBsb2FkZWQgZnJvbVxuICogICAgIC8vIC0gYGVycm9yYDogVGhlIGVycm9yIHRoYXQgaGFwcGVuZWQgd2hlbiB0cnlpbmcgdG8gbG9hZCAoaWYgYW55KVxuICogICAgIC8vIC0gYGRhdGFgOiBUaGUgcmF3IGRhdGEgdGhhdCB3YXMgbG9hZGVkXG4gKiAgICAgLy8gYWxzbyBtYXkgY29udGFpbiBvdGhlciBwcm9wZXJ0aWVzIGJhc2VkIG9uIHRoZSBtaWRkbGV3YXJlIHRoYXQgcnVucy5cbiAqICAgICBzcHJpdGVzLmJ1bm55ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5idW5ueS50ZXh0dXJlKTtcbiAqICAgICBzcHJpdGVzLnNwYWNlc2hpcCA9IG5ldyBQSVhJLlRpbGluZ1Nwcml0ZShyZXNvdXJjZXMuc3BhY2VzaGlwLnRleHR1cmUpO1xuICogICAgIHNwcml0ZXMuc2NvcmVGb250ID0gbmV3IFBJWEkuVGlsaW5nU3ByaXRlKHJlc291cmNlcy5zY29yZUZvbnQudGV4dHVyZSk7XG4gKiB9KTtcbiAqXG4gKiAvLyB0aHJvdWdob3V0IHRoZSBwcm9jZXNzIG11bHRpcGxlIHNpZ25hbHMgY2FuIGJlIGRpc3BhdGNoZWQuXG4gKiBsb2FkZXIub25Qcm9ncmVzcy5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkL2Vycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uRXJyb3IuYWRkKCgpID0+IHt9KTsgLy8gY2FsbGVkIG9uY2UgcGVyIGVycm9yZWQgZmlsZVxuICogbG9hZGVyLm9uTG9hZC5hZGQoKCkgPT4ge30pOyAvLyBjYWxsZWQgb25jZSBwZXIgbG9hZGVkIGZpbGVcbiAqIGxvYWRlci5vbkNvbXBsZXRlLmFkZCgoKSA9PiB7fSk7IC8vIGNhbGxlZCBvbmNlIHdoZW4gdGhlIHF1ZXVlZCByZXNvdXJjZXMgYWxsIGxvYWQuXG4gKiBgYGBcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGJhc2VVcmwgLSBUaGUgYmFzZSB1cmwgZm9yIGFsbCByZXNvdXJjZXMgbG9hZGVkIGJ5IHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSBjb25jdXJyZW5jeSAtIFRoZSBudW1iZXIgb2YgcmVzb3VyY2VzIHRvIGxvYWQgY29uY3VycmVudGx5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvYWRlcihiYXNlVXJsLCBjb25jdXJyZW5jeSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoYmFzZVVybCA9PT0gdm9pZCAwKSB7IGJhc2VVcmwgPSAnJzsgfVxuICAgICAgICBpZiAoY29uY3VycmVuY3kgPT09IHZvaWQgMCkgeyBjb25jdXJyZW5jeSA9IDEwOyB9XG4gICAgICAgIC8qKiBUaGUgcHJvZ3Jlc3MgcGVyY2VudCBvZiB0aGUgbG9hZGVyIGdvaW5nIHRocm91Z2ggdGhlIHF1ZXVlLiAqL1xuICAgICAgICB0aGlzLnByb2dyZXNzID0gMDtcbiAgICAgICAgLyoqIExvYWRpbmcgc3RhdGUgb2YgdGhlIGxvYWRlciwgdHJ1ZSBpZiBpdCBpcyBjdXJyZW50bHkgbG9hZGluZyByZXNvdXJjZXMuICovXG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBxdWVyeXN0cmluZyB0byBhcHBlbmQgdG8gZXZlcnkgVVJMIGFkZGVkIHRvIHRoZSBsb2FkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgc2hvdWxkIGJlIGEgdmFsaWQgcXVlcnkgc3RyaW5nICp3aXRob3V0KiB0aGUgcXVlc3Rpb24tbWFyayAoYD9gKS4gVGhlIGxvYWRlciB3aWxsXG4gICAgICAgICAqIGFsc28gKm5vdCogZXNjYXBlIHZhbHVlcyBmb3IgeW91LiBNYWtlIHN1cmUgdG8gZXNjYXBlIHlvdXIgcGFyYW1ldGVycyB3aXRoXG4gICAgICAgICAqIFtgZW5jb2RlVVJJQ29tcG9uZW50YF0oaHR0cHM6Ly9tZG4uaW8vZW5jb2RlVVJJQ29tcG9uZW50KSBiZWZvcmUgYXNzaWduaW5nIHRoaXMgcHJvcGVydHkuXG4gICAgICAgICAqIEBleGFtcGxlXG4gICAgICAgICAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLmRlZmF1bHRRdWVyeVN0cmluZyA9ICd1c2VyPW1lJnBhc3N3b3JkPXNlY3JldCc7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dXNlcj1tZSZwYXNzd29yZD1zZWNyZXQnXG4gICAgICAgICAqIGxvYWRlci5hZGQoJ2ltYWdlLnBuZycpLmxvYWQoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogbG9hZGVyLnJlc2V0KCk7XG4gICAgICAgICAqXG4gICAgICAgICAqIC8vIFRoaXMgd2lsbCByZXF1ZXN0ICdpbWFnZS5wbmc/dj0xJnVzZXI9bWUmcGFzc3dvcmQ9c2VjcmV0J1xuICAgICAgICAgKiBsb2FkZXIuYWRkKCdpYW1nZS5wbmc/dj0xJykubG9hZCgpO1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcgPSAnJztcbiAgICAgICAgLyoqIFRoZSBtaWRkbGV3YXJlIHRvIHJ1biBiZWZvcmUgbG9hZGluZyBlYWNoIHJlc291cmNlLiAqL1xuICAgICAgICB0aGlzLl9iZWZvcmVNaWRkbGV3YXJlID0gW107XG4gICAgICAgIC8qKiBUaGUgbWlkZGxld2FyZSB0byBydW4gYWZ0ZXIgbG9hZGluZyBlYWNoIHJlc291cmNlLiAqL1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcbiAgICAgICAgLyoqIFRoZSB0cmFja3MgdGhlIHJlc291cmNlcyB3ZSBhcmUgY3VycmVudGx5IGNvbXBsZXRpbmcgcGFyc2luZyBmb3IuICovXG4gICAgICAgIHRoaXMuX3Jlc291cmNlc1BhcnNpbmcgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBgX2xvYWRSZXNvdXJjZWAgZnVuY3Rpb24gYm91bmQgd2l0aCB0aGlzIG9iamVjdCBjb250ZXh0LlxuICAgICAgICAgKiBAcGFyYW0gciAtIFRoZSByZXNvdXJjZSB0byBsb2FkXG4gICAgICAgICAqIEBwYXJhbSBkIC0gVGhlIGRlcXVldWUgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2JvdW5kTG9hZFJlc291cmNlID0gZnVuY3Rpb24gKHIsIGQpIHsgcmV0dXJuIF90aGlzLl9sb2FkUmVzb3VyY2UociwgZCk7IH07XG4gICAgICAgIC8qKiBBbGwgdGhlIHJlc291cmNlcyBmb3IgdGhpcyBsb2FkZXIga2V5ZWQgYnkgbmFtZS4gKi9cbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5iYXNlVXJsID0gYmFzZVVybDtcbiAgICAgICAgdGhpcy5fYmVmb3JlTWlkZGxld2FyZSA9IFtdO1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZyA9IFtdO1xuICAgICAgICB0aGlzLl9ib3VuZExvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyLCBkKSB7IHJldHVybiBfdGhpcy5fbG9hZFJlc291cmNlKHIsIGQpOyB9O1xuICAgICAgICB0aGlzLl9xdWV1ZSA9IEFzeW5jUXVldWUucXVldWUodGhpcy5fYm91bmRMb2FkUmVzb3VyY2UsIGNvbmN1cnJlbmN5KTtcbiAgICAgICAgdGhpcy5fcXVldWUucGF1c2UoKTtcbiAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSB7fTtcbiAgICAgICAgdGhpcy5vblByb2dyZXNzID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICB0aGlzLm9uRXJyb3IgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIHRoaXMub25Mb2FkID0gbmV3IFNpZ25hbCgpO1xuICAgICAgICB0aGlzLm9uU3RhcnQgPSBuZXcgU2lnbmFsKCk7XG4gICAgICAgIHRoaXMub25Db21wbGV0ZSA9IG5ldyBTaWduYWwoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBMb2FkZXIuX3BsdWdpbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHZhciBwbHVnaW4gPSBMb2FkZXIuX3BsdWdpbnNbaV07XG4gICAgICAgICAgICB2YXIgcHJlID0gcGx1Z2luLnByZSwgdXNlID0gcGx1Z2luLnVzZTtcbiAgICAgICAgICAgIGlmIChwcmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZShwcmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudXNlKHVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcHJvdGVjdGVkID0gZmFsc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNhbWUgYXMgYWRkLCBwYXJhbXMgaGF2ZSBzdHJpY3Qgb3JkZXJcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlc291cmNlIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHVybCAtIFRoZSB1cmwgZm9yIHRoaXMgcmVzb3VyY2UsIHJlbGF0aXZlIHRvIHRoZSBiYXNlVXJsIG9mIHRoaXMgbG9hZGVyLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgZm9yIHRoZSBsb2FkLlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGlzIHNwZWNpZmljIHJlc291cmNlIGNvbXBsZXRlcyBsb2FkaW5nLlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2FkZXIgaXRzZWxmLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX2FkZCA9IGZ1bmN0aW9uIChuYW1lLCB1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgICAgIC8vIGlmIGxvYWRpbmcgYWxyZWFkeSB5b3UgY2FuIG9ubHkgYWRkIHJlc291cmNlcyB0aGF0IGhhdmUgYSBwYXJlbnQuXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcgJiYgKCFvcHRpb25zIHx8ICFvcHRpb25zLnBhcmVudFJlc291cmNlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgYWRkIHJlc291cmNlcyB3aGlsZSB0aGUgbG9hZGVyIGlzIHJ1bm5pbmcuJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgcmVzb3VyY2UgYWxyZWFkeSBleGlzdHMuXG4gICAgICAgIGlmICh0aGlzLnJlc291cmNlc1tuYW1lXSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzb3VyY2UgbmFtZWQgXFxcIlwiICsgbmFtZSArIFwiXFxcIiBhbHJlYWR5IGV4aXN0cy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYWRkIGJhc2UgdXJsIGlmIHRoaXMgaXNuJ3QgYW4gYWJzb2x1dGUgdXJsXG4gICAgICAgIHVybCA9IHRoaXMuX3ByZXBhcmVVcmwodXJsKTtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSBzdG9yZSB0aGUgcmVzb3VyY2VcbiAgICAgICAgdGhpcy5yZXNvdXJjZXNbbmFtZV0gPSBuZXcgZXhwb3J0cy5Mb2FkZXJSZXNvdXJjZShuYW1lLCB1cmwsIG9wdGlvbnMpO1xuICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5vbkFmdGVyTWlkZGxld2FyZS5vbmNlKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBhY3RpdmVseSBsb2FkaW5nLCBtYWtlIHN1cmUgdG8gYWRqdXN0IHByb2dyZXNzIGNodW5rcyBmb3IgdGhhdCBwYXJlbnQgYW5kIGl0cyBjaGlsZHJlblxuICAgICAgICBpZiAodGhpcy5sb2FkaW5nKSB7XG4gICAgICAgICAgICB2YXIgcGFyZW50ID0gb3B0aW9ucy5wYXJlbnRSZXNvdXJjZTtcbiAgICAgICAgICAgIHZhciBpbmNvbXBsZXRlQ2hpbGRyZW4gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyZW50LmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJlbnQuY2hpbGRyZW5baV0uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmNvbXBsZXRlQ2hpbGRyZW4ucHVzaChwYXJlbnQuY2hpbGRyZW5baV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBmdWxsQ2h1bmsgPSBwYXJlbnQucHJvZ3Jlc3NDaHVuayAqIChpbmNvbXBsZXRlQ2hpbGRyZW4ubGVuZ3RoICsgMSk7IC8vICsxIGZvciBwYXJlbnRcbiAgICAgICAgICAgIHZhciBlYWNoQ2h1bmsgPSBmdWxsQ2h1bmsgLyAoaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aCArIDIpOyAvLyArMiBmb3IgcGFyZW50ICYgbmV3IGNoaWxkXG4gICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaCh0aGlzLnJlc291cmNlc1tuYW1lXSk7XG4gICAgICAgICAgICBwYXJlbnQucHJvZ3Jlc3NDaHVuayA9IGVhY2hDaHVuaztcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5jb21wbGV0ZUNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgaW5jb21wbGV0ZUNoaWxkcmVuW2ldLnByb2dyZXNzQ2h1bmsgPSBlYWNoQ2h1bms7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnJlc291cmNlc1tuYW1lXS5wcm9ncmVzc0NodW5rID0gZWFjaENodW5rO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFkZCB0aGUgcmVzb3VyY2UgdG8gdGhlIHF1ZXVlXG4gICAgICAgIHRoaXMuX3F1ZXVlLnB1c2godGhpcy5yZXNvdXJjZXNbbmFtZV0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qIGVzbGludC1lbmFibGUgcmVxdWlyZS1qc2RvYyx2YWxpZC1qc2RvYyAqL1xuICAgIC8qKlxuICAgICAqIFNldHMgdXAgYSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRoYXQgd2lsbCBydW4gKmJlZm9yZSogdGhlXG4gICAgICogcmVzb3VyY2UgaXMgbG9hZGVkLlxuICAgICAqIEBwYXJhbSBmbiAtIFRoZSBtaWRkbGV3YXJlIGZ1bmN0aW9uIHRvIHJlZ2lzdGVyLlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2FkZXIgaXRzZWxmLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUucHJlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgICAgIHRoaXMuX2JlZm9yZU1pZGRsZXdhcmUucHVzaChmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIG1pZGRsZXdhcmUgZnVuY3Rpb24gdGhhdCB3aWxsIHJ1biAqYWZ0ZXIqIHRoZVxuICAgICAqIHJlc291cmNlIGlzIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0gZm4gLSBUaGUgbWlkZGxld2FyZSBmdW5jdGlvbiB0byByZWdpc3Rlci5cbiAgICAgKiBAcmV0dXJucyBUaGUgbG9hZGVyIGl0c2VsZi5cbiAgICAgKi9cbiAgICBMb2FkZXIucHJvdG90eXBlLnVzZSA9IGZ1bmN0aW9uIChmbikge1xuICAgICAgICB0aGlzLl9hZnRlck1pZGRsZXdhcmUucHVzaChmbik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBxdWV1ZSBvZiB0aGUgbG9hZGVyIHRvIHByZXBhcmUgZm9yIGEgbmV3IGxvYWQuXG4gICAgICogQHJldHVybnMgVGhlIGxvYWRlciBpdHNlbGYuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9xdWV1ZS5raWxsKCk7XG4gICAgICAgIHRoaXMuX3F1ZXVlLnBhdXNlKCk7XG4gICAgICAgIC8vIGFib3J0IGFsbCByZXNvdXJjZSBsb2Fkc1xuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzID0gdGhpcy5yZXNvdXJjZXNba107XG4gICAgICAgICAgICBpZiAocmVzLl9vbkxvYWRCaW5kaW5nKSB7XG4gICAgICAgICAgICAgICAgcmVzLl9vbkxvYWRCaW5kaW5nLmRldGFjaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcy5pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXMuYWJvcnQoJ2xvYWRlciByZXNldCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzb3VyY2VzID0ge307XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RhcnRzIGxvYWRpbmcgdGhlIHF1ZXVlZCByZXNvdXJjZXMuXG4gICAgICogQHBhcmFtIGNiIC0gT3B0aW9uYWwgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGJvdW5kIHRvIHRoZSBgY29tcGxldGVgIGV2ZW50LlxuICAgICAqIEByZXR1cm5zIFRoZSBsb2FkZXIgaXRzZWxmLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICAvLyByZWdpc3RlciBjb21wbGV0ZSBjYWxsYmFjayBpZiB0aGV5IHBhc3Mgb25lXG4gICAgICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub25Db21wbGV0ZS5vbmNlKGNiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGUgcXVldWUgaGFzIGFscmVhZHkgc3RhcnRlZCB3ZSBhcmUgZG9uZSBoZXJlXG4gICAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZS5pZGxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGRpc3RyaWJ1dGUgcHJvZ3Jlc3MgY2h1bmtzXG4gICAgICAgICAgICB2YXIgbnVtVGFza3MgPSB0aGlzLl9xdWV1ZS5fdGFza3MubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIGNodW5rID0gTUFYX1BST0dSRVNTIC8gbnVtVGFza3M7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3F1ZXVlLl90YXNrcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlLl90YXNrc1tpXS5kYXRhLnByb2dyZXNzQ2h1bmsgPSBjaHVuaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG5vdGlmeSB3ZSBhcmUgc3RhcnRpbmdcbiAgICAgICAgICAgIHRoaXMuX29uU3RhcnQoKTtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLnJlc3VtZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvYWRlci5wcm90b3R5cGUsIFwiY29uY3VycmVuY3lcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiByZXNvdXJjZXMgdG8gbG9hZCBjb25jdXJyZW50bHkuXG4gICAgICAgICAqIEBkZWZhdWx0IDEwXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9xdWV1ZS5jb25jdXJyZW5jeTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoY29uY3VycmVuY3kpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlLmNvbmN1cnJlbmN5ID0gY29uY3VycmVuY3k7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBhIHVybCBmb3IgdXNhZ2UgYmFzZWQgb24gdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKiBAcGFyYW0gdXJsIC0gVGhlIHVybCB0byBwcmVwYXJlLlxuICAgICAqIEByZXR1cm5zIFRoZSBwcmVwYXJlZCB1cmwuXG4gICAgICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5fcHJlcGFyZVVybCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9IHBhcnNlVXJpKHVybCwgeyBzdHJpY3RNb2RlOiB0cnVlIH0pO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAvLyBhYnNvbHV0ZSB1cmwsIGp1c3QgdXNlIGl0IGFzIGlzLlxuICAgICAgICBpZiAocGFyc2VkVXJsLnByb3RvY29sIHx8ICFwYXJzZWRVcmwucGF0aCB8fCB1cmwuaW5kZXhPZignLy8nKSA9PT0gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdXJsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGJhc2VVcmwgZG9lc24ndCBlbmQgaW4gc2xhc2ggYW5kIHVybCBkb2Vzbid0IHN0YXJ0IHdpdGggc2xhc2gsIHRoZW4gYWRkIGEgc2xhc2ggaW5iZXR3ZWVuXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYmFzZVVybC5sZW5ndGhcbiAgICAgICAgICAgICYmIHRoaXMuYmFzZVVybC5sYXN0SW5kZXhPZignLycpICE9PSB0aGlzLmJhc2VVcmwubGVuZ3RoIC0gMVxuICAgICAgICAgICAgJiYgdXJsLmNoYXJBdCgwKSAhPT0gJy8nKSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJhc2VVcmwgKyBcIi9cIiArIHVybDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYmFzZVVybCArIHVybDtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB3ZSBuZWVkIHRvIGFkZCBhIGRlZmF1bHQgcXVlcnlzdHJpbmcsIHRoZXJlIGlzIGEgYml0IG1vcmUgd29ya1xuICAgICAgICBpZiAodGhpcy5kZWZhdWx0UXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICAgIHZhciBoYXNoID0gcmd4RXh0cmFjdFVybEhhc2guZXhlYyhyZXN1bHQpWzBdO1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnNsaWNlKDAsIHJlc3VsdC5sZW5ndGggLSBoYXNoLmxlbmd0aCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0LmluZGV4T2YoJz8nKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gXCImXCIgKyB0aGlzLmRlZmF1bHRRdWVyeVN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBcIj9cIiArIHRoaXMuZGVmYXVsdFF1ZXJ5U3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ICs9IGhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExvYWRzIGEgc2luZ2xlIHJlc291cmNlLlxuICAgICAqIEBwYXJhbSByZXNvdXJjZSAtIFRoZSByZXNvdXJjZSB0byBsb2FkLlxuICAgICAqIEBwYXJhbSBkZXF1ZXVlIC0gVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB3ZSBuZWVkIHRvIGRlcXVldWUgdGhpcyBpdGVtLlxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX2xvYWRSZXNvdXJjZSA9IGZ1bmN0aW9uIChyZXNvdXJjZSwgZGVxdWV1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXNvdXJjZS5fZGVxdWV1ZSA9IGRlcXVldWU7XG4gICAgICAgIC8vIHJ1biBiZWZvcmUgbWlkZGxld2FyZVxuICAgICAgICBBc3luY1F1ZXVlLmVhY2hTZXJpZXModGhpcy5fYmVmb3JlTWlkZGxld2FyZSwgZnVuY3Rpb24gKGZuLCBuZXh0KSB7XG4gICAgICAgICAgICBmbi5jYWxsKF90aGlzLCByZXNvdXJjZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBiZWZvcmUgbWlkZGxld2FyZSBtYXJrcyB0aGUgcmVzb3VyY2UgYXMgY29tcGxldGUsXG4gICAgICAgICAgICAgICAgLy8gYnJlYWsgYW5kIGRvbid0IHByb2Nlc3MgYW55IG1vcmUgYmVmb3JlIG1pZGRsZXdhcmVcbiAgICAgICAgICAgICAgICBuZXh0KHJlc291cmNlLmlzQ29tcGxldGUgPyB7fSA6IG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChyZXNvdXJjZS5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uTG9hZChyZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IHJlc291cmNlLm9uQ29tcGxldGUub25jZShfdGhpcy5fb25Mb2FkLCBfdGhpcyk7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UubG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0cnVlKTtcbiAgICB9O1xuICAgIC8qKiBDYWxsZWQgb25jZSBsb2FkaW5nIGhhcyBzdGFydGVkLiAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX29uU3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLm9uU3RhcnQuZGlzcGF0Y2godGhpcyk7XG4gICAgfTtcbiAgICAvKiogQ2FsbGVkIG9uY2UgZWFjaCByZXNvdXJjZSBoYXMgbG9hZGVkLiAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX29uQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNQVhfUFJPR1JFU1M7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9uQ29tcGxldGUuZGlzcGF0Y2godGhpcywgdGhpcy5yZXNvdXJjZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGVhY2ggdGltZSBhIHJlc291cmNlcyBpcyBsb2FkZWQuXG4gICAgICogQHBhcmFtIHJlc291cmNlIC0gVGhlIHJlc291cmNlIHRoYXQgd2FzIGxvYWRlZFxuICAgICAqL1xuICAgIExvYWRlci5wcm90b3R5cGUuX29uTG9hZCA9IGZ1bmN0aW9uIChyZXNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXNvdXJjZS5fb25Mb2FkQmluZGluZyA9IG51bGw7XG4gICAgICAgIC8vIHJlbW92ZSB0aGlzIHJlc291cmNlIGZyb20gdGhlIGFzeW5jIHF1ZXVlLCBhbmQgYWRkIGl0IHRvIG91ciBsaXN0IG9mIHJlc291cmNlcyB0aGF0IGFyZSBiZWluZyBwYXJzZWRcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5wdXNoKHJlc291cmNlKTtcbiAgICAgICAgcmVzb3VyY2UuX2RlcXVldWUoKTtcbiAgICAgICAgLy8gcnVuIGFsbCB0aGUgYWZ0ZXIgbWlkZGxld2FyZSBmb3IgdGhpcyByZXNvdXJjZVxuICAgICAgICBBc3luY1F1ZXVlLmVhY2hTZXJpZXModGhpcy5fYWZ0ZXJNaWRkbGV3YXJlLCBmdW5jdGlvbiAoZm4sIG5leHQpIHtcbiAgICAgICAgICAgIGZuLmNhbGwoX3RoaXMsIHJlc291cmNlLCBuZXh0KTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb3VyY2Uub25BZnRlck1pZGRsZXdhcmUuZGlzcGF0Y2gocmVzb3VyY2UpO1xuICAgICAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbihNQVhfUFJPR1JFU1MsIF90aGlzLnByb2dyZXNzICsgcmVzb3VyY2UucHJvZ3Jlc3NDaHVuayk7XG4gICAgICAgICAgICBfdGhpcy5vblByb2dyZXNzLmRpc3BhdGNoKF90aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vbkVycm9yLmRpc3BhdGNoKHJlc291cmNlLmVycm9yLCBfdGhpcywgcmVzb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25Mb2FkLmRpc3BhdGNoKF90aGlzLCByZXNvdXJjZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfdGhpcy5fcmVzb3VyY2VzUGFyc2luZy5zcGxpY2UoX3RoaXMuX3Jlc291cmNlc1BhcnNpbmcuaW5kZXhPZihyZXNvdXJjZSksIDEpO1xuICAgICAgICAgICAgLy8gZG8gY29tcGxldGlvbiBjaGVja1xuICAgICAgICAgICAgaWYgKF90aGlzLl9xdWV1ZS5pZGxlKCkgJiYgX3RoaXMuX3Jlc291cmNlc1BhcnNpbmcubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uQ29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgdHJ1ZSk7XG4gICAgfTtcbiAgICAvKiogRGVzdHJveSB0aGUgbG9hZGVyLCByZW1vdmVzIHJlZmVyZW5jZXMuICovXG4gICAgTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Byb3RlY3RlZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9hZGVyLCBcInNoYXJlZFwiLCB7XG4gICAgICAgIC8qKiBBIHByZW1hZGUgaW5zdGFuY2Ugb2YgdGhlIGxvYWRlciB0aGF0IGNhbiBiZSB1c2VkIHRvIGxvYWQgcmVzb3VyY2VzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzaGFyZWQgPSBMb2FkZXIuX3NoYXJlZDtcbiAgICAgICAgICAgIGlmICghc2hhcmVkKSB7XG4gICAgICAgICAgICAgICAgc2hhcmVkID0gbmV3IExvYWRlcigpO1xuICAgICAgICAgICAgICAgIHNoYXJlZC5fcHJvdGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBMb2FkZXIuX3NoYXJlZCA9IHNoYXJlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaGFyZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgTG9hZGVyIHBsdWdpbiBmb3IgdGhlIGdsb2JhbCBzaGFyZWQgbG9hZGVyIGFuZCBhbGxcbiAgICAgKiBuZXcgTG9hZGVyIGluc3RhbmNlcyBjcmVhdGVkLlxuICAgICAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgcGx1Z2luIHRvIGFkZFxuICAgICAqIEByZXR1cm5zIFJlZmVyZW5jZSB0byBQSVhJLkxvYWRlciBmb3IgY2hhaW5pbmdcbiAgICAgKi9cbiAgICBMb2FkZXIucmVnaXN0ZXJQbHVnaW4gPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIExvYWRlci5fcGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgIGlmIChwbHVnaW4uYWRkKSB7XG4gICAgICAgICAgICBwbHVnaW4uYWRkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIExvYWRlcjtcbiAgICB9O1xuICAgIExvYWRlci5fcGx1Z2lucyA9IFtdO1xuICAgIHJldHVybiBMb2FkZXI7XG59KCkpO1xuTG9hZGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQobmFtZSwgdXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIC8vIHNwZWNpYWwgY2FzZSBvZiBhbiBhcnJheSBvZiBvYmplY3RzIG9yIHVybHNcbiAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKG5hbWVbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBpZiBhbiBvYmplY3QgaXMgcGFzc2VkIGluc3RlYWQgb2YgcGFyYW1zXG4gICAgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgICBvcHRpb25zID0gbmFtZTtcbiAgICAgICAgY2FsbGJhY2sgPSB1cmwgfHwgb3B0aW9ucy5jYWxsYmFjayB8fCBvcHRpb25zLm9uQ29tcGxldGU7XG4gICAgICAgIHVybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICBuYW1lID0gb3B0aW9ucy5uYW1lIHx8IG9wdGlvbnMua2V5IHx8IG9wdGlvbnMudXJsO1xuICAgIH1cbiAgICAvLyBjYXNlIHdoZXJlIG5vIG5hbWUgaXMgcGFzc2VkIHNoaWZ0IGFsbCBhcmdzIG92ZXIgYnkgb25lLlxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1cmw7XG4gICAgICAgIHVybCA9IG5hbWU7XG4gICAgfVxuICAgIC8vIG5vdyB0aGF0IHdlIHNoaWZ0ZWQgbWFrZSBzdXJlIHdlIGhhdmUgYSBwcm9wZXIgdXJsLlxuICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHVybCBwYXNzZWQgdG8gYWRkIHJlc291cmNlIHRvIGxvYWRlci4nKTtcbiAgICB9XG4gICAgLy8gb3B0aW9ucyBhcmUgb3B0aW9uYWwgc28gcGVvcGxlIG1pZ2h0IHBhc3MgYSBmdW5jdGlvbiBhbmQgbm8gb3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYWxsYmFjayA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5fYWRkKG5hbWUsIHVybCwgb3B0aW9ucywgY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKiBBcHBsaWNhdGlvbiBwbHVnaW4gZm9yIHN1cHBvcnRpbmcgbG9hZGVyIG9wdGlvbi4gSW5zdGFsbGluZyB0aGUgTG9hZGVyUGx1Z2luXG4gKiBpcyBub3QgbmVjZXNzYXJ5IGlmIHVzaW5nICoqcGl4aS5qcyoqIG9yICoqcGl4aS5qcy1sZWdhY3kqKi5cbiAqIEBleGFtcGxlXG4gKiBpbXBvcnQge0FwcExvYWRlclBsdWdpbn0gZnJvbSAnQHBpeGkvbG9hZGVycyc7XG4gKiBpbXBvcnQge0FwcGxpY2F0aW9ufSBmcm9tICdAcGl4aS9hcHAnO1xuICogQXBwbGljYXRpb24ucmVnaXN0ZXJQbHVnaW4oQXBwTG9hZGVyUGx1Z2luKTtcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBBcHBMb2FkZXJQbHVnaW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTG9hZGVyUGx1Z2luKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgb24gYXBwbGljYXRpb24gY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgQXBwTG9hZGVyUGx1Z2luLmluaXQgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICBzaGFyZWRMb2FkZXI6IGZhbHNlLFxuICAgICAgICB9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5sb2FkZXIgPSBvcHRpb25zLnNoYXJlZExvYWRlciA/IExvYWRlci5zaGFyZWQgOiBuZXcgTG9hZGVyKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiBhcHBsaWNhdGlvbiBkZXN0cm95ZWRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEFwcExvYWRlclBsdWdpbi5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXIpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFwcExvYWRlclBsdWdpbjtcbn0oKSk7XG5cbi8qKlxuICogTG9hZGVyIHBsdWdpbiBmb3IgaGFuZGxpbmcgVGV4dHVyZSByZXNvdXJjZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICovXG52YXIgVGV4dHVyZUxvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUZXh0dXJlTG9hZGVyKCkge1xuICAgIH1cbiAgICAvKiogSGFuZGxlIFNWRyBlbGVtZW50cyBhIHRleHQsIHJlbmRlciB3aXRoIFNWR1Jlc291cmNlLiAqL1xuICAgIFRleHR1cmVMb2FkZXIuYWRkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBleHBvcnRzLkxvYWRlclJlc291cmNlLnNldEV4dGVuc2lvbkxvYWRUeXBlKCdzdmcnLCBleHBvcnRzLkxvYWRlclJlc291cmNlLkxPQURfVFlQRS5YSFIpO1xuICAgICAgICBleHBvcnRzLkxvYWRlclJlc291cmNlLnNldEV4dGVuc2lvblhoclR5cGUoJ3N2ZycsIGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuVEVYVCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgYWZ0ZXIgYSByZXNvdXJjZSBpcyBsb2FkZWQuXG4gICAgICogQHNlZSBQSVhJLkxvYWRlci5sb2FkZXJNaWRkbGV3YXJlXG4gICAgICogQHBhcmFtIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbmV4dFxuICAgICAqL1xuICAgIFRleHR1cmVMb2FkZXIudXNlID0gZnVuY3Rpb24gKHJlc291cmNlLCBuZXh0KSB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyB0ZXh0dXJlIGlmIHRoZSBkYXRhIGlzIGFuIEltYWdlIG9iamVjdFxuICAgICAgICBpZiAocmVzb3VyY2UuZGF0YSAmJiAocmVzb3VyY2UudHlwZSA9PT0gZXhwb3J0cy5Mb2FkZXJSZXNvdXJjZS5UWVBFLklNQUdFIHx8IHJlc291cmNlLmV4dGVuc2lvbiA9PT0gJ3N2ZycpKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHJlc291cmNlLmRhdGEsIHVybCA9IHJlc291cmNlLnVybCwgbmFtZSA9IHJlc291cmNlLm5hbWUsIG1ldGFkYXRhID0gcmVzb3VyY2UubWV0YWRhdGE7XG4gICAgICAgICAgICBjb3JlLlRleHR1cmUuZnJvbUxvYWRlcihkYXRhLCB1cmwsIG5hbWUsIG1ldGFkYXRhKS50aGVuKGZ1bmN0aW9uICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudGV4dHVyZSA9IHRleHR1cmU7XG4gICAgICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBoYW5kbGUgZXJyb3JzIGluIFRleHR1cmUuZnJvbUxvYWRlclxuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGNhbiBwYXNzIHRoZW0gdG8gdGhlIExvYWRlclxuICAgICAgICAgICAgICAgIC5jYXRjaChuZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFRleHR1cmVMb2FkZXI7XG59KCkpO1xuXG52YXIgX2tleVN0ciA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7XG4vKipcbiAqIEVuY29kZXMgYmluYXJ5IGludG8gYmFzZTY0LlxuICogQGZ1bmN0aW9uIGVuY29kZUJpbmFyeVxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0IC0gVGhlIGlucHV0IGRhdGEgdG8gZW5jb2RlLlxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGVuY29kZWQgYmFzZTY0IHN0cmluZ1xuICovXG5mdW5jdGlvbiBlbmNvZGVCaW5hcnkoaW5wdXQpIHtcbiAgICB2YXIgb3V0cHV0ID0gJyc7XG4gICAgdmFyIGlueCA9IDA7XG4gICAgd2hpbGUgKGlueCA8IGlucHV0Lmxlbmd0aCkge1xuICAgICAgICAvLyBGaWxsIGJ5dGUgYnVmZmVyIGFycmF5XG4gICAgICAgIHZhciBieXRlYnVmZmVyID0gWzAsIDAsIDBdO1xuICAgICAgICB2YXIgZW5jb2RlZENoYXJJbmRleGVzID0gWzAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKHZhciBqbnggPSAwOyBqbnggPCBieXRlYnVmZmVyLmxlbmd0aDsgKytqbngpIHtcbiAgICAgICAgICAgIGlmIChpbnggPCBpbnB1dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyB0aHJvdyBhd2F5IGhpZ2gtb3JkZXIgYnl0ZSwgYXMgZG9jdW1lbnRlZCBhdDpcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9Fbi9Vc2luZ19YTUxIdHRwUmVxdWVzdCNIYW5kbGluZ19iaW5hcnlfZGF0YVxuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IGlucHV0LmNoYXJDb2RlQXQoaW54KyspICYgMHhmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGJ5dGVidWZmZXJbam54XSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IGVhY2ggZW5jb2RlZCBjaGFyYWN0ZXIsIDYgYml0cyBhdCBhIHRpbWVcbiAgICAgICAgLy8gaW5kZXggMTogZmlyc3QgNiBiaXRzXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1swXSA9IGJ5dGVidWZmZXJbMF0gPj4gMjtcbiAgICAgICAgLy8gaW5kZXggMjogc2Vjb25kIDYgYml0cyAoMiBsZWFzdCBzaWduaWZpY2FudCBiaXRzIGZyb20gaW5wdXQgYnl0ZSAxICsgNCBtb3N0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBieXRlIDIpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1sxXSA9ICgoYnl0ZWJ1ZmZlclswXSAmIDB4MykgPDwgNCkgfCAoYnl0ZWJ1ZmZlclsxXSA+PiA0KTtcbiAgICAgICAgLy8gaW5kZXggMzogdGhpcmQgNiBiaXRzICg0IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDIgKyAyIG1vc3Qgc2lnbmlmaWNhbnQgYml0cyBmcm9tIGJ5dGUgMylcbiAgICAgICAgZW5jb2RlZENoYXJJbmRleGVzWzJdID0gKChieXRlYnVmZmVyWzFdICYgMHgwZikgPDwgMikgfCAoYnl0ZWJ1ZmZlclsyXSA+PiA2KTtcbiAgICAgICAgLy8gaW5kZXggMzogZm9ydGggNiBiaXRzICg2IGxlYXN0IHNpZ25pZmljYW50IGJpdHMgZnJvbSBpbnB1dCBieXRlIDMpXG4gICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IGJ5dGVidWZmZXJbMl0gJiAweDNmO1xuICAgICAgICAvLyBEZXRlcm1pbmUgd2hldGhlciBwYWRkaW5nIGhhcHBlbmVkLCBhbmQgYWRqdXN0IGFjY29yZGluZ2x5XG4gICAgICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBpbnggLSAoaW5wdXQubGVuZ3RoIC0gMSk7XG4gICAgICAgIHN3aXRjaCAocGFkZGluZ0J5dGVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgLy8gU2V0IGxhc3QgMiBjaGFyYWN0ZXJzIHRvIHBhZGRpbmcgY2hhclxuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1szXSA9IDY0O1xuICAgICAgICAgICAgICAgIGVuY29kZWRDaGFySW5kZXhlc1syXSA9IDY0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIC8vIFNldCBsYXN0IGNoYXJhY3RlciB0byBwYWRkaW5nIGNoYXJcbiAgICAgICAgICAgICAgICBlbmNvZGVkQ2hhckluZGV4ZXNbM10gPSA2NDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyBOb3cgd2Ugd2lsbCBncmFiIGVhY2ggYXBwcm9wcmlhdGUgY2hhcmFjdGVyIG91dCBvZiBvdXIga2V5c3RyaW5nXG4gICAgICAgIC8vIGJhc2VkIG9uIG91ciBpbmRleCBhcnJheSBhbmQgYXBwZW5kIGl0IHRvIHRoZSBvdXRwdXQgc3RyaW5nXG4gICAgICAgIGZvciAodmFyIGpueCA9IDA7IGpueCA8IGVuY29kZWRDaGFySW5kZXhlcy5sZW5ndGg7ICsram54KSB7XG4gICAgICAgICAgICBvdXRwdXQgKz0gX2tleVN0ci5jaGFyQXQoZW5jb2RlZENoYXJJbmRleGVzW2pueF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbi8qKlxuICogQSBtaWRkbGV3YXJlIGZvciB0cmFuc2Zvcm1pbmcgWEhSIGxvYWRlZCBCbG9icyBpbnRvIG1vcmUgdXNlZnVsIG9iamVjdHNcbiAqIEBpZ25vcmVcbiAqIEBmdW5jdGlvbiBwYXJzaW5nXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IHsgTG9hZGVyLCBtaWRkbGV3YXJlIH0gZnJvbSAncmVzb3VyY2UtbG9hZGVyJztcbiAqIGNvbnN0IGxvYWRlciA9IG5ldyBMb2FkZXIoKTtcbiAqIGxvYWRlci51c2UobWlkZGxld2FyZS5wYXJzaW5nKTtcbiAqIEBwYXJhbSByZXNvdXJjZSAtIEN1cnJlbnQgUmVzb3VyY2VcbiAqIEBwYXJhbSBuZXh0IC0gQ2FsbGJhY2sgd2hlbiBjb21wbGV0ZVxuICovXG5mdW5jdGlvbiBwYXJzaW5nKHJlc291cmNlLCBuZXh0KSB7XG4gICAgaWYgKCFyZXNvdXJjZS5kYXRhKSB7XG4gICAgICAgIG5leHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGlzIHdhcyBhbiBYSFIgbG9hZCBvZiBhIGJsb2JcbiAgICBpZiAocmVzb3VyY2UueGhyICYmIHJlc291cmNlLnhoclR5cGUgPT09IGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UuWEhSX1JFU1BPTlNFX1RZUEUuQkxPQikge1xuICAgICAgICAvLyBpZiB0aGVyZSBpcyBubyBibG9iIHN1cHBvcnQgd2UgcHJvYmFibHkgZ290IGEgYmluYXJ5IHN0cmluZyBiYWNrXG4gICAgICAgIGlmICghc2VsZi5CbG9iIHx8IHR5cGVvZiByZXNvdXJjZS5kYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHR5cGUgPSByZXNvdXJjZS54aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgICAgICAgLy8gdGhpcyBpcyBhbiBpbWFnZSwgY29udmVydCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIGEgZGF0YSB1cmxcbiAgICAgICAgICAgIGlmICh0eXBlICYmIHR5cGUuaW5kZXhPZignaW1hZ2UnKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IFwiZGF0YTpcIiArIHR5cGUgKyBcIjtiYXNlNjQsXCIgKyBlbmNvZGVCaW5hcnkocmVzb3VyY2UueGhyLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IHVudGlsIHRoZSBpbWFnZSBsb2FkcyBhbmQgdGhlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIG5leHQgd2lsbCBiZSBjYWxsZWQgb24gbG9hZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBjb250ZW50IHR5cGUgc2F5cyB0aGlzIGlzIGFuIGltYWdlLCB0aGVuIHdlIHNob3VsZCB0cmFuc2Zvcm0gdGhlIGJsb2IgaW50byBhbiBJbWFnZSBvYmplY3RcbiAgICAgICAgZWxzZSBpZiAocmVzb3VyY2UuZGF0YS50eXBlLmluZGV4T2YoJ2ltYWdlJykgPT09IDApIHtcbiAgICAgICAgICAgIHZhciBVcmxfMSA9IGdsb2JhbFRoaXMuVVJMIHx8IGdsb2JhbFRoaXMud2Via2l0VVJMO1xuICAgICAgICAgICAgdmFyIHNyY18xID0gVXJsXzEuY3JlYXRlT2JqZWN0VVJMKHJlc291cmNlLmRhdGEpO1xuICAgICAgICAgICAgcmVzb3VyY2UuYmxvYiA9IHJlc291cmNlLmRhdGE7XG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhLnNyYyA9IHNyY18xO1xuICAgICAgICAgICAgcmVzb3VyY2UudHlwZSA9IGV4cG9ydHMuTG9hZGVyUmVzb3VyY2UuVFlQRS5JTUFHRTtcbiAgICAgICAgICAgIC8vIGNsZWFudXAgdGhlIG5vIGxvbmdlciB1c2VkIGJsb2IgYWZ0ZXIgdGhlIGltYWdlIGxvYWRzXG4gICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIGNvcnJlY3Q/IFdpbGwgdGhlIGltYWdlIGJlIGludmFsaWQgYWZ0ZXIgcmV2b2tpbmc/XG4gICAgICAgICAgICByZXNvdXJjZS5kYXRhLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBVcmxfMS5yZXZva2VPYmplY3RVUkwoc3JjXzEpO1xuICAgICAgICAgICAgICAgIHJlc291cmNlLmRhdGEub25sb2FkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBuZXh0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gbmV4dCB3aWxsIGJlIGNhbGxlZCBvbiBsb2FkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5leHQoKTtcbn1cblxuLy8gcGFyc2UgYW55IGJsb2IgaW50byBtb3JlIHVzYWJsZSBvYmplY3RzIChlLmcuIEltYWdlKVxuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKHsgdXNlOiBwYXJzaW5nIH0pO1xuLy8gcGFyc2UgYW55IEltYWdlIG9iamVjdHMgaW50byB0ZXh0dXJlc1xuTG9hZGVyLnJlZ2lzdGVyUGx1Z2luKFRleHR1cmVMb2FkZXIpO1xuXG5leHBvcnRzLkFwcExvYWRlclBsdWdpbiA9IEFwcExvYWRlclBsdWdpbjtcbmV4cG9ydHMuTG9hZGVyID0gTG9hZGVyO1xuZXhwb3J0cy5UZXh0dXJlTG9hZGVyID0gVGV4dHVyZUxvYWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvYWRlcnMuanMubWFwXG4iXSwibmFtZXMiOlsiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJleHBvcnRzIiwidmFsdWUiLCJjb3JlIiwiU2lnbmFsQmluZGluZyIsImZuIiwib25jZSIsInRoaXNBcmciLCJ0aGlzIiwiX2ZuIiwiX29uY2UiLCJfdGhpc0FyZyIsIl9uZXh0IiwiX3ByZXYiLCJfb3duZXIiLCJwcm90b3R5cGUiLCJkZXRhY2giLCJfYWRkU2lnbmFsQmluZGluZyIsInNlbGYiLCJub2RlIiwiX2hlYWQiLCJfdGFpbCIsInVzZVhkciIsIlNpZ25hbCIsInVuZGVmaW5lZCIsImhhbmRsZXJzIiwiZXhpc3RzIiwiZWUiLCJwdXNoIiwiaGFzIiwiRXJyb3IiLCJkaXNwYXRjaCIsImFyZ3VtZW50cyQxIiwiYXJndW1lbnRzIiwiYXJncyIsIl9pIiwibGVuZ3RoIiwiYXBwbHkiLCJhZGQiLCJkZXRhY2hBbGwiLCJwYXJzZVVyaSIsInN0ciIsIm9wdHMiLCJvIiwia2V5IiwicSIsIm5hbWUiLCJwYXJzZXIiLCJzdHJpY3QiLCJsb29zZSIsIm0iLCJzdHJpY3RNb2RlIiwiZXhlYyIsInVyaSIsImkiLCJyZXBsYWNlIiwiX3QwIiwidDEiLCJ0MiIsIkxvYWRlclJlc291cmNlIiwiU1RBVFVTX0ZMQUdTIiwiVFlQRSIsIkxPQURfVFlQRSIsIlhIUl9SRVNQT05TRV9UWVBFIiwidGVtcEFuY2hvciIsIl9ub29wJDEiLCJzZXRFeHRNYXAiLCJtYXAiLCJleHRuYW1lIiwidmFsIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsInJlcVR5cGUiLCJ4aHIiLCJ0b1N0cmluZyIsIl9ub29wIiwib25seU9uY2UiLCJjYWxsRm4iLCJ1cmwiLCJvcHRpb25zIiwiX2RlcXVldWUiLCJfb25Mb2FkQmluZGluZyIsIl9lbGVtZW50VGltZXIiLCJfYm91bmRDb21wbGV0ZSIsIl9ib3VuZE9uRXJyb3IiLCJfYm91bmRPblByb2dyZXNzIiwiX2JvdW5kT25UaW1lb3V0IiwiX2JvdW5kWGhyT25FcnJvciIsIl9ib3VuZFhock9uVGltZW91dCIsIl9ib3VuZFhock9uQWJvcnQiLCJfYm91bmRYaHJPbkxvYWQiLCJfZmxhZ3MiLCJfc2V0RmxhZyIsIkRBVEFfVVJMIiwiZXh0ZW5zaW9uIiwiX2dldEV4dGVuc2lvbiIsImRhdGEiLCJjcm9zc09yaWdpbiIsInRpbWVvdXQiLCJsb2FkVHlwZSIsIl9kZXRlcm1pbmVMb2FkVHlwZSIsInhoclR5cGUiLCJtZXRhZGF0YSIsImVycm9yIiwiY2hpbGRyZW4iLCJ0eXBlIiwiVU5LTk9XTiIsInByb2dyZXNzQ2h1bmsiLCJjb21wbGV0ZSIsImJpbmQiLCJfb25FcnJvciIsIl9vblByb2dyZXNzIiwiX29uVGltZW91dCIsIl94aHJPbkVycm9yIiwiX3hock9uVGltZW91dCIsIl94aHJPbkFib3J0IiwiX3hock9uTG9hZCIsIm9uU3RhcnQiLCJvblByb2dyZXNzIiwib25Db21wbGV0ZSIsIm9uQWZ0ZXJNaWRkbGV3YXJlIiwic2V0RXh0ZW5zaW9uTG9hZFR5cGUiLCJfbG9hZFR5cGVNYXAiLCJzZXRFeHRlbnNpb25YaHJUeXBlIiwiX3hoclR5cGVNYXAiLCJnZXQiLCJfaGFzRmxhZyIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJDT01QTEVURSIsIkxPQURJTkciLCJfY2xlYXJFdmVudHMiLCJfZmluaXNoIiwiYWJvcnQiLCJtZXNzYWdlIiwieGRyIiwic3JjIiwiRU1QVFlfR0lGIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwibG9hZCIsImNiIiwiX3RoaXMiLCJpc0xvYWRpbmciLCJpc0NvbXBsZXRlIiwic2V0VGltZW91dCIsIl9kZXRlcm1pbmVDcm9zc09yaWdpbiIsIklNQUdFIiwiX2xvYWRFbGVtZW50IiwiQVVESU8iLCJfbG9hZFNvdXJjZUVsZW1lbnQiLCJWSURFTyIsIlhIUiIsImdsb2JhbFRoaXMiLCJYRG9tYWluUmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX2xvYWRYZHIiLCJfbG9hZFhociIsImZsYWciLCJjbGVhclRpbWVvdXQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwib25lcnJvciIsIm9udGltZW91dCIsIm9ucHJvZ3Jlc3MiLCJvbmxvYWQiLCJsb2FkRWxlbWVudCIsIkltYWdlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2tpcFNvdXJjZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJBdWRpbyIsIm5hdmlnYXRvciIsImlzQ29jb29uSlMiLCJBcnJheSIsImlzQXJyYXkiLCJtaW1lVHlwZXMiLCJtaW1lVHlwZSIsImFwcGVuZENoaWxkIiwiX2NyZWF0ZVNvdXJjZSIsIl9kZXRlcm1pbmVYaHJUeXBlIiwid2l0aENyZWRlbnRpYWxzIiwib3BlbiIsIkpTT04iLCJET0NVTUVOVCIsInJlc3BvbnNlVHlwZSIsIlRFWFQiLCJzZW5kIiwibWltZSIsInNvdXJjZSIsImV2ZW50IiwidGFyZ2V0Iiwibm9kZU5hbWUiLCJsZW5ndGhDb21wdXRhYmxlIiwibG9hZGVkIiwidG90YWwiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwidGV4dCIsInJlc3BvbnNlVGV4dCIsIkJVRkZFUiIsInBhcnNlIiwiZSIsIkRPTVBhcnNlciIsImRvbXBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImRpdiIsImlubmVySFRNTCIsIlhNTCIsImUkMSIsInJlc3BvbnNlIiwicmVzcG9uc2VVUkwiLCJsb2MiLCJvcmlnaW4iLCJsb2NhdGlvbiIsImhyZWYiLCJwYXJzZWRVcmwiLCJzYW1lUG9ydCIsInBvcnQiLCJwcm90b2NvbCIsImhvc3QiLCJob3N0bmFtZSIsImV4dCIsImlzRGF0YVVybCIsInNsYXNoSW5kZXgiLCJxdWVyeVN0YXJ0IiwiaGFzaFN0YXJ0IiwiaW5kZXgiLCJNYXRoIiwibWluIiwibGFzdEluZGV4T2YiLCJ0b0xvd2VyQ2FzZSIsIl9nZXRNaW1lRnJvbVhoclR5cGUiLCJCTE9CIiwiREVGQVVMVCIsImdpZiIsInBuZyIsImJtcCIsImpwZyIsImpwZWciLCJ0aWYiLCJ0aWZmIiwid2VicCIsInRnYSIsInN2ZyIsIm1wMyIsIm9nZyIsIndhdiIsIm1wNCIsIndlYm0iLCJ4aHRtbCIsImh0bWwiLCJodG0iLCJ4bWwiLCJ0bXgiLCJ0c3giLCJqc29uIiwidHh0IiwidHRmIiwib3RmIiwiQXN5bmNRdWV1ZUl0ZW0iLCJjYWxsYmFjayIsIkFzeW5jUXVldWUiLCJ3b3JrZXIiLCJjb25jdXJyZW5jeSIsIndvcmtlcnMiLCJzYXR1cmF0ZWQiLCJ1bnNhdHVyYXRlZCIsImVtcHR5IiwiZHJhaW4iLCJzdGFydGVkIiwicGF1c2VkIiwiX3Rhc2tzIiwiX2luc2VydCIsImluc2VydEF0RnJvbnQiLCJpZGxlIiwiaXRlbSIsInVuc2hpZnQiLCJwcm9jZXNzIiwidGFzayIsInNoaWZ0IiwiX3dvcmtlciIsImJ1ZmZlciIsImtpbGwiLCJydW5uaW5nIiwicGF1c2UiLCJyZXN1bWUiLCJ3IiwiZWFjaFNlcmllcyIsImFycmF5IiwiaXRlcmF0b3IiLCJkZWZlck5leHQiLCJsZW4iLCJuZXh0IiwiZXJyIiwicXVldWUiLCJyZ3hFeHRyYWN0VXJsSGFzaCIsIkxvYWRlciIsImJhc2VVcmwiLCJwcm9ncmVzcyIsImxvYWRpbmciLCJkZWZhdWx0UXVlcnlTdHJpbmciLCJfYmVmb3JlTWlkZGxld2FyZSIsIl9hZnRlck1pZGRsZXdhcmUiLCJfcmVzb3VyY2VzUGFyc2luZyIsIl9ib3VuZExvYWRSZXNvdXJjZSIsInIiLCJkIiwiX2xvYWRSZXNvdXJjZSIsInJlc291cmNlcyIsIl9xdWV1ZSIsIm9uRXJyb3IiLCJvbkxvYWQiLCJfcGx1Z2lucyIsInBsdWdpbiIsInByZSIsInVzZSIsIl9wcm90ZWN0ZWQiLCJfYWRkIiwicGFyZW50UmVzb3VyY2UiLCJfcHJlcGFyZVVybCIsInBhcmVudCIsImluY29tcGxldGVDaGlsZHJlbiIsImVhY2hDaHVuayIsInJlc2V0IiwiayIsInJlcyIsIl9vblN0YXJ0IiwiX29uQ29tcGxldGUiLCJjaHVuayIsInNldCIsInJlc3VsdCIsInBhdGgiLCJjaGFyQXQiLCJoYXNoIiwic2xpY2UiLCJyZXNvdXJjZSIsImRlcXVldWUiLCJjYWxsIiwiX29uTG9hZCIsInNwbGljZSIsImRlc3Ryb3kiLCJzaGFyZWQiLCJfc2hhcmVkIiwicmVnaXN0ZXJQbHVnaW4iLCJBcHBMb2FkZXJQbHVnaW4iLCJpbml0IiwiYXNzaWduIiwic2hhcmVkTG9hZGVyIiwibG9hZGVyIiwiVGV4dHVyZUxvYWRlciIsIlRleHR1cmUiLCJmcm9tTG9hZGVyIiwidGhlbiIsInRleHR1cmUiLCJjYXRjaCIsIkJsb2IiLCJVcmxfMSIsIlVSTCIsIndlYmtpdFVSTCIsInNyY18xIiwiY3JlYXRlT2JqZWN0VVJMIiwiYmxvYiIsInJldm9rZU9iamVjdFVSTCIsImdldFJlc3BvbnNlSGVhZGVyIiwiaW5wdXQiLCJvdXRwdXQiLCJpbngiLCJieXRlYnVmZmVyIiwiZW5jb2RlZENoYXJJbmRleGVzIiwiam54IiwiY2hhckNvZGVBdCIsImVuY29kZUJpbmFyeSJdLCJzb3VyY2VSb290IjoiIn0=