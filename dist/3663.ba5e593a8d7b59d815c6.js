/*! For license information please see 3663.ba5e593a8d7b59d815c6.js.LICENSE.txt */
"use strict";(self.webpackChunkgear3engine_website=self.webpackChunkgear3engine_website||[]).push([[3663],{3663:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0});var n=i(19),r=i(932),s=i(8950);n.settings.SORTABLE_CHILDREN=!1;var o=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:((t=t||new r.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var i=t.a,n=t.b,r=t.c,s=t.d,o=t.tx,a=t.ty,h=i*e.x+r*e.y+o,l=n*e.x+s*e.y+a;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,l),this.maxY=Math.max(this.maxY,l)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,s=t[0],o=t[1];e=s<e?s:e,i=o<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[2])<e?s:e,i=(o=t[3])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[4])<e?s:e,i=(o=t[5])<i?o:i,n=s>n?s:n,r=o>r?o:r,e=(s=t[6])<e?s:e,i=(o=t[7])<i?o:i,n=s>n?s:n,r=o>r?o:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},t.prototype.addFrame=function(t,e,i,n,r){this.addFrameMatrix(t.worldTransform,e,i,n,r)},t.prototype.addFrameMatrix=function(t,e,i,n,r){var s=t.a,o=t.b,a=t.c,h=t.d,l=t.tx,d=t.ty,u=this.minX,_=this.minY,p=this.maxX,m=this.maxY,c=s*e+a*i+l,f=o*e+h*i+d;u=c<u?c:u,_=f<_?f:_,p=c>p?c:p,m=f>m?f:m,u=(c=s*n+a*i+l)<u?c:u,_=(f=o*n+h*i+d)<_?f:_,p=c>p?c:p,m=f>m?f:m,u=(c=s*e+a*r+l)<u?c:u,_=(f=o*e+h*r+d)<_?f:_,p=c>p?c:p,m=f>m?f:m,u=(c=s*n+a*r+l)<u?c:u,_=(f=o*n+h*r+d)<_?f:_,p=c>p?c:p,m=f>m?f:m,this.minX=u,this.minY=_,this.maxX=p,this.maxY=m},t.prototype.addVertexData=function(t,e,i){for(var n=this.minX,r=this.minY,s=this.maxX,o=this.maxY,a=e;a<i;a+=2){var h=t[a],l=t[a+1];n=h<n?h:n,r=l<r?l:r,s=h>s?h:s,o=l>o?l:o}this.minX=n,this.minY=r,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(t,e,i,n){this.addVerticesMatrix(t.worldTransform,e,i,n)},t.prototype.addVerticesMatrix=function(t,e,i,n,r,s){void 0===r&&(r=0),void 0===s&&(s=r);for(var o=t.a,a=t.b,h=t.c,l=t.d,d=t.tx,u=t.ty,_=this.minX,p=this.minY,m=this.maxX,c=this.maxY,f=i;f<n;f+=2){var E=e[f],T=e[f+1],I=o*E+h*T+d,N=l*T+a*E+u;_=Math.min(_,I-r),m=Math.max(m,I+r),p=Math.min(p,N-s),c=Math.max(c,N+s)}this.minX=_,this.minY=p,this.maxX=m,this.maxY=c},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=s){var o=this.minX,a=this.minY,h=this.maxX,l=this.maxY;this.minX=i<o?i:o,this.minY=n<a?n:a,this.maxX=r>h?r:h,this.maxY=s>l?s:l}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,i,n,r,s){t-=r,e-=s,i+=r,n+=s,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>n?this.maxY:n},t}(),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},a(t,e)};function h(t,e){function i(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}var l,d,u,_,p,m,c,f,E,T,I,N,R,A,O,y,b,P,x,L=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new r.Transform,e.alpha=1,e.visible=!0,e.renderable=!0,e.cullable=!1,e.cullArea=null,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new o,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return h(e,t),e.mixin=function(t){for(var i=Object.keys(t),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(e.prototype,r,Object.getOwnPropertyDescriptor(t,r))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new r.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new r.Rectangle),t=this._localBoundsRect),this._localBounds||(this._localBounds=new o);var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,t);return this.parent=i,this.transform=e,this._bounds=n,this._bounds.updateID+=this._boundsID-s,a},e.prototype.toGlobal=function(t,e,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,i,n,r,s,o,a,h){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),void 0===n&&(n=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===h&&(h=0),this.position.x=t,this.position.y=e,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=h,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new D),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*r.RAD_TO_DEG},set:function(t){this.transform.rotation=t*r.DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask!==t&&(this._mask&&((e=this._mask.maskObject||this._mask)._maskRefCount--,0===e._maskRefCount&&(e.renderable=!0,e.isMask=!1)),this._mask=t,this._mask&&(0===(e=this._mask.maskObject||this._mask)._maskRefCount&&(e.renderable=!1,e.isMask=!0),e._maskRefCount++))},enumerable:!1,configurable:!0}),e}(s.EventEmitter),D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return h(e,t),e}(L);function g(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}L.prototype.displayObjectUpdateTransform=L.prototype.updateTransform,function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(l||(l={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(d||(d={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(u||(u={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(_||(_={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(p||(p={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(m||(m={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(c||(c={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(f||(f={})),function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"}(E||(E={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(T||(T={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(I||(I={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(N||(N={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(R||(R={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(A||(A={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(O||(O={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(b||(b={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(P||(P={})),function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(x||(x={}));var v=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=n.settings.SORTABLE_CHILDREN,e.sortDirty=!1,e}return h(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var n=0;n<e.length;n++)this.addChild(e[n]);else{var r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(t);s.removeItems(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];if(e.length>1)for(var n=0;n<e.length;n++)this.removeChild(e[n]);else{var r=e[0],o=this.children.indexOf(r);if(-1===o)return null;r.parent=null,r.transform._parentID=-1,s.removeItems(this.children,o,1),this._boundsID++,this.onChildrenChange(o),r.emit("removed",this),this.emit("childRemoved",r,this,o)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,s.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var i,n=t,r=e-n;if(r>0&&r<=e){i=this.children.splice(n,r);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(t),s=0;s<i.length;++s)i[s].emit("removed",this),this.emit("childRemoved",i[s],this,s);return i}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,i=this.children.length;e<i;++e){var n=this.children[e];n._lastSortedIndex=e,t||0===n.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(g),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var i=e._mask.maskObject||e._mask;i.calculateBounds(),this._bounds.addBoundsMask(e._bounds,i._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var n=t.prototype.getLocalBounds.call(this,e);if(!i)for(var r=0,s=this.children.length;r<s;++r){var o=this.children[r];o.visible&&o.updateTransform()}return n},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(t){var i=t.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var n,r;if(this.cullArea?(n=this.cullArea,r=this.worldTransform):this._render!==e.prototype._render&&(n=this.getBounds(!0)),n&&i.intersects(n,r))this._render(t);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s],h=a.cullable;a.cullable=h||!this.cullArea,a.render(t),a.cullable=h}}},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){var e=this.filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n])}var r=e&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==b.NONE));if(r&&t.batch.flush(),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t),n=0;for(var s=this.children.length;n<s;++n)this.children[n].render(t)}r&&t.batch.flush(),i&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(L);v.prototype.containerUpdateTransform=v.prototype.updateTransform,e.Bounds=o,e.Container=v,e.DisplayObject=L,e.TemporaryDisplayObject=D}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVhFLEVBQ2V2QixFQUFRdUIsRUFHUixFQUVuQmpCLEtBQUsyUCxRQUFValEsQ0FDbkIsRUFDQXlJLFlBQVksRUFDWkMsY0FBYyxJQUVYMkQsQ0FDWCxDQTVoQjhCLENBNGhCNUIvRixHQU9GK0YsRUFBVXZMLFVBQVVvUCx5QkFBMkI3RCxFQUFVdkwsVUFBVThILGdCQUVuRTdJLEVBQVFNLE9BQVNBLEVBQ2pCTixFQUFRc00sVUFBWUEsRUFDcEJ0TSxFQUFRdUcsY0FBZ0JBLEVBQ3hCdkcsRUFBUXFMLHVCQUF5QkEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9nZWFyM2VuZ2luZS13ZWJzaXRlLy4uLy4uL0dBTUVTLVNJTVVMQVRPUlMtRlVOL2dlYXIzZW5naW5lL3BsdWdpbnMvZzNlLWNhbnZhcy0yZC9ub2RlX21vZHVsZXMvQHBpeGkvZGlzcGxheS9kaXN0L2Nqcy9kaXNwbGF5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQHBpeGkvZGlzcGxheSAtIHY2LjQuMlxuICogQ29tcGlsZWQgVGh1LCAwMiBKdW4gMjAyMiAxNTozOToyNiBVVENcbiAqXG4gKiBAcGl4aS9kaXNwbGF5IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbiAqIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgc2V0dGluZ3MgPSByZXF1aXJlKCdAcGl4aS9zZXR0aW5ncycpO1xudmFyIG1hdGggPSByZXF1aXJlKCdAcGl4aS9tYXRoJyk7XG52YXIgdXRpbHMgPSByZXF1aXJlKCdAcGl4aS91dGlscycpO1xuXG4vKipcbiAqIFNldHMgdGhlIGRlZmF1bHQgdmFsdWUgZm9yIHRoZSBjb250YWluZXIgcHJvcGVydHkgJ3NvcnRhYmxlQ2hpbGRyZW4nLlxuICogSWYgc2V0IHRvIHRydWUsIHRoZSBjb250YWluZXIgd2lsbCBzb3J0IGl0cyBjaGlsZHJlbiBieSB6SW5kZXggdmFsdWVcbiAqIHdoZW4gdXBkYXRlVHJhbnNmb3JtKCkgaXMgY2FsbGVkLCBvciBtYW51YWxseSBpZiBzb3J0Q2hpbGRyZW4oKSBpcyBjYWxsZWQuXG4gKlxuICogVGhpcyBhY3R1YWxseSBjaGFuZ2VzIHRoZSBvcmRlciBvZiBlbGVtZW50cyBpbiB0aGUgYXJyYXksIHNvIHNob3VsZCBiZSB0cmVhdGVkXG4gKiBhcyBhIGJhc2ljIHNvbHV0aW9uIHRoYXQgaXMgbm90IHBlcmZvcm1hbnQgY29tcGFyZWQgdG8gb3RoZXIgc29sdXRpb25zLFxuICogc3VjaCBhcyBAbGluayBodHRwczovL2dpdGh1Yi5jb20vcGl4aWpzL3BpeGktZGlzcGxheVxuICpcbiAqIEFsc28gYmUgYXdhcmUgb2YgdGhhdCB0aGlzIG1heSBub3Qgd29yayBuaWNlbHkgd2l0aCB0aGUgYWRkQ2hpbGRBdCgpIGZ1bmN0aW9uLFxuICogYXMgdGhlIHpJbmRleCBzb3J0aW5nIG1heSBjYXVzZSB0aGUgY2hpbGQgdG8gYXV0b21hdGljYWxseSBzb3J0ZWQgdG8gYW5vdGhlciBwb3NpdGlvbi5cbiAqIEBzdGF0aWNcbiAqIEBjb25zdGFudFxuICogQG5hbWUgU09SVEFCTEVfQ0hJTERSRU5cbiAqIEBtZW1iZXJvZiBQSVhJLnNldHRpbmdzXG4gKiBAdHlwZSB7Ym9vbGVhbn1cbiAqIEBkZWZhdWx0IGZhbHNlXG4gKi9cbnNldHRpbmdzLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOID0gZmFsc2U7XG5cbi8qKlxuICogJ0J1aWxkZXInIHBhdHRlcm4gZm9yIGJvdW5kcyByZWN0YW5nbGVzLlxuICpcbiAqIFRoaXMgY291bGQgYmUgY2FsbGVkIGFuIEF4aXMtQWxpZ25lZCBCb3VuZGluZyBCb3guXG4gKiBJdCBpcyBub3QgYW4gYWN0dWFsIHNoYXBlLiBJdCBpcyBhIG11dGFibGUgdGhpbmc7IG5vICdFTVBUWScgb3IgdGhvc2Uga2luZCBvZiBwcm9ibGVtcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBCb3VuZHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQm91bmRzKCkge1xuICAgICAgICB0aGlzLm1pblggPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5taW5ZID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WCA9IC1JbmZpbml0eTtcbiAgICAgICAgdGhpcy5tYXhZID0gLUluZmluaXR5O1xuICAgICAgICB0aGlzLnJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLnVwZGF0ZUlEID0gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBib3VuZHMgYXJlIGVtcHR5LlxuICAgICAqIEByZXR1cm5zIC0gVHJ1ZSBpZiBlbXB0eS5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pblggPiB0aGlzLm1heFggfHwgdGhpcy5taW5ZID4gdGhpcy5tYXhZO1xuICAgIH07XG4gICAgLyoqIENsZWFycyB0aGUgYm91bmRzIGFuZCByZXNldHMuICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5taW5YID0gSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWluWSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLm1heFggPSAtSW5maW5pdHk7XG4gICAgICAgIHRoaXMubWF4WSA9IC1JbmZpbml0eTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbiByZXR1cm4gUmVjdGFuZ2xlLkVNUFRZIGNvbnN0YW50LCBlaXRoZXIgY29uc3RydWN0IG5ldyByZWN0YW5nbGUsIGVpdGhlciB1c2UgeW91ciByZWN0YW5nbGVcbiAgICAgKiBJdCBpcyBub3QgZ3VhcmFudGVlZCB0aGF0IGl0IHdpbGwgcmV0dXJuIHRlbXBSZWN0XG4gICAgICogQHBhcmFtIHJlY3QgLSBUZW1wb3Jhcnkgb2JqZWN0IHdpbGwgYmUgdXNlZCBpZiBBQUJCIGlzIG5vdCBlbXB0eVxuICAgICAqIEByZXR1cm5zIC0gQSByZWN0YW5nbGUgb2YgdGhlIGJvdW5kc1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuZ2V0UmVjdGFuZ2xlID0gZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHRoaXMubWluWCA+IHRoaXMubWF4WCB8fCB0aGlzLm1pblkgPiB0aGlzLm1heFkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXRoLlJlY3RhbmdsZS5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICByZWN0ID0gcmVjdCB8fCBuZXcgbWF0aC5SZWN0YW5nbGUoMCwgMCwgMSwgMSk7XG4gICAgICAgIHJlY3QueCA9IHRoaXMubWluWDtcbiAgICAgICAgcmVjdC55ID0gdGhpcy5taW5ZO1xuICAgICAgICByZWN0LndpZHRoID0gdGhpcy5tYXhYIC0gdGhpcy5taW5YO1xuICAgICAgICByZWN0LmhlaWdodCA9IHRoaXMubWF4WSAtIHRoaXMubWluWTtcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHNob3VsZCBiZSBpbmxpbmVkIHdoZW4gaXRzIHBvc3NpYmxlLlxuICAgICAqIEBwYXJhbSBwb2ludCAtIFRoZSBwb2ludCB0byBhZGQuXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludCA9IGZ1bmN0aW9uIChwb2ludCkge1xuICAgICAgICB0aGlzLm1pblggPSBNYXRoLm1pbih0aGlzLm1pblgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1heFggPSBNYXRoLm1heCh0aGlzLm1heFgsIHBvaW50LngpO1xuICAgICAgICB0aGlzLm1pblkgPSBNYXRoLm1pbih0aGlzLm1pblksIHBvaW50LnkpO1xuICAgICAgICB0aGlzLm1heFkgPSBNYXRoLm1heCh0aGlzLm1heFksIHBvaW50LnkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBhIHBvaW50LCBhZnRlciB0cmFuc2Zvcm1lZC4gVGhpcyBzaG91bGQgYmUgaW5saW5lZCB3aGVuIGl0cyBwb3NzaWJsZS5cbiAgICAgKiBAcGFyYW0gbWF0cml4XG4gICAgICogQHBhcmFtIHBvaW50XG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRQb2ludE1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHBvaW50KSB7XG4gICAgICAgIHZhciBhID0gbWF0cml4LmEsIGIgPSBtYXRyaXguYiwgYyA9IG1hdHJpeC5jLCBkID0gbWF0cml4LmQsIHR4ID0gbWF0cml4LnR4LCB0eSA9IG1hdHJpeC50eTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHBvaW50LngpICsgKGMgKiBwb2ludC55KSArIHR4O1xuICAgICAgICB2YXIgeSA9IChiICogcG9pbnQueCkgKyAoZCAqIHBvaW50LnkpICsgdHk7XG4gICAgICAgIHRoaXMubWluWCA9IE1hdGgubWluKHRoaXMubWluWCwgeCk7XG4gICAgICAgIHRoaXMubWF4WCA9IE1hdGgubWF4KHRoaXMubWF4WCwgeCk7XG4gICAgICAgIHRoaXMubWluWSA9IE1hdGgubWluKHRoaXMubWluWSwgeSk7XG4gICAgICAgIHRoaXMubWF4WSA9IE1hdGgubWF4KHRoaXMubWF4WSwgeSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgcXVhZCwgbm90IHRyYW5zZm9ybWVkXG4gICAgICogQHBhcmFtIHZlcnRpY2VzIC0gVGhlIHZlcnRzIHRvIGFkZC5cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFF1YWQgPSBmdW5jdGlvbiAodmVydGljZXMpIHtcbiAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgIHZhciBtaW5ZID0gdGhpcy5taW5ZO1xuICAgICAgICB2YXIgbWF4WCA9IHRoaXMubWF4WDtcbiAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgIHZhciB4ID0gdmVydGljZXNbMF07XG4gICAgICAgIHZhciB5ID0gdmVydGljZXNbMV07XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gdmVydGljZXNbMl07XG4gICAgICAgIHkgPSB2ZXJ0aWNlc1szXTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSB2ZXJ0aWNlc1s0XTtcbiAgICAgICAgeSA9IHZlcnRpY2VzWzVdO1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IHZlcnRpY2VzWzZdO1xuICAgICAgICB5ID0gdmVydGljZXNbN107XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIHRyYW5zZm9ybWVkLlxuICAgICAqIEBwYXJhbSB0cmFuc2Zvcm0gLSB0cmFuc2Zvcm0gdG8gYXBwbHlcbiAgICAgKiBAcGFyYW0geDAgLSBsZWZ0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geTAgLSB0b3AgWSBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB4MSAtIHJpZ2h0IFggb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geTEgLSBib3R0b20gWSBvZiBmcmFtZVxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkRnJhbWUgPSBmdW5jdGlvbiAodHJhbnNmb3JtLCB4MCwgeTAsIHgxLCB5MSkge1xuICAgICAgICB0aGlzLmFkZEZyYW1lTWF0cml4KHRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybSwgeDAsIHkwLCB4MSwgeTEpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBzcHJpdGUgZnJhbWUsIG11bHRpcGxpZWQgYnkgbWF0cml4XG4gICAgICogQHBhcmFtIG1hdHJpeCAtIG1hdHJpeCB0byBhcHBseVxuICAgICAqIEBwYXJhbSB4MCAtIGxlZnQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB5MCAtIHRvcCBZIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHgxIC0gcmlnaHQgWCBvZiBmcmFtZVxuICAgICAqIEBwYXJhbSB5MSAtIGJvdHRvbSBZIG9mIGZyYW1lXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZU1hdHJpeCA9IGZ1bmN0aW9uIChtYXRyaXgsIHgwLCB5MCwgeDEsIHkxKSB7XG4gICAgICAgIHZhciBhID0gbWF0cml4LmE7XG4gICAgICAgIHZhciBiID0gbWF0cml4LmI7XG4gICAgICAgIHZhciBjID0gbWF0cml4LmM7XG4gICAgICAgIHZhciBkID0gbWF0cml4LmQ7XG4gICAgICAgIHZhciB0eCA9IG1hdHJpeC50eDtcbiAgICAgICAgdmFyIHR5ID0gbWF0cml4LnR5O1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdmFyIHggPSAoYSAqIHgwKSArIChjICogeTApICsgdHg7XG4gICAgICAgIHZhciB5ID0gKGIgKiB4MCkgKyAoZCAqIHkwKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgeCA9IChhICogeDEpICsgKGMgKiB5MCkgKyB0eDtcbiAgICAgICAgeSA9IChiICogeDEpICsgKGQgKiB5MCkgKyB0eTtcbiAgICAgICAgbWluWCA9IHggPCBtaW5YID8geCA6IG1pblg7XG4gICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICBtYXhYID0geCA+IG1heFggPyB4IDogbWF4WDtcbiAgICAgICAgbWF4WSA9IHkgPiBtYXhZID8geSA6IG1heFk7XG4gICAgICAgIHggPSAoYSAqIHgwKSArIChjICogeTEpICsgdHg7XG4gICAgICAgIHkgPSAoYiAqIHgwKSArIChkICogeTEpICsgdHk7XG4gICAgICAgIG1pblggPSB4IDwgbWluWCA/IHggOiBtaW5YO1xuICAgICAgICBtaW5ZID0geSA8IG1pblkgPyB5IDogbWluWTtcbiAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgIG1heFkgPSB5ID4gbWF4WSA/IHkgOiBtYXhZO1xuICAgICAgICB4ID0gKGEgKiB4MSkgKyAoYyAqIHkxKSArIHR4O1xuICAgICAgICB5ID0gKGIgKiB4MSkgKyAoZCAqIHkxKSArIHR5O1xuICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgbWluWSA9IHkgPCBtaW5ZID8geSA6IG1pblk7XG4gICAgICAgIG1heFggPSB4ID4gbWF4WCA/IHggOiBtYXhYO1xuICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gbWluWDtcbiAgICAgICAgdGhpcy5taW5ZID0gbWluWTtcbiAgICAgICAgdGhpcy5tYXhYID0gbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gbWF4WTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgc2NyZWVuIHZlcnRpY2VzIGZyb20gYXJyYXlcbiAgICAgKiBAcGFyYW0gdmVydGV4RGF0YSAtIGNhbGN1bGF0ZWQgdmVydGljZXNcbiAgICAgKiBAcGFyYW0gYmVnaW5PZmZzZXQgLSBiZWdpbiBvZmZzZXRcbiAgICAgKiBAcGFyYW0gZW5kT2Zmc2V0IC0gZW5kIG9mZnNldCwgZXhjbHVkZWRcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZFZlcnRleERhdGEgPSBmdW5jdGlvbiAodmVydGV4RGF0YSwgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgZm9yICh2YXIgaSA9IGJlZ2luT2Zmc2V0OyBpIDwgZW5kT2Zmc2V0OyBpICs9IDIpIHtcbiAgICAgICAgICAgIHZhciB4ID0gdmVydGV4RGF0YVtpXTtcbiAgICAgICAgICAgIHZhciB5ID0gdmVydGV4RGF0YVtpICsgMV07XG4gICAgICAgICAgICBtaW5YID0geCA8IG1pblggPyB4IDogbWluWDtcbiAgICAgICAgICAgIG1pblkgPSB5IDwgbWluWSA/IHkgOiBtaW5ZO1xuICAgICAgICAgICAgbWF4WCA9IHggPiBtYXhYID8geCA6IG1heFg7XG4gICAgICAgICAgICBtYXhZID0geSA+IG1heFkgPyB5IDogbWF4WTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkIGFuIGFycmF5IG9mIG1lc2ggdmVydGljZXNcbiAgICAgKiBAcGFyYW0gdHJhbnNmb3JtIC0gbWVzaCB0cmFuc2Zvcm1cbiAgICAgKiBAcGFyYW0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRWZXJ0aWNlcyA9IGZ1bmN0aW9uICh0cmFuc2Zvcm0sIHZlcnRpY2VzLCBiZWdpbk9mZnNldCwgZW5kT2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuYWRkVmVydGljZXNNYXRyaXgodHJhbnNmb3JtLndvcmxkVHJhbnNmb3JtLCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGQgYW4gYXJyYXkgb2YgbWVzaCB2ZXJ0aWNlcy5cbiAgICAgKiBAcGFyYW0gbWF0cml4IC0gbWVzaCBtYXRyaXhcbiAgICAgKiBAcGFyYW0gdmVydGljZXMgLSBtZXNoIGNvb3JkaW5hdGVzIGluIGFycmF5XG4gICAgICogQHBhcmFtIGJlZ2luT2Zmc2V0IC0gYmVnaW4gb2Zmc2V0XG4gICAgICogQHBhcmFtIGVuZE9mZnNldCAtIGVuZCBvZmZzZXQsIGV4Y2x1ZGVkXG4gICAgICogQHBhcmFtIHBhZFggLSB4IHBhZGRpbmdcbiAgICAgKiBAcGFyYW0gcGFkWSAtIHkgcGFkZGluZ1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkVmVydGljZXNNYXRyaXggPSBmdW5jdGlvbiAobWF0cml4LCB2ZXJ0aWNlcywgYmVnaW5PZmZzZXQsIGVuZE9mZnNldCwgcGFkWCwgcGFkWSkge1xuICAgICAgICBpZiAocGFkWCA9PT0gdm9pZCAwKSB7IHBhZFggPSAwOyB9XG4gICAgICAgIGlmIChwYWRZID09PSB2b2lkIDApIHsgcGFkWSA9IHBhZFg7IH1cbiAgICAgICAgdmFyIGEgPSBtYXRyaXguYTtcbiAgICAgICAgdmFyIGIgPSBtYXRyaXguYjtcbiAgICAgICAgdmFyIGMgPSBtYXRyaXguYztcbiAgICAgICAgdmFyIGQgPSBtYXRyaXguZDtcbiAgICAgICAgdmFyIHR4ID0gbWF0cml4LnR4O1xuICAgICAgICB2YXIgdHkgPSBtYXRyaXgudHk7XG4gICAgICAgIHZhciBtaW5YID0gdGhpcy5taW5YO1xuICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgdmFyIG1heFggPSB0aGlzLm1heFg7XG4gICAgICAgIHZhciBtYXhZID0gdGhpcy5tYXhZO1xuICAgICAgICBmb3IgKHZhciBpID0gYmVnaW5PZmZzZXQ7IGkgPCBlbmRPZmZzZXQ7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHJhd1ggPSB2ZXJ0aWNlc1tpXTtcbiAgICAgICAgICAgIHZhciByYXdZID0gdmVydGljZXNbaSArIDFdO1xuICAgICAgICAgICAgdmFyIHggPSAoYSAqIHJhd1gpICsgKGMgKiByYXdZKSArIHR4O1xuICAgICAgICAgICAgdmFyIHkgPSAoZCAqIHJhd1kpICsgKGIgKiByYXdYKSArIHR5O1xuICAgICAgICAgICAgbWluWCA9IE1hdGgubWluKG1pblgsIHggLSBwYWRYKTtcbiAgICAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCB4ICsgcGFkWCk7XG4gICAgICAgICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgeSAtIHBhZFkpO1xuICAgICAgICAgICAgbWF4WSA9IE1hdGgubWF4KG1heFksIHkgKyBwYWRZKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1pblggPSBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgICAgICB0aGlzLm1heFggPSBtYXhYO1xuICAgICAgICB0aGlzLm1heFkgPSBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciB7QGxpbmsgQm91bmRzfS5cbiAgICAgKiBAcGFyYW0gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZFxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzID0gZnVuY3Rpb24gKGJvdW5kcykge1xuICAgICAgICB2YXIgbWluWCA9IHRoaXMubWluWDtcbiAgICAgICAgdmFyIG1pblkgPSB0aGlzLm1pblk7XG4gICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICB2YXIgbWF4WSA9IHRoaXMubWF4WTtcbiAgICAgICAgdGhpcy5taW5YID0gYm91bmRzLm1pblggPCBtaW5YID8gYm91bmRzLm1pblggOiBtaW5YO1xuICAgICAgICB0aGlzLm1pblkgPSBib3VuZHMubWluWSA8IG1pblkgPyBib3VuZHMubWluWSA6IG1pblk7XG4gICAgICAgIHRoaXMubWF4WCA9IGJvdW5kcy5tYXhYID4gbWF4WCA/IGJvdW5kcy5tYXhYIDogbWF4WDtcbiAgICAgICAgdGhpcy5tYXhZID0gYm91bmRzLm1heFkgPiBtYXhZID8gYm91bmRzLm1heFkgOiBtYXhZO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIEJvdW5kcy5cbiAgICAgKiBAcGFyYW0gYm91bmRzIC0gVGhlIEJvdW5kcyB0byBiZSBhZGRlZC5cbiAgICAgKiBAcGFyYW0gbWFzayAtIFRPRE9cbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hc2sgPSBmdW5jdGlvbiAoYm91bmRzLCBtYXNrKSB7XG4gICAgICAgIHZhciBfbWluWCA9IGJvdW5kcy5taW5YID4gbWFzay5taW5YID8gYm91bmRzLm1pblggOiBtYXNrLm1pblg7XG4gICAgICAgIHZhciBfbWluWSA9IGJvdW5kcy5taW5ZID4gbWFzay5taW5ZID8gYm91bmRzLm1pblkgOiBtYXNrLm1pblk7XG4gICAgICAgIHZhciBfbWF4WCA9IGJvdW5kcy5tYXhYIDwgbWFzay5tYXhYID8gYm91bmRzLm1heFggOiBtYXNrLm1heFg7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgbWFzay5tYXhZID8gYm91bmRzLm1heFkgOiBtYXNrLm1heFk7XG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb3RoZXIgQm91bmRzLCBtdWx0aXBsaWVkIGJ5IG1hdHJpeC4gQm91bmRzIHNob3VsZG4ndCBiZSBlbXB0eS5cbiAgICAgKiBAcGFyYW0gYm91bmRzIC0gb3RoZXIgYm91bmRzXG4gICAgICogQHBhcmFtIG1hdHJpeCAtIG11bHRpcGxpY2F0b3JcbiAgICAgKi9cbiAgICBCb3VuZHMucHJvdG90eXBlLmFkZEJvdW5kc01hdHJpeCA9IGZ1bmN0aW9uIChib3VuZHMsIG1hdHJpeCkge1xuICAgICAgICB0aGlzLmFkZEZyYW1lTWF0cml4KG1hdHJpeCwgYm91bmRzLm1pblgsIGJvdW5kcy5taW5ZLCBib3VuZHMubWF4WCwgYm91bmRzLm1heFkpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWRkcyBvdGhlciBCb3VuZHMsIG1hc2tlZCB3aXRoIFJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gYm91bmRzIC0gVE9ET1xuICAgICAqIEBwYXJhbSBhcmVhIC0gVE9ET1xuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUuYWRkQm91bmRzQXJlYSA9IGZ1bmN0aW9uIChib3VuZHMsIGFyZWEpIHtcbiAgICAgICAgdmFyIF9taW5YID0gYm91bmRzLm1pblggPiBhcmVhLnggPyBib3VuZHMubWluWCA6IGFyZWEueDtcbiAgICAgICAgdmFyIF9taW5ZID0gYm91bmRzLm1pblkgPiBhcmVhLnkgPyBib3VuZHMubWluWSA6IGFyZWEueTtcbiAgICAgICAgdmFyIF9tYXhYID0gYm91bmRzLm1heFggPCBhcmVhLnggKyBhcmVhLndpZHRoID8gYm91bmRzLm1heFggOiAoYXJlYS54ICsgYXJlYS53aWR0aCk7XG4gICAgICAgIHZhciBfbWF4WSA9IGJvdW5kcy5tYXhZIDwgYXJlYS55ICsgYXJlYS5oZWlnaHQgPyBib3VuZHMubWF4WSA6IChhcmVhLnkgKyBhcmVhLmhlaWdodCk7XG4gICAgICAgIGlmIChfbWluWCA8PSBfbWF4WCAmJiBfbWluWSA8PSBfbWF4WSkge1xuICAgICAgICAgICAgdmFyIG1pblggPSB0aGlzLm1pblg7XG4gICAgICAgICAgICB2YXIgbWluWSA9IHRoaXMubWluWTtcbiAgICAgICAgICAgIHZhciBtYXhYID0gdGhpcy5tYXhYO1xuICAgICAgICAgICAgdmFyIG1heFkgPSB0aGlzLm1heFk7XG4gICAgICAgICAgICB0aGlzLm1pblggPSBfbWluWCA8IG1pblggPyBfbWluWCA6IG1pblg7XG4gICAgICAgICAgICB0aGlzLm1pblkgPSBfbWluWSA8IG1pblkgPyBfbWluWSA6IG1pblk7XG4gICAgICAgICAgICB0aGlzLm1heFggPSBfbWF4WCA+IG1heFggPyBfbWF4WCA6IG1heFg7XG4gICAgICAgICAgICB0aGlzLm1heFkgPSBfbWF4WSA+IG1heFkgPyBfbWF4WSA6IG1heFk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhZHMgYm91bmRzIG9iamVjdCwgbWFraW5nIGl0IGdyb3cgaW4gYWxsIGRpcmVjdGlvbnMuXG4gICAgICogSWYgcGFkZGluZ1kgaXMgb21pdHRlZCwgYm90aCBwYWRkaW5nWCBhbmQgcGFkZGluZ1kgd2lsbCBiZSBzZXQgdG8gcGFkZGluZ1guXG4gICAgICogQHBhcmFtIHBhZGRpbmdYIC0gVGhlIGhvcml6b250YWwgcGFkZGluZyBhbW91bnQuXG4gICAgICogQHBhcmFtIHBhZGRpbmdZIC0gVGhlIHZlcnRpY2FsIHBhZGRpbmcgYW1vdW50LlxuICAgICAqL1xuICAgIEJvdW5kcy5wcm90b3R5cGUucGFkID0gZnVuY3Rpb24gKHBhZGRpbmdYLCBwYWRkaW5nWSkge1xuICAgICAgICBpZiAocGFkZGluZ1ggPT09IHZvaWQgMCkgeyBwYWRkaW5nWCA9IDA7IH1cbiAgICAgICAgaWYgKHBhZGRpbmdZID09PSB2b2lkIDApIHsgcGFkZGluZ1kgPSBwYWRkaW5nWDsgfVxuICAgICAgICBpZiAoIXRoaXMuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICB0aGlzLm1pblggLT0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1heFggKz0gcGFkZGluZ1g7XG4gICAgICAgICAgICB0aGlzLm1pblkgLT0gcGFkZGluZ1k7XG4gICAgICAgICAgICB0aGlzLm1heFkgKz0gcGFkZGluZ1k7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgcGFkZGVkIGZyYW1lLiAoeDAsIHkwKSBzaG91bGQgYmUgc3RyaWN0bHkgbGVzcyB0aGFuICh4MSwgeTEpXG4gICAgICogQHBhcmFtIHgwIC0gbGVmdCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHkwIC0gdG9wIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0geDEgLSByaWdodCBYIG9mIGZyYW1lXG4gICAgICogQHBhcmFtIHkxIC0gYm90dG9tIFkgb2YgZnJhbWVcbiAgICAgKiBAcGFyYW0gcGFkWCAtIHBhZGRpbmcgWFxuICAgICAqIEBwYXJhbSBwYWRZIC0gcGFkZGluZyBZXG4gICAgICovXG4gICAgQm91bmRzLnByb3RvdHlwZS5hZGRGcmFtZVBhZCA9IGZ1bmN0aW9uICh4MCwgeTAsIHgxLCB5MSwgcGFkWCwgcGFkWSkge1xuICAgICAgICB4MCAtPSBwYWRYO1xuICAgICAgICB5MCAtPSBwYWRZO1xuICAgICAgICB4MSArPSBwYWRYO1xuICAgICAgICB5MSArPSBwYWRZO1xuICAgICAgICB0aGlzLm1pblggPSB0aGlzLm1pblggPCB4MCA/IHRoaXMubWluWCA6IHgwO1xuICAgICAgICB0aGlzLm1heFggPSB0aGlzLm1heFggPiB4MSA/IHRoaXMubWF4WCA6IHgxO1xuICAgICAgICB0aGlzLm1pblkgPSB0aGlzLm1pblkgPCB5MCA/IHRoaXMubWluWSA6IHkwO1xuICAgICAgICB0aGlzLm1heFkgPSB0aGlzLm1heFkgPiB5MSA/IHRoaXMubWF4WSA6IHkxO1xuICAgIH07XG4gICAgcmV0dXJuIEJvdW5kcztcbn0oKSk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0gfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxuXG4vKipcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBhbGwgb2JqZWN0cyB0aGF0IGFyZSByZW5kZXJlZCBvbiB0aGUgc2NyZWVuLlxuICpcbiAqIFRoaXMgaXMgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIGNhbiBub3QgYmUgdXNlZCBvbiBpdHMgb3duOyByYXRoZXIgaXQgc2hvdWxkIGJlIGV4dGVuZGVkLlxuICpcbiAqICMjIERpc3BsYXkgb2JqZWN0cyBpbXBsZW1lbnRlZCBpbiBQaXhpSlNcbiAqXG4gKiB8IERpc3BsYXkgT2JqZWN0ICAgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHxcbiAqIHwge0BsaW5rIFBJWEkuQ29udGFpbmVyfSAgICAgICAgICB8IEFkZHMgc3VwcG9ydCBmb3IgYGNoaWxkcmVuYCB0byBEaXNwbGF5T2JqZWN0ICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkdyYXBoaWNzfSAgICAgICAgICAgfCBTaGFwZS1kcmF3aW5nIGRpc3BsYXkgb2JqZWN0IHNpbWlsYXIgdG8gdGhlIENhbnZhcyBBUEkgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TcHJpdGV9ICAgICAgICAgICAgIHwgRHJhd3MgdGV4dHVyZXMgKGkuZS4gaW1hZ2VzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuVGV4dH0gICAgICAgICAgICAgICB8IERyYXdzIHRleHQgdXNpbmcgdGhlIENhbnZhcyBBUEkgaW50ZXJuYWxseSAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLkJpdG1hcFRleHR9ICAgICAgICAgfCBNb3JlIHNjYWxlYWJsZSBzb2x1dGlvbiBmb3IgdGV4dCByZW5kZXJpbmcsIHJldXNpbmcgZ2x5cGggdGV4dHVyZXMgICAgfFxuICogfCB7QGxpbmsgUElYSS5UaWxpbmdTcHJpdGV9ICAgICAgIHwgRHJhd3MgdGV4dHVyZXMvaW1hZ2VzIGluIGEgdGlsZWQgZmFzaGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuQW5pbWF0ZWRTcHJpdGV9ICAgICB8IERyYXdzIGFuIGFuaW1hdGlvbiBvZiBtdWx0aXBsZSBpbWFnZXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLk1lc2h9ICAgICAgICAgICAgICAgfCBQcm92aWRlcyBhIGxvd2VyLWxldmVsIEFQSSBmb3IgZHJhd2luZyBtZXNoZXMgd2l0aCBjdXN0b20gZGF0YSAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5OaW5lU2xpY2VQbGFuZX0gICAgIHwgTWVzaC1yZWxhdGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwge0BsaW5rIFBJWEkuU2ltcGxlTWVzaH0gICAgICAgICB8IHY0LWNvbXBhdGlibGUgbWVzaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IHtAbGluayBQSVhJLlNpbXBsZVBsYW5lfSAgICAgICAgfCBNZXNoLXJlbGF0ZWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxuICogfCB7QGxpbmsgUElYSS5TaW1wbGVSb3BlfSAgICAgICAgIHwgTWVzaC1yZWxhdGVkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqXG4gKiAjIyBUcmFuc2Zvcm1zXG4gKlxuICogVGhlIFt0cmFuc2Zvcm1de0BsaW5rIERpc3BsYXlPYmplY3QjdHJhbnNmb3JtfSBvZiBhIGRpc3BsYXkgb2JqZWN0IGRlc2NyaWJlcyB0aGUgcHJvamVjdGlvbiBmcm9tIGl0c1xuICogbG9jYWwgY29vcmRpbmF0ZSBzcGFjZSB0byBpdHMgcGFyZW50J3MgbG9jYWwgY29vcmRpbmF0ZSBzcGFjZS4gVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBkZXJpdmVkXG4gKiBmcm9tIHRoZSB0cmFuc2Zvcm06XG4gKlxuICogPHRhYmxlPlxuICogICA8dGhlYWQ+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRoPlByb3BlcnR5PC90aD5cbiAqICAgICAgIDx0aD5EZXNjcmlwdGlvbjwvdGg+XG4gKiAgICAgPC90cj5cbiAqICAgPC90aGVhZD5cbiAqICAgPHRib2R5PlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5bcGl2b3Rde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNwaXZvdH08L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBJbnZhcmlhbnQgdW5kZXIgcm90YXRpb24sIHNjYWxpbmcsIGFuZCBza2V3aW5nLiBUaGUgcHJvamVjdGlvbiBvZiBpbnRvIHRoZSBwYXJlbnQncyBzcGFjZSBvZiB0aGUgcGl2b3RcbiAqICAgICAgICAgaXMgZXF1YWwgdG8gcG9zaXRpb24sIHJlZ2FyZGxlc3Mgb2YgdGhlIG90aGVyIHRocmVlIHRyYW5zZm9ybWF0aW9ucy4gSW4gb3RoZXIgd29yZHMsIEl0IGlzIHRoZSBjZW50ZXIgb2ZcbiAqICAgICAgICAgcm90YXRpb24sIHNjYWxpbmcsIGFuZCBza2V3aW5nLlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5bcG9zaXRpb25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNwb3NpdGlvbn08L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBUcmFuc2xhdGlvbi4gVGhpcyBpcyB0aGUgcG9zaXRpb24gb2YgdGhlIFtwaXZvdF17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I3Bpdm90fSBpbiB0aGUgcGFyZW50J3MgbG9jYWxcbiAqICAgICAgICAgc3BhY2UuIFRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBwaXZvdCBpcyB0aGUgb3JpZ2luICgwLDApLiBJZiB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHlvdXIgZGlzcGxheSBvYmplY3RcbiAqICAgICAgICAgaXMgKDAsMCkgaW4gaXRzIGxvY2FsIHNwYWNlLCB0aGVuIHRoZSBwb3NpdGlvbiB3aWxsIGJlIGl0cyB0b3AtbGVmdCBjb3JuZXIgaW4gdGhlIHBhcmVudCdzIGxvY2FsIHNwYWNlLlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5bc2NhbGVde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNzY2FsZX08L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBTY2FsaW5nLiBUaGlzIHdpbGwgc3RyZXRjaCAob3IgY29tcHJlc3MpIHRoZSBkaXNwbGF5IG9iamVjdCdzIHByb2plY3Rpb24uIFRoZSBzY2FsZSBmYWN0b3JzIGFyZSBhbG9uZyB0aGVcbiAqICAgICAgICAgbG9jYWwgY29vcmRpbmF0ZSBheGVzLiBJbiBvdGhlciB3b3JkcywgdGhlIGRpc3BsYXkgb2JqZWN0IGlzIHNjYWxlZCBiZWZvcmUgcm90YXRlZCBvciBza2V3ZWQuIFRoZSBjZW50ZXJcbiAqICAgICAgICAgb2Ygc2NhbGluZyBpcyB0aGUgW3Bpdm90XXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjcGl2b3R9LlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5bcm90YXRpb25de0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNyb3RhdGlvbn08L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICAgUm90YXRpb24uIFRoaXMgd2lsbCByb3RhdGUgdGhlIGRpc3BsYXkgb2JqZWN0J3MgcHJvamVjdGlvbiBieSB0aGlzIGFuZ2xlIChpbiByYWRpYW5zKS5cbiAqICAgICAgIDwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+W3NrZXdde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCNza2V3fTwvdGQ+XG4gKiAgICAgICA8dGQ+XG4gKiAgICAgICAgIDxwPlNrZXdpbmcuIFRoaXMgY2FuIGJlIHVzZWQgdG8gZGVmb3JtIGEgcmVjdGFuZ3VsYXIgZGlzcGxheSBvYmplY3QgaW50byBhIHBhcmFsbGVsb2dyYW0uPC9wPlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgSW4gUGl4aUpTLCBza2V3IGhhcyBhIHNsaWdodGx5IGRpZmZlcmVudCBiZWhhdmlvdXIgdGhhbiB0aGUgY29udmVudGlvbmFsIG1lYW5pbmcuIEl0IGNhbiBiZVxuICogICAgICAgICB0aG91Z2h0IG9mIHRoZSBuZXQgcm90YXRpb24gYXBwbGllZCB0byB0aGUgY29vcmRpbmF0ZSBheGVzIChzZXBhcmF0ZWx5KS4gRm9yIGV4YW1wbGUsIGlmIFwic2tldy54XCIgaXNcbiAqICAgICAgICAg4o26IGFuZCBcInNrZXcueVwiIGlzIM6yLCB0aGVuIHRoZSBsaW5lIHggPSAwIHdpbGwgYmUgcm90YXRlZCBieSDijbogKHkgPSAteCpjb3TijbopIGFuZCB0aGUgbGluZSB5ID0gMCB3aWxsIGJlXG4gKiAgICAgICAgIHJvdGF0ZWQgYnkgzrIgKHkgPSB4KnRhbs6yKS4gQSBsaW5lIHkgPSB4KnRhbs+0IChpLmUuIGEgbGluZSBhdCBhbmdsZSDPtCB0byB0aGUgeC1heGlzIGluIGxvY2FsLXNwYWNlKSB3aWxsXG4gKiAgICAgICAgIGJlIHJvdGF0ZWQgYnkgYW4gYW5nbGUgYmV0d2VlbiDijbogYW5kIM6yLlxuICogICAgICAgICA8L3A+XG4gKiAgICAgICAgIDxwPlxuICogICAgICAgICBJdCBjYW4gYmUgb2JzZXJ2ZWQgdGhhdCBpZiBza2V3IGlzIGFwcGxpZWQgZXF1YWxseSB0byBib3RoIGF4ZXMsIHRoZW4gaXQgd2lsbCBiZSBlcXVpdmFsZW50IHRvIGFwcGx5aW5nXG4gKiAgICAgICAgIGEgcm90YXRpb24uIEluZGVlZCwgaWYgXCJza2V3LnhcIiA9IC3PtCBhbmQgXCJza2V3LnlcIiA9IM+0LCBpdCB3aWxsIHByb2R1Y2UgYW4gZXF1aXZhbGVudCBvZiBcInJvdGF0aW9uXCIgPSDPtC5cbiAqICAgICAgICAgPC9wPlxuICogICAgICAgICA8cD5cbiAqICAgICAgICAgQW5vdGhlciBxdWl0ZSBpbnRlcmVzdGluZyBvYnNlcnZhdGlvbiBpcyB0aGF0IFwic2tldy54XCIsIFwic2tldy55XCIsIHJvdGF0aW9uIGFyZSBjb21tdW50YXRpdmUgb3BlcmF0aW9ucy4gSW5kZWVkLFxuICogICAgICAgICBiZWNhdXNlIHJvdGF0aW9uIGlzIGVzc2VudGlhbGx5IGEgY2FyZWZ1bCBjb21iaW5hdGlvbiBvZiB0aGUgdHdvLlxuICogICAgICAgICA8L3A+XG4gKiAgICAgICA8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPmFuZ2xlPC90ZD5cbiAqICAgICAgIDx0ZD5Sb3RhdGlvbi4gVGhpcyBpcyBhbiBhbGlhcyBmb3IgW3JvdGF0aW9uXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3Qjcm90YXRpb259LCBidXQgaW4gZGVncmVlcy48L3RkPlxuICogICAgIDwvdHI+XG4gKiAgICAgPHRyPlxuICogICAgICAgPHRkPng8L3RkPlxuICogICAgICAgPHRkPlRyYW5zbGF0aW9uLiBUaGlzIGlzIGFuIGFsaWFzIGZvciBwb3NpdGlvbi54ITwvdGQ+XG4gKiAgICAgPC90cj5cbiAqICAgICA8dHI+XG4gKiAgICAgICA8dGQ+eTwvdGQ+XG4gKiAgICAgICA8dGQ+VHJhbnNsYXRpb24uIFRoaXMgaXMgYW4gYWxpYXMgZm9yIHBvc2l0aW9uLnkhPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD53aWR0aDwvdGQ+XG4gKiAgICAgICA8dGQ+XG4gKiAgICAgICAgIEltcGxlbWVudGVkIGluIFtDb250YWluZXJde0BsaW5rIFBJWEkuQ29udGFpbmVyfS4gU2NhbGluZy4gVGhlIHdpZHRoIHByb3BlcnR5IGNhbGN1bGF0ZXMgc2NhbGUueCBieSBkaXZpZGluZ1xuICogICAgICAgICB0aGUgXCJyZXF1ZXN0ZWRcIiB3aWR0aCBieSB0aGUgbG9jYWwgYm91bmRpbmcgYm94IHdpZHRoLiBJdCBpcyBpbmRpcmVjdGx5IGFuIGFic3RyYWN0aW9uIG92ZXIgc2NhbGUueCwgYW5kIHRoZXJlXG4gKiAgICAgICAgIGlzIG5vIGNvbmNlcHQgb2YgdXNlci1kZWZpbmVkIHdpZHRoLlxuICogICAgICAgPC90ZD5cbiAqICAgICA8L3RyPlxuICogICAgIDx0cj5cbiAqICAgICAgIDx0ZD5oZWlnaHQ8L3RkPlxuICogICAgICAgPHRkPlxuICogICAgICAgICBJbXBsZW1lbnRlZCBpbiBbQ29udGFpbmVyXXtAbGluayBQSVhJLkNvbnRhaW5lcn0uIFNjYWxpbmcuIFRoZSBoZWlnaHQgcHJvcGVydHkgY2FsY3VsYXRlcyBzY2FsZS55IGJ5IGRpdmlkaW5nXG4gKiAgICAgICAgIHRoZSBcInJlcXVlc3RlZFwiIGhlaWdodCBieSB0aGUgbG9jYWwgYm91bmRpbmcgYm94IGhlaWdodC4gSXQgaXMgaW5kaXJlY3RseSBhbiBhYnN0cmFjdGlvbiBvdmVyIHNjYWxlLnksIGFuZCB0aGVyZVxuICogICAgICAgICBpcyBubyBjb25jZXB0IG9mIHVzZXItZGVmaW5lZCBoZWlnaHQuXG4gKiAgICAgICA8L3RkPlxuICogICAgIDwvdHI+XG4gKiAgIDwvdGJvZHk+XG4gKiA8L3RhYmxlPlxuICpcbiAqICMjIEJvdW5kc1xuICpcbiAqIFRoZSBib3VuZHMgb2YgYSBkaXNwbGF5IG9iamVjdCBpcyBkZWZpbmVkIGJ5IHRoZSBtaW5pbXVtIGF4aXMtYWxpZ25lZCByZWN0YW5nbGUgaW4gd29ybGQgc3BhY2UgdGhhdCBjYW4gZml0XG4gKiBhcm91bmQgaXQuIFRoZSBhYnN0cmFjdCBgY2FsY3VsYXRlQm91bmRzYCBtZXRob2QgaXMgcmVzcG9uc2libGUgZm9yIHByb3ZpZGluZyBpdCAoYW5kIGl0IHNob3VsZCB1c2UgdGhlXG4gKiBgd29ybGRUcmFuc2Zvcm1gIHRvIGNhbGN1bGF0ZSBpbiB3b3JsZCBzcGFjZSkuXG4gKlxuICogVGhlcmUgYXJlIGEgZmV3IGFkZGl0aW9uYWwgdHlwZXMgb2YgYm91bmRpbmcgYm94ZXM6XG4gKlxuICogfCBCb3VuZHMgICAgICAgICAgICAgICAgfCBEZXNjcmlwdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcbiAqIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tIHwgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSB8XG4gKiB8IFdvcmxkIEJvdW5kcyAgICAgICAgICB8IFRoaXMgaXMgc3lub255bW91cyBpcyB0aGUgcmVndWxhciBib3VuZHMgZGVzY3JpYmVkIGFib3ZlLiBTZWUgYGdldEJvdW5kcygpYC4gICAgICAgICAgICAgfFxuICogfCBMb2NhbCBCb3VuZHMgICAgICAgICAgfCBUaGlzIHRoZSBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94IGluIHRoZSBwYXJlbnQncyBsb2NhbCBzcGFjZS4gU2VlIGBnZXRMb2NhbEJvdW5kcygpYC4gIHxcbiAqIHwgUmVuZGVyIEJvdW5kcyAgICAgICAgIHwgVGhlIGJvdW5kcywgYnV0IGluY2x1ZGluZyBleHRyYSByZW5kZXJpbmcgZWZmZWN0cyBsaWtlIGZpbHRlciBwYWRkaW5nLiAgICAgICAgICAgICAgICAgICB8XG4gKiB8IFByb2plY3RlZCBCb3VuZHMgICAgICB8IFRoZSBib3VuZHMgb2YgdGhlIHByb2plY3RlZCBkaXNwbGF5IG9iamVjdCBvbnRvIHRoZSBzY3JlZW4uIFVzdWFsbHkgZXF1YWxzIHdvcmxkIGJvdW5kcy4gfFxuICogfCBSZWxhdGl2ZSBCb3VuZHMgICAgICAgfCBUaGUgYm91bmRzIG9mIGEgZGlzcGxheSBvYmplY3Qgd2hlbiBwcm9qZWN0ZWQgb250byBhIGFuY2VzdG9yJ3MgKG9yIHBhcmVudCdzKSBzcGFjZS4gICAgIHxcbiAqIHwgTmF0dXJhbCBCb3VuZHMgICAgICAgIHwgVGhlIGJvdW5kcyBvZiBhbiBvYmplY3QgaW4gaXRzIG93biBsb2NhbCBzcGFjZSAobm90IHBhcmVudCdzIHNwYWNlLCBsaWtlIGluIGxvY2FsIGJvdW5kcyl8XG4gKiB8IENvbnRlbnQgQm91bmRzICAgICAgICB8IFRoZSBuYXR1cmFsIGJvdW5kcyB3aGVuIGV4Y2x1ZGluZyBhbGwgY2hpbGRyZW4gb2YgYSBgQ29udGFpbmVyYC4gICAgICAgICAgICAgICAgICAgICAgICAgfFxuICpcbiAqICMjIyBjYWxjdWxhdGVCb3VuZHNcbiAqXG4gKiBbQ29udGFpbmVyXXtAbGluayBDb250YWluZXJ9IGFscmVhZHkgaW1wbGVtZW50cyBgY2FsY3VsYXRlQm91bmRzYCBpbiBhIG1hbm5lciB0aGF0IGluY2x1ZGVzIGNoaWxkcmVuLlxuICpcbiAqIEJ1dCBmb3IgYSBub24tQ29udGFpbmVyIGRpc3BsYXkgb2JqZWN0LCB0aGUgYGNhbGN1bGF0ZUJvdW5kc2AgbWV0aG9kIG11c3QgYmUgb3ZlcnJpZGRlbiBpbiBvcmRlciBmb3IgYGdldEJvdW5kc2AgYW5kXG4gKiBgZ2V0TG9jYWxCb3VuZHNgIHRvIHdvcmsuIFRoaXMgbWV0aG9kIG11c3Qgd3JpdGUgdGhlIGJvdW5kcyBpbnRvIGB0aGlzLl9ib3VuZHNgLlxuICpcbiAqIEdlbmVyYWxseSwgdGhlIGZvbGxvd2luZyB0ZWNobmlxdWUgd29ya3MgZm9yIG1vc3Qgc2ltcGxlIGNhc2VzOiB0YWtlIHRoZSBsaXN0IG9mIHBvaW50c1xuICogZm9ybWluZyB0aGUgXCJodWxsXCIgb2YgdGhlIG9iamVjdCAoaS5lLiBvdXRsaW5lIG9mIHRoZSBvYmplY3QncyBzaGFwZSksIGFuZCB0aGVuIGFkZCB0aGVtXG4gKiB1c2luZyB7QGxpbmsgUElYSS5Cb3VuZHMjYWRkUG9pbnRNYXRyaXh9LlxuICpcbiAqIGBgYGpzXG4gKiBjYWxjdWxhdGVCb3VuZHMoKTogdm9pZFxuICoge1xuICogICAgIGNvbnN0IHBvaW50cyA9IFsuLi5dO1xuICpcbiAqICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHBvaW50cy5sZW5ndGg7IGkgPCBqOyBpKyspXG4gKiAgICAge1xuICogICAgICAgICB0aGlzLl9ib3VuZHMuYWRkUG9pbnRNYXRyaXgodGhpcy53b3JsZFRyYW5zZm9ybSwgcG9pbnRzW2ldKTtcbiAqICAgICB9XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiBZb3UgY2FuIG9wdGltaXplIHRoaXMgZm9yIGEgbGFyZ2UgbnVtYmVyIG9mIHBvaW50cyBieSB1c2luZyB7QGxpbmsgUElYSS5Cb3VuZHMjYWRkVmVydGljZXNNYXRyaXh9IHRvIHBhc3MgdGhlbVxuICogaW4gb25lIGFycmF5IHRvZ2V0aGVyLlxuICpcbiAqICMjIEFscGhhXG4gKlxuICogVGhpcyBhbHBoYSBzZXRzIGEgZGlzcGxheSBvYmplY3QncyAqKnJlbGF0aXZlIG9wYWNpdHkqKiB3LnIudCBpdHMgcGFyZW50LiBGb3IgZXhhbXBsZSwgaWYgdGhlIGFscGhhIG9mIGEgZGlzcGxheVxuICogb2JqZWN0IGlzIDAuNSBhbmQgaXRzIHBhcmVudCdzIGFscGhhIGlzIDAuNSwgdGhlbiBpdCB3aWxsIGJlIHJlbmRlcmVkIHdpdGggMjUlIG9wYWNpdHkgKGFzc3VtaW5nIGFscGhhIGlzIG5vdFxuICogYXBwbGllZCBvbiBhbnkgYW5jZXN0b3IgZnVydGhlciB1cCB0aGUgY2hhaW4pLlxuICpcbiAqIFRoZSBhbHBoYSB3aXRoIHdoaWNoIHRoZSBkaXNwbGF5IG9iamVjdCB3aWxsIGJlIHJlbmRlcmVkIGlzIGNhbGxlZCB0aGUgW3dvcmxkQWxwaGFde0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdCN3b3JsZEFscGhhfS5cbiAqXG4gKiAjIyBSZW5kZXJhYmxlIHZzIFZpc2libGVcbiAqXG4gKiBUaGUgYHJlbmRlcmFibGVgIGFuZCBgdmlzaWJsZWAgcHJvcGVydGllcyBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGEgZGlzcGxheSBvYmplY3QgZnJvbSBiZWluZyByZW5kZXJlZCB0byB0aGVcbiAqIHNjcmVlbi4gSG93ZXZlciwgdGhlcmUgaXMgYSBzdWJ0bGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZSB0d28uIFdoZW4gdXNpbmcgYHJlbmRlcmFibGVgLCB0aGUgdHJhbnNmb3JtcyAgb2YgdGhlIGRpc3BsYXlcbiAqIG9iamVjdCAoYW5kIGl0cyBjaGlsZHJlbiBzdWJ0cmVlKSB3aWxsIGNvbnRpbnVlIHRvIGJlIGNhbGN1bGF0ZWQuIFdoZW4gdXNpbmcgYHZpc2libGVgLCB0aGUgdHJhbnNmb3JtcyB3aWxsIG5vdFxuICogYmUgY2FsY3VsYXRlZC5cbiAqXG4gKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IGFwcGxpY2F0aW9ucyB1c2UgdGhlIGByZW5kZXJhYmxlYCBwcm9wZXJ0eSBmb3IgY3VsbGluZy4gU2VlXG4gKiBbQHBpeGktZXNzZW50aWFscy9jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9AcGl4aS1lc3NlbnRpYWxzL2N1bGx9IG9yXG4gKiBbcGl4aS1jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9waXhpLWN1bGx9IGZvciBtb3JlIGRldGFpbHMuXG4gKlxuICogT3RoZXJ3aXNlLCB0byBwcmV2ZW50IGFuIG9iamVjdCBmcm9tIHJlbmRlcmluZyBpbiB0aGUgZ2VuZXJhbC1wdXJwb3NlIHNlbnNlIC0gYHZpc2libGVgIGlzIHRoZSBwcm9wZXJ0eSB0byB1c2UuIFRoaXNcbiAqIG9uZSBpcyBhbHNvIGJldHRlciBpbiB0ZXJtcyBvZiBwZXJmb3JtYW5jZS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKi9cbnZhciBEaXNwbGF5T2JqZWN0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhEaXNwbGF5T2JqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIERpc3BsYXlPYmplY3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnRlbXBEaXNwbGF5T2JqZWN0UGFyZW50ID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogbmVlZCB0byBjcmVhdGUgVHJhbnNmb3JtIGZyb20gZmFjdG9yeVxuICAgICAgICBfdGhpcy50cmFuc2Zvcm0gPSBuZXcgbWF0aC5UcmFuc2Zvcm0oKTtcbiAgICAgICAgX3RoaXMuYWxwaGEgPSAxO1xuICAgICAgICBfdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMucmVuZGVyYWJsZSA9IHRydWU7XG4gICAgICAgIF90aGlzLmN1bGxhYmxlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmN1bGxBcmVhID0gbnVsbDtcbiAgICAgICAgX3RoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgX3RoaXMud29ybGRBbHBoYSA9IDE7XG4gICAgICAgIF90aGlzLl9sYXN0U29ydGVkSW5kZXggPSAwO1xuICAgICAgICBfdGhpcy5fekluZGV4ID0gMDtcbiAgICAgICAgX3RoaXMuZmlsdGVyQXJlYSA9IG51bGw7XG4gICAgICAgIF90aGlzLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICBfdGhpcy5fbG9jYWxCb3VuZHMgPSBudWxsO1xuICAgICAgICBfdGhpcy5fYm91bmRzSUQgPSAwO1xuICAgICAgICBfdGhpcy5fYm91bmRzUmVjdCA9IG51bGw7XG4gICAgICAgIF90aGlzLl9sb2NhbEJvdW5kc1JlY3QgPSBudWxsO1xuICAgICAgICBfdGhpcy5fbWFzayA9IG51bGw7XG4gICAgICAgIF90aGlzLl9tYXNrUmVmQ291bnQgPSAwO1xuICAgICAgICBfdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzU3ByaXRlID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmlzTWFzayA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1peGVzIGFsbCBlbnVtZXJhYmxlIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgZnJvbSBhIHNvdXJjZSBvYmplY3QgdG8gRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0gc291cmNlIC0gVGhlIHNvdXJjZSBvZiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIHRvIG1peCBpbi5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0Lm1peGluID0gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICAvLyBpbiBFUzgvRVMyMDE3LCB0aGlzIHdvdWxkIGJlIHJlYWxseSBlYXN5OlxuICAgICAgICAvLyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7XG4gICAgICAgIC8vIGdldCBhbGwgdGhlIGVudW1lcmFibGUgcHJvcGVydHkga2V5c1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBwcm9wZXJ0aWVzXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TmFtZSA9IGtleXNbaV07XG4gICAgICAgICAgICAvLyBTZXQgdGhlIHByb3BlcnR5IHVzaW5nIHRoZSBwcm9wZXJ0eSBkZXNjcmlwdG9yIC0gdGhpcyB3b3JrcyBmb3IgYWNjZXNzb3JzIGFuZCBub3JtYWwgdmFsdWUgcHJvcGVydGllc1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBwcm9wZXJ0eU5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBwcm9wZXJ0eU5hbWUpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcImRlc3Ryb3llZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaXJlZCB3aGVuIHRoaXMgRGlzcGxheU9iamVjdCBpcyBhZGRlZCB0byBhIENvbnRhaW5lci5cbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBldmVudCBhZGRlZFxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIGFkZGVkIHRvLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIHJlbW92ZWQgZnJvbSBhIENvbnRhaW5lci5cbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBldmVudCByZW1vdmVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5Db250YWluZXJ9IGNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgcmVtb3ZlZCBmcm9tLlxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpcmVkIHdoZW4gdGhpcyBEaXNwbGF5T2JqZWN0IGlzIGRlc3Ryb3llZC4gVGhpcyBldmVudCBpcyBlbWl0dGVkIG9uY2VcbiAgICAgICAgICogZGVzdHJveSBpcyBmaW5pc2hlZC5cbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEBldmVudCBkZXN0cm95ZWRcbiAgICAgICAgICovXG4gICAgICAgIC8qKiBSZWFkb25seSBmbGFnIGZvciBkZXN0cm95ZWQgZGlzcGxheSBvYmplY3RzLiAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZXN0cm95ZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKiogUmVjdXJzaXZlbHkgdXBkYXRlcyB0cmFuc2Zvcm0gb2YgYWxsIG9iamVjdHMgZnJvbSB0aGUgcm9vdCB0byB0aGlzIG9uZSBpbnRlcm5hbCBmdW5jdGlvbiBmb3IgdG9Mb2NhbCgpICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5wYXJlbnQuX3JlY3Vyc2l2ZVBvc3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSBvYmplY3QgdHJhbnNmb3JtIGZvciByZW5kZXJpbmcuIFRPRE8gLSBPcHRpbWl6YXRpb24gcGFzcyEgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtLnVwZGF0ZVRyYW5zZm9ybSh0aGlzLnBhcmVudC50cmFuc2Zvcm0pO1xuICAgICAgICAvLyBtdWx0aXBseSB0aGUgYWxwaGFzLi5cbiAgICAgICAgdGhpcy53b3JsZEFscGhhID0gdGhpcy5hbHBoYSAqIHRoaXMucGFyZW50LndvcmxkQWxwaGE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCByZXR1cm5zIHRoZSAod29ybGQpIGJvdW5kcyBvZiB0aGUgZGlzcGxheSBvYmplY3QgYXMgYSBbUmVjdGFuZ2xlXXtAbGluayBQSVhJLlJlY3RhbmdsZX0uXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBleHBlbnNpdmUgb24gY29udGFpbmVycyB3aXRoIGEgbGFyZ2Ugc3VidHJlZSAobGlrZSB0aGUgc3RhZ2UpLiBUaGlzIGlzIGJlY2F1c2UgdGhlIGJvdW5kc1xuICAgICAqIG9mIGEgY29udGFpbmVyIGRlcGVuZCBvbiBpdHMgY2hpbGRyZW4ncyBib3VuZHMsIHdoaWNoIHJlY3Vyc2l2ZWx5IGNhdXNlcyBhbGwgYm91bmRzIGluIHRoZSBzdWJ0cmVlIHRvXG4gICAgICogYmUgcmVjYWxjdWxhdGVkLiBUaGUgdXBzaWRlLCBob3dldmVyLCBpcyB0aGF0IGNhbGxpbmcgYGdldEJvdW5kc2Agb25jZSBvbiBhIGNvbnRhaW5lciB3aWxsIGluZGVlZCB1cGRhdGVcbiAgICAgKiB0aGUgYm91bmRzIG9mIGFsbCBjaGlsZHJlbiAodGhlIHdob2xlIHN1YnRyZWUsIGluIGZhY3QpLiBUaGlzIHNpZGUgZWZmZWN0IHNob3VsZCBiZSBleHBsb2l0ZWQgYnkgdXNpbmdcbiAgICAgKiBgZGlzcGxheU9iamVjdC5fYm91bmRzLmdldFJlY3RhbmdsZSgpYCB3aGVuIHRyYXZlcnNpbmcgdGhyb3VnaCBhbGwgdGhlIGJvdW5kcyBpbiBhIHNjZW5lIGdyYXBoLiBPdGhlcndpc2UsXG4gICAgICogY2FsbGluZyBgZ2V0Qm91bmRzYCBvbiBlYWNoIG9iamVjdCBpbiBhIHN1YnRyZWUgd2lsbCBjYXVzZSB0aGUgdG90YWwgY29zdCB0byBpbmNyZWFzZSBxdWFkcmF0aWNhbGx5IGFzXG4gICAgICogaXRzIGhlaWdodCBpbmNyZWFzZXMuXG4gICAgICpcbiAgICAgKiBUaGUgdHJhbnNmb3JtcyBvZiBhbGwgb2JqZWN0cyBpbiBhIGNvbnRhaW5lcidzICoqc3VidHJlZSoqIGFuZCBvZiBhbGwgKiphbmNlc3RvcnMqKiBhcmUgdXBkYXRlZC5cbiAgICAgKiBUaGUgd29ybGQgYm91bmRzIG9mIGFsbCBkaXNwbGF5IG9iamVjdHMgaW4gYSBjb250YWluZXIncyAqKnN1YnRyZWUqKiB3aWxsIGFsc28gYmUgcmVjYWxjdWxhdGVkLlxuICAgICAqXG4gICAgICogVGhlIGBfYm91bmRzYCBvYmplY3Qgc3RvcmVzIHRoZSBsYXN0IGNhbGN1bGF0aW9uIG9mIHRoZSBib3VuZHMuIFlvdSBjYW4gdXNlIHRvIGVudGlyZWx5IHNraXAgYm91bmRzXG4gICAgICogY2FsY3VsYXRpb24gaWYgbmVlZGVkLlxuICAgICAqXG4gICAgICogYGBganNcbiAgICAgKiBjb25zdCBsYXN0Q2FsY3VsYXRlZEJvdW5kcyA9IGRpc3BsYXlPYmplY3QuX2JvdW5kcy5nZXRSZWN0YW5nbGUob3B0aW9uYWxSZWN0KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIERvIGtub3cgdGhhdCB1c2FnZSBvZiBgZ2V0TG9jYWxCb3VuZHNgIGNhbiBjb3JydXB0IHRoZSBgX2JvdW5kc2Agb2YgY2hpbGRyZW4gKHRoZSB3aG9sZSBzdWJ0cmVlLCBhY3R1YWxseSkuIFRoaXNcbiAgICAgKiBpcyBhIGtub3duIGlzc3VlIHRoYXQgaGFzIG5vdCBiZWVuIHNvbHZlZC4gU2VlIFtnZXRMb2NhbEJvdW5kc117QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2dldExvY2FsQm91bmRzfSBmb3IgbW9yZVxuICAgICAqIGRldGFpbHMuXG4gICAgICpcbiAgICAgKiBgZ2V0Qm91bmRzYCBzaG91bGQgYmUgY2FsbGVkIHdpdGggYHNraXBVcGRhdGVgIGVxdWFsIHRvIGB0cnVlYCBpbiBhIHJlbmRlcigpIGNhbGwuIFRoaXMgaXMgYmVjYXVzZSB0aGUgdHJhbnNmb3Jtc1xuICAgICAqIGFyZSBndWFyYW50ZWVkIHRvIGJlIHVwZGF0ZS10by1kYXRlLiBJbiBmYWN0LCByZWNhbGN1bGF0aW5nIGluc2lkZSBhIHJlbmRlcigpIGNhbGwgbWF5IGNhdXNlIGNvcnJ1cHRpb24gaW4gY2VydGFpblxuICAgICAqIGNhc2VzLlxuICAgICAqIEBwYXJhbSBza2lwVXBkYXRlIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHRoZSB0cmFuc2Zvcm1zIG9mIHRoZSBzY2VuZSBncmFwaCBmcm9tXG4gICAgICogIGJlaW5nIHVwZGF0ZWQuIFRoaXMgbWVhbnMgdGhlIGNhbGN1bGF0aW9uIHJldHVybmVkIE1BWSBiZSBvdXQgb2YgZGF0ZSBCVVQgd2lsbCBnaXZlIHlvdSBhXG4gICAgICogIG5pY2UgcGVyZm9ybWFuY2UgYm9vc3QuXG4gICAgICogQHBhcmFtIHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIG1pbmltdW0gYXhpcy1hbGlnbmVkIHJlY3RhbmdsZSBpbiB3b3JsZCBzcGFjZSB0aGF0IGZpdHMgYXJvdW5kIHRoaXMgb2JqZWN0LlxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmdldEJvdW5kcyA9IGZ1bmN0aW9uIChza2lwVXBkYXRlLCByZWN0KSB7XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fYm91bmRzLnVwZGF0ZUlEICE9PSB0aGlzLl9ib3VuZHNJRCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kcy51cGRhdGVJRCA9IHRoaXMuX2JvdW5kc0lEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVjdCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ib3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzUmVjdCA9IG5ldyBtYXRoLlJlY3RhbmdsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVjdCA9IHRoaXMuX2JvdW5kc1JlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2JvdW5kcy5nZXRSZWN0YW5nbGUocmVjdCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHJlY3QgLSBPcHRpb25hbCByZWN0YW5nbGUgdG8gc3RvcmUgdGhlIHJlc3VsdCBvZiB0aGUgYm91bmRzIGNhbGN1bGF0aW9uLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZ2V0TG9jYWxCb3VuZHMgPSBmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAoIXJlY3QpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHNSZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9jYWxCb3VuZHNSZWN0ID0gbmV3IG1hdGguUmVjdGFuZ2xlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWN0ID0gdGhpcy5fbG9jYWxCb3VuZHNSZWN0O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fbG9jYWxCb3VuZHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvY2FsQm91bmRzID0gbmV3IEJvdW5kcygpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZWYgPSB0aGlzLnRyYW5zZm9ybTtcbiAgICAgICAgdmFyIHBhcmVudFJlZiA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gdGhpcy5fdGVtcERpc3BsYXlPYmplY3RQYXJlbnQudHJhbnNmb3JtO1xuICAgICAgICB2YXIgd29ybGRCb3VuZHMgPSB0aGlzLl9ib3VuZHM7XG4gICAgICAgIHZhciB3b3JsZEJvdW5kc0lEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IHRoaXMuX2xvY2FsQm91bmRzO1xuICAgICAgICB2YXIgYm91bmRzID0gdGhpcy5nZXRCb3VuZHMoZmFsc2UsIHJlY3QpO1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudFJlZjtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1SZWY7XG4gICAgICAgIHRoaXMuX2JvdW5kcyA9IHdvcmxkQm91bmRzO1xuICAgICAgICB0aGlzLl9ib3VuZHMudXBkYXRlSUQgKz0gdGhpcy5fYm91bmRzSUQgLSB3b3JsZEJvdW5kc0lEOyAvLyByZWZsZWN0IHNpZGUtZWZmZWN0c1xuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgZ2xvYmFsIHBvc2l0aW9uIG9mIHRoZSBkaXNwbGF5IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSBwb2ludCAtIEEgUG9pbnQgb2JqZWN0IGluIHdoaWNoIHRvIHN0b3JlIHRoZSB2YWx1ZSwgb3B0aW9uYWxcbiAgICAgKiAgKG90aGVyd2lzZSB3aWxsIGNyZWF0ZSBhIG5ldyBQb2ludCkuXG4gICAgICogQHBhcmFtIHNraXBVcGRhdGUgLSBTaG91bGQgd2Ugc2tpcCB0aGUgdXBkYXRlIHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyAtIEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUudG9HbG9iYWwgPSBmdW5jdGlvbiAocG9zaXRpb24sIHBvaW50LCBza2lwVXBkYXRlKSB7XG4gICAgICAgIGlmIChza2lwVXBkYXRlID09PSB2b2lkIDApIHsgc2tpcFVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICghc2tpcFVwZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVjdXJzaXZlUG9zdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgLy8gdGhpcyBwYXJlbnQgY2hlY2sgaXMgZm9yIGp1c3QgaW4gY2FzZSB0aGUgaXRlbSBpcyBhIHJvb3Qgb2JqZWN0LlxuICAgICAgICAgICAgLy8gSWYgaXQgaXMgd2UgbmVlZCB0byBnaXZlIGl0IGEgdGVtcG9yYXJ5IHBhcmVudCBzbyB0aGF0IGRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0gd29ya3MgY29ycmVjdGx5XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1haW5seSB0byBhdm9pZCBhIHBhcmVudCBjaGVjayBpbiB0aGUgbWFpbiBsb29wLiBFdmVyeSBsaXR0bGUgaGVscHMgZm9yIHBlcmZvcm1hbmNlIDopXG4gICAgICAgICAgICBpZiAoIXRoaXMucGFyZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQgPSB0aGlzLl90ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIHVwZGF0ZSB0aGUgbG90XG4gICAgICAgIHJldHVybiB0aGlzLndvcmxkVHJhbnNmb3JtLmFwcGx5KHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBsb2NhbCBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheSBvYmplY3QgcmVsYXRpdmUgdG8gYW5vdGhlciBwb2ludC5cbiAgICAgKiBAcGFyYW0gcG9zaXRpb24gLSBUaGUgd29ybGQgb3JpZ2luIHRvIGNhbGN1bGF0ZSBmcm9tLlxuICAgICAqIEBwYXJhbSBmcm9tIC0gVGhlIERpc3BsYXlPYmplY3QgdG8gY2FsY3VsYXRlIHRoZSBnbG9iYWwgcG9zaXRpb24gZnJvbS5cbiAgICAgKiBAcGFyYW0gcG9pbnQgLSBBIFBvaW50IG9iamVjdCBpbiB3aGljaCB0byBzdG9yZSB0aGUgdmFsdWUsIG9wdGlvbmFsXG4gICAgICogIChvdGhlcndpc2Ugd2lsbCBjcmVhdGUgYSBuZXcgUG9pbnQpLlxuICAgICAqIEBwYXJhbSBza2lwVXBkYXRlIC0gU2hvdWxkIHdlIHNraXAgdGhlIHVwZGF0ZSB0cmFuc2Zvcm1cbiAgICAgKiBAcmV0dXJucyAtIEEgcG9pbnQgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gb2YgdGhpcyBvYmplY3RcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS50b0xvY2FsID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBmcm9tLCBwb2ludCwgc2tpcFVwZGF0ZSkge1xuICAgICAgICBpZiAoZnJvbSkge1xuICAgICAgICAgICAgcG9zaXRpb24gPSBmcm9tLnRvR2xvYmFsKHBvc2l0aW9uLCBwb2ludCwgc2tpcFVwZGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwVXBkYXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICAvLyB0aGlzIHBhcmVudCBjaGVjayBpcyBmb3IganVzdCBpbiBjYXNlIHRoZSBpdGVtIGlzIGEgcm9vdCBvYmplY3QuXG4gICAgICAgICAgICAvLyBJZiBpdCBpcyB3ZSBuZWVkIHRvIGdpdmUgaXQgYSB0ZW1wb3JhcnkgcGFyZW50IHNvIHRoYXQgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSB3b3JrcyBjb3JyZWN0bHlcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgbWFpbmx5IHRvIGF2b2lkIGEgcGFyZW50IGNoZWNrIGluIHRoZSBtYWluIGxvb3AuIEV2ZXJ5IGxpdHRsZSBoZWxwcyBmb3IgcGVyZm9ybWFuY2UgOilcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHNpbXBseSBhcHBseSB0aGUgbWF0cml4Li5cbiAgICAgICAgcmV0dXJuIHRoaXMud29ybGRUcmFuc2Zvcm0uYXBwbHlJbnZlcnNlKHBvc2l0aW9uLCBwb2ludCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHBhcmVudCBDb250YWluZXIgb2YgdGhpcyBEaXNwbGF5T2JqZWN0LlxuICAgICAqIEBwYXJhbSBjb250YWluZXIgLSBUaGUgQ29udGFpbmVyIHRvIGFkZCB0aGlzIERpc3BsYXlPYmplY3QgdG8uXG4gICAgICogQHJldHVybnMgLSBUaGUgQ29udGFpbmVyIHRoYXQgdGhpcyBEaXNwbGF5T2JqZWN0IHdhcyBhZGRlZCB0by5cbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRQYXJlbnQgPSBmdW5jdGlvbiAoY29udGFpbmVyKSB7XG4gICAgICAgIGlmICghY29udGFpbmVyIHx8ICFjb250YWluZXIuYWRkQ2hpbGQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc2V0UGFyZW50OiBBcmd1bWVudCBtdXN0IGJlIGEgQ29udGFpbmVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHRoaXMpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gc2V0IHRoZSBwb3NpdGlvbiwgc2NhbGUsIHNrZXcgYW5kIHBpdm90IGF0IG9uY2UuXG4gICAgICogQHBhcmFtIHggLSBUaGUgWCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB5IC0gVGhlIFkgcG9zaXRpb25cbiAgICAgKiBAcGFyYW0gc2NhbGVYIC0gVGhlIFggc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gc2NhbGVZIC0gVGhlIFkgc2NhbGUgdmFsdWVcbiAgICAgKiBAcGFyYW0gcm90YXRpb24gLSBUaGUgcm90YXRpb25cbiAgICAgKiBAcGFyYW0gc2tld1ggLSBUaGUgWCBza2V3IHZhbHVlXG4gICAgICogQHBhcmFtIHNrZXdZIC0gVGhlIFkgc2tldyB2YWx1ZVxuICAgICAqIEBwYXJhbSBwaXZvdFggLSBUaGUgWCBwaXZvdCB2YWx1ZVxuICAgICAqIEBwYXJhbSBwaXZvdFkgLSBUaGUgWSBwaXZvdCB2YWx1ZVxuICAgICAqIEByZXR1cm5zIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBEaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5zZXRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoeCwgeSwgc2NhbGVYLCBzY2FsZVksIHJvdGF0aW9uLCBza2V3WCwgc2tld1ksIHBpdm90WCwgcGl2b3RZKSB7XG4gICAgICAgIGlmICh4ID09PSB2b2lkIDApIHsgeCA9IDA7IH1cbiAgICAgICAgaWYgKHkgPT09IHZvaWQgMCkgeyB5ID0gMDsgfVxuICAgICAgICBpZiAoc2NhbGVYID09PSB2b2lkIDApIHsgc2NhbGVYID0gMTsgfVxuICAgICAgICBpZiAoc2NhbGVZID09PSB2b2lkIDApIHsgc2NhbGVZID0gMTsgfVxuICAgICAgICBpZiAocm90YXRpb24gPT09IHZvaWQgMCkgeyByb3RhdGlvbiA9IDA7IH1cbiAgICAgICAgaWYgKHNrZXdYID09PSB2b2lkIDApIHsgc2tld1ggPSAwOyB9XG4gICAgICAgIGlmIChza2V3WSA9PT0gdm9pZCAwKSB7IHNrZXdZID0gMDsgfVxuICAgICAgICBpZiAocGl2b3RYID09PSB2b2lkIDApIHsgcGl2b3RYID0gMDsgfVxuICAgICAgICBpZiAocGl2b3RZID09PSB2b2lkIDApIHsgcGl2b3RZID0gMDsgfVxuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB4O1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnkgPSB5O1xuICAgICAgICB0aGlzLnNjYWxlLnggPSAhc2NhbGVYID8gMSA6IHNjYWxlWDtcbiAgICAgICAgdGhpcy5zY2FsZS55ID0gIXNjYWxlWSA/IDEgOiBzY2FsZVk7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgdGhpcy5za2V3LnggPSBza2V3WDtcbiAgICAgICAgdGhpcy5za2V3LnkgPSBza2V3WTtcbiAgICAgICAgdGhpcy5waXZvdC54ID0gcGl2b3RYO1xuICAgICAgICB0aGlzLnBpdm90LnkgPSBwaXZvdFk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQmFzZSBkZXN0cm95IG1ldGhvZCBmb3IgZ2VuZXJpYyBkaXNwbGF5IG9iamVjdHMuIFRoaXMgd2lsbCBhdXRvbWF0aWNhbGx5XG4gICAgICogcmVtb3ZlIHRoZSBkaXNwbGF5IG9iamVjdCBmcm9tIGl0cyBwYXJlbnQgQ29udGFpbmVyIGFzIHdlbGwgYXMgcmVtb3ZlXG4gICAgICogYWxsIGN1cnJlbnQgZXZlbnQgbGlzdGVuZXJzIGFuZCBpbnRlcm5hbCByZWZlcmVuY2VzLiBEbyBub3QgdXNlIGEgRGlzcGxheU9iamVjdFxuICAgICAqIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3koKWAuXG4gICAgICogQHBhcmFtIF9vcHRpb25zXG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIChfb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtID0gbnVsbDtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLl9ib3VuZHMgPSBudWxsO1xuICAgICAgICB0aGlzLm1hc2sgPSBudWxsO1xuICAgICAgICB0aGlzLmN1bGxBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgdGhpcy5maWx0ZXJBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5oaXRBcmVhID0gbnVsbDtcbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlQ2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lbWl0KCdkZXN0cm95ZWQnKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJfdGVtcERpc3BsYXlPYmplY3RQYXJlbnRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByb3RlY3RlZFxuICAgICAgICAgKiBAbWVtYmVyIHtQSVhJLkNvbnRhaW5lcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVtcERpc3BsYXlPYmplY3RQYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgICAgICAgICAgICAgdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudCA9IG5ldyBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50ZW1wRGlzcGxheU9iamVjdFBhcmVudDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFVzZWQgaW4gUmVuZGVyZXIsIGNhY2hlQXNCaXRtYXAgYW5kIG90aGVyIHBsYWNlcyB3aGVyZSB5b3UgY2FsbCBhbiBgdXBkYXRlVHJhbnNmb3JtYCBvbiByb290XG4gICAgICpcbiAgICAgKiBgYGBcbiAgICAgKiBjb25zdCBjYWNoZVBhcmVudCA9IGVsZW0uZW5hYmxlVGVtcFBhcmVudCgpO1xuICAgICAqIGVsZW0udXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICogZWxlbS5kaXNhYmxlVGVtcFBhcmVudChjYWNoZVBhcmVudCk7XG4gICAgICogYGBgXG4gICAgICogQHJldHVybnMgLSBjdXJyZW50IHBhcmVudFxuICAgICAqL1xuICAgIERpc3BsYXlPYmplY3QucHJvdG90eXBlLmVuYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBteVBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICB0aGlzLnBhcmVudCA9IHRoaXMuX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50O1xuICAgICAgICByZXR1cm4gbXlQYXJlbnQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYWlyIG1ldGhvZCBmb3IgYGVuYWJsZVRlbXBQYXJlbnRgXG4gICAgICogQHBhcmFtIGNhY2hlUGFyZW50IC0gQWN0dWFsIHBhcmVudCBvZiBlbGVtZW50XG4gICAgICovXG4gICAgRGlzcGxheU9iamVjdC5wcm90b3R5cGUuZGlzYWJsZVRlbXBQYXJlbnQgPSBmdW5jdGlvbiAoY2FjaGVQYXJlbnQpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBjYWNoZVBhcmVudDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJ4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgZGlzcGxheU9iamVjdCBvbiB0aGUgeCBheGlzIHJlbGF0aXZlIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlcyBvZiB0aGUgcGFyZW50LlxuICAgICAgICAgKiBBbiBhbGlhcyB0byBwb3NpdGlvbi54XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLng7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbi54ID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwieVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gb2YgdGhlIGRpc3BsYXlPYmplY3Qgb24gdGhlIHkgYXhpcyByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQW4gYWxpYXMgdG8gcG9zaXRpb24ueVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucG9zaXRpb24ueSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIndvcmxkVHJhbnNmb3JtXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1cnJlbnQgdHJhbnNmb3JtIG9mIHRoZSBvYmplY3QgYmFzZWQgb24gd29ybGQgKHBhcmVudCkgZmFjdG9ycy5cbiAgICAgICAgICogQHJlYWRvbmx5XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS53b3JsZFRyYW5zZm9ybTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJsb2NhbFRyYW5zZm9ybVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXJyZW50IHRyYW5zZm9ybSBvZiB0aGUgb2JqZWN0IGJhc2VkIG9uIGxvY2FsIGZhY3RvcnM6IHBvc2l0aW9uLCBzY2FsZSwgb3RoZXIgc3R1ZmYuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0ubG9jYWxUcmFuc2Zvcm07XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNvb3JkaW5hdGUgb2YgdGhlIG9iamVjdCByZWxhdGl2ZSB0byB0aGUgbG9jYWwgY29vcmRpbmF0ZXMgb2YgdGhlIHBhcmVudC5cbiAgICAgICAgICogQHNpbmNlIDQuMC4wXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5wb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnBvc2l0aW9uLmNvcHlGcm9tKHZhbHVlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJzY2FsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgc2NhbGUgZmFjdG9ycyBvZiB0aGlzIG9iamVjdCBhbG9uZyB0aGUgbG9jYWwgY29vcmRpbmF0ZSBheGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgZGVmYXVsdCBzY2FsZSBpcyAoMSwgMSkuXG4gICAgICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2NhbGU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybS5zY2FsZS5jb3B5RnJvbSh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwicGl2b3RcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGNlbnRlciBvZiByb3RhdGlvbiwgc2NhbGluZywgYW5kIHNrZXdpbmcgZm9yIHRoaXMgZGlzcGxheSBvYmplY3QgaW4gaXRzIGxvY2FsIHNwYWNlLiBUaGUgYHBvc2l0aW9uYFxuICAgICAgICAgKiBpcyB0aGUgcHJvamVjdGlvbiBvZiBgcGl2b3RgIGluIHRoZSBwYXJlbnQncyBsb2NhbCBzcGFjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQnkgZGVmYXVsdCwgdGhlIHBpdm90IGlzIHRoZSBvcmlnaW4gKDAsIDApLlxuICAgICAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnBpdm90O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucGl2b3QuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInNrZXdcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNrZXcgZmFjdG9yIGZvciB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2Zvcm0uc2tldztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnNrZXcuY29weUZyb20odmFsdWUpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcInJvdGF0aW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSByb3RhdGlvbiBvZiB0aGUgb2JqZWN0IGluIHJhZGlhbnMuXG4gICAgICAgICAqICdyb3RhdGlvbicgYW5kICdhbmdsZScgaGF2ZSB0aGUgc2FtZSBlZmZlY3Qgb24gYSBkaXNwbGF5IG9iamVjdDsgcm90YXRpb24gaXMgaW4gcmFkaWFucywgYW5nbGUgaXMgaW4gZGVncmVlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0ucm90YXRpb24gPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEaXNwbGF5T2JqZWN0LnByb3RvdHlwZSwgXCJhbmdsZVwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgYW5nbGUgb2YgdGhlIG9iamVjdCBpbiBkZWdyZWVzLlxuICAgICAgICAgKiAncm90YXRpb24nIGFuZCAnYW5nbGUnIGhhdmUgdGhlIHNhbWUgZWZmZWN0IG9uIGEgZGlzcGxheSBvYmplY3Q7IHJvdGF0aW9uIGlzIGluIHJhZGlhbnMsIGFuZ2xlIGlzIGluIGRlZ3JlZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybS5yb3RhdGlvbiAqIG1hdGguUkFEX1RPX0RFRztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtLnJvdGF0aW9uID0gdmFsdWUgKiBtYXRoLkRFR19UT19SQUQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwiekluZGV4XCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB6SW5kZXggb2YgdGhlIGRpc3BsYXlPYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIGEgY29udGFpbmVyIGhhcyB0aGUgc29ydGFibGVDaGlsZHJlbiBwcm9wZXJ0eSBzZXQgdG8gdHJ1ZSwgY2hpbGRyZW4gd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAgICAgICAqIHNvcnRlZCBieSB6SW5kZXggdmFsdWU7IGEgaGlnaGVyIHZhbHVlIHdpbGwgbWVhbiBpdCB3aWxsIGJlIG1vdmVkIHRvd2FyZHMgdGhlIGVuZCBvZiB0aGUgYXJyYXksXG4gICAgICAgICAqIGFuZCB0aHVzIHJlbmRlcmVkIG9uIHRvcCBvZiBvdGhlciBkaXNwbGF5IG9iamVjdHMgd2l0aGluIHRoZSBzYW1lIGNvbnRhaW5lci5cbiAgICAgICAgICogQHNlZSBQSVhJLkNvbnRhaW5lciNzb3J0YWJsZUNoaWxkcmVuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl96SW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl96SW5kZXggPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRGlzcGxheU9iamVjdC5wcm90b3R5cGUsIFwid29ybGRWaXNpYmxlXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluZGljYXRlcyBpZiB0aGUgb2JqZWN0IGlzIGdsb2JhbGx5IHZpc2libGUuXG4gICAgICAgICAqIEByZWFkb25seVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IHRoaXM7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5wYXJlbnQ7XG4gICAgICAgICAgICB9IHdoaWxlIChpdGVtKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KERpc3BsYXlPYmplY3QucHJvdG90eXBlLCBcIm1hc2tcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyBhIG1hc2sgZm9yIHRoZSBkaXNwbGF5T2JqZWN0LiBBIG1hc2sgaXMgYW4gb2JqZWN0IHRoYXQgbGltaXRzIHRoZSB2aXNpYmlsaXR5IG9mIGFuXG4gICAgICAgICAqIG9iamVjdCB0byB0aGUgc2hhcGUgb2YgdGhlIG1hc2sgYXBwbGllZCB0byBpdC4gSW4gUGl4aUpTIGEgcmVndWxhciBtYXNrIG11c3QgYmUgYVxuICAgICAgICAgKiB7QGxpbmsgUElYSS5HcmFwaGljc30gb3IgYSB7QGxpbmsgUElYSS5TcHJpdGV9IG9iamVjdC4gVGhpcyBhbGxvd3MgZm9yIG11Y2ggZmFzdGVyIG1hc2tpbmcgaW4gY2FudmFzIGFzIGl0XG4gICAgICAgICAqIHV0aWxpdGllcyBzaGFwZSBjbGlwcGluZy4gRnVydGhlcm1vcmUsIGEgbWFzayBvZiBhbiBvYmplY3QgbXVzdCBiZSBpbiB0aGUgc3VidHJlZSBvZiBpdHMgcGFyZW50LlxuICAgICAgICAgKiBPdGhlcndpc2UsIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGNhbGN1bGF0ZSBpbmNvcnJlY3QgYm91bmRzLCB3aGljaCBtYWtlcyB0aGUgY29udGFpbmVyJ3Mgd2lkdGggYW5kIGhlaWdodCB3cm9uZy5cbiAgICAgICAgICogVG8gcmVtb3ZlIGEgbWFzaywgc2V0IHRoaXMgcHJvcGVydHkgdG8gYG51bGxgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3Igc3ByaXRlIG1hc2sgYm90aCBhbHBoYSBhbmQgcmVkIGNoYW5uZWwgYXJlIHVzZWQuIEJsYWNrIG1hc2sgaXMgdGhlIHNhbWUgYXMgdHJhbnNwYXJlbnQgbWFzay5cbiAgICAgICAgICogQGV4YW1wbGVcbiAgICAgICAgICogY29uc3QgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpO1xuICAgICAgICAgKiBncmFwaGljcy5iZWdpbkZpbGwoMHhGRjMzMDApO1xuICAgICAgICAgKiBncmFwaGljcy5kcmF3UmVjdCg1MCwgMjUwLCAxMDAsIDEwMCk7XG4gICAgICAgICAqIGdyYXBoaWNzLmVuZEZpbGwoKTtcbiAgICAgICAgICpcbiAgICAgICAgICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpO1xuICAgICAgICAgKiBzcHJpdGUubWFzayA9IGdyYXBoaWNzO1xuICAgICAgICAgKiBAdG9kbyBBdCB0aGUgbW9tZW50LCBQSVhJLkNhbnZhc1JlbmRlcmVyIGRvZXNuJ3Qgc3VwcG9ydCBQSVhJLlNwcml0ZSBhcyBtYXNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWFzaztcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9tYXNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1hc2tPYmplY3QgPSAodGhpcy5fbWFzay5tYXNrT2JqZWN0IHx8IHRoaXMuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuX21hc2tSZWZDb3VudC0tO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrT2JqZWN0Ll9tYXNrUmVmQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWFza09iamVjdC5yZW5kZXJhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWFza09iamVjdC5pc01hc2sgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXNrID0gdmFsdWU7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKHRoaXMuX21hc2subWFza09iamVjdCB8fCB0aGlzLl9tYXNrKTtcbiAgICAgICAgICAgICAgICBpZiAobWFza09iamVjdC5fbWFza1JlZkNvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hc2tPYmplY3QucmVuZGVyYWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBtYXNrT2JqZWN0LmlzTWFzayA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuX21hc2tSZWZDb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIERpc3BsYXlPYmplY3Q7XG59KHV0aWxzLkV2ZW50RW1pdHRlcikpO1xuLyoqXG4gKiBAcHJpdmF0ZVxuICovXG52YXIgVGVtcG9yYXJ5RGlzcGxheU9iamVjdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoVGVtcG9yYXJ5RGlzcGxheU9iamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBUZW1wb3JhcnlEaXNwbGF5T2JqZWN0KCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc29ydERpcnR5ID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gVGVtcG9yYXJ5RGlzcGxheU9iamVjdDtcbn0oRGlzcGxheU9iamVjdCkpO1xuLyoqXG4gKiBEaXNwbGF5T2JqZWN0IGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIG5vdCB1cGRhdGUgY2hpbGRyZW4gb2YgY29udGFpbmVyLlxuICogV2lsbCBjcmFzaCBpZiB0aGVyZSdzIG5vIHBhcmVudCBlbGVtZW50LlxuICogQG1lbWJlcm9mIFBJWEkuRGlzcGxheU9iamVjdCNcbiAqIEBtZXRob2QgZGlzcGxheU9iamVjdFVwZGF0ZVRyYW5zZm9ybVxuICovXG5EaXNwbGF5T2JqZWN0LnByb3RvdHlwZS5kaXNwbGF5T2JqZWN0VXBkYXRlVHJhbnNmb3JtID0gRGlzcGxheU9iamVjdC5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG4vKiFcbiAqIEBwaXhpL2NvbnN0YW50cyAtIHY2LjQuMlxuICogQ29tcGlsZWQgVGh1LCAwMiBKdW4gMjAyMiAxNTozOToyNiBVVENcbiAqXG4gKiBAcGl4aS9jb25zdGFudHMgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZVxuICovXG4vKipcbiAqIERpZmZlcmVudCB0eXBlcyBvZiBlbnZpcm9ubWVudHMgZm9yIFdlYkdMLlxuICogQHN0YXRpY1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEVOVlxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTF9MRUdBQ1kgLSBVc2VkIGZvciBvbGRlciB2MSBXZWJHTCBkZXZpY2VzLiBQaXhpSlMgd2lsbCBhaW0gdG8gZW5zdXJlIGNvbXBhdGliaWxpdHlcbiAqICB3aXRoIG9sZGVyIC8gbGVzcyBhZHZhbmNlZCBkZXZpY2VzLiBJZiB5b3UgZXhwZXJpZW5jZSB1bmV4cGxhaW5lZCBmbGlja2VyaW5nIHByZWZlciB0aGlzIGVudmlyb25tZW50LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFdFQkdMIC0gVmVyc2lvbiAxIG9mIFdlYkdMXG4gKiBAcHJvcGVydHkge251bWJlcn0gV0VCR0wyIC0gVmVyc2lvbiAyIG9mIFdlYkdMXG4gKi9cbnZhciBFTlY7XG4oZnVuY3Rpb24gKEVOVikge1xuICAgIEVOVltFTlZbXCJXRUJHTF9MRUdBQ1lcIl0gPSAwXSA9IFwiV0VCR0xfTEVHQUNZXCI7XG4gICAgRU5WW0VOVltcIldFQkdMXCJdID0gMV0gPSBcIldFQkdMXCI7XG4gICAgRU5WW0VOVltcIldFQkdMMlwiXSA9IDJdID0gXCJXRUJHTDJcIjtcbn0pKEVOViB8fCAoRU5WID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnQgdG8gaWRlbnRpZnkgdGhlIFJlbmRlcmVyIFR5cGUuXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQG5hbWUgUkVOREVSRVJfVFlQRVxuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTktOT1dOIC0gVW5rbm93biByZW5kZXIgdHlwZS5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBXRUJHTCAtIFdlYkdMIHJlbmRlciB0eXBlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IENBTlZBUyAtIENhbnZhcyByZW5kZXIgdHlwZS5cbiAqL1xudmFyIFJFTkRFUkVSX1RZUEU7XG4oZnVuY3Rpb24gKFJFTkRFUkVSX1RZUEUpIHtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJVTktOT1dOXCJdID0gMF0gPSBcIlVOS05PV05cIjtcbiAgICBSRU5ERVJFUl9UWVBFW1JFTkRFUkVSX1RZUEVbXCJXRUJHTFwiXSA9IDFdID0gXCJXRUJHTFwiO1xuICAgIFJFTkRFUkVSX1RZUEVbUkVOREVSRVJfVFlQRVtcIkNBTlZBU1wiXSA9IDJdID0gXCJDQU5WQVNcIjtcbn0pKFJFTkRFUkVSX1RZUEUgfHwgKFJFTkRFUkVSX1RZUEUgPSB7fSkpO1xuLyoqXG4gKiBCaXR3aXNlIE9SIG9mIG1hc2tzIHRoYXQgaW5kaWNhdGUgdGhlIGJ1ZmZlcnMgdG8gYmUgY2xlYXJlZC5cbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAbmFtZSBCVUZGRVJfQklUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUiAtIEluZGljYXRlcyB0aGUgYnVmZmVycyBjdXJyZW50bHkgZW5hYmxlZCBmb3IgY29sb3Igd3JpdGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBERVBUSCAtIEluZGljYXRlcyB0aGUgZGVwdGggYnVmZmVyLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNURU5DSUwgLSBJbmRpY2F0ZXMgdGhlIHN0ZW5jaWwgYnVmZmVyLlxuICovXG52YXIgQlVGRkVSX0JJVFM7XG4oZnVuY3Rpb24gKEJVRkZFUl9CSVRTKSB7XG4gICAgQlVGRkVSX0JJVFNbQlVGRkVSX0JJVFNbXCJDT0xPUlwiXSA9IDE2Mzg0XSA9IFwiQ09MT1JcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIkRFUFRIXCJdID0gMjU2XSA9IFwiREVQVEhcIjtcbiAgICBCVUZGRVJfQklUU1tCVUZGRVJfQklUU1tcIlNURU5DSUxcIl0gPSAxMDI0XSA9IFwiU1RFTkNJTFwiO1xufSkoQlVGRkVSX0JJVFMgfHwgKEJVRkZFUl9CSVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBibGVuZCBtb2RlcyBzdXBwb3J0ZWQgYnkgUElYSS5cbiAqXG4gKiBJTVBPUlRBTlQgLSBUaGUgV2ViR0wgcmVuZGVyZXIgb25seSBzdXBwb3J0cyB0aGUgTk9STUFMLCBBREQsIE1VTFRJUExZIGFuZCBTQ1JFRU4gYmxlbmQgbW9kZXMuXG4gKiBBbnl0aGluZyBlbHNlIHdpbGwgc2lsZW50bHkgYWN0IGxpa2UgTk9STUFMLlxuICogQG1lbWJlcm9mIFBJWElcbiAqIEBuYW1lIEJMRU5EX01PREVTXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gQUREIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNVUxUSVBMWSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0NSRUVOIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPVkVSTEFZIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEQVJLRU4gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJR0hURU4gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IENPTE9SX0RPREdFIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBDT0xPUl9CVVJOIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBIQVJEX0xJR0hUIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTT0ZUX0xJR0hUIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBESUZGRVJFTkNFIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFWENMVVNJT04gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEhVRSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU0FUVVJBVElPTiAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ09MT1IgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExVTUlOT1NJVFkgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PUk1BTF9OUE0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFERF9OUE0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDUkVFTl9OUE0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5PTkUgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNSQ19JTiAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09VVCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX0FUT1AgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVkVSIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBEU1RfSU4gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9PVVQgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IERTVF9BVE9QIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBTVUJUUkFDVCAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1JDX09WRVIgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEVSQVNFIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBYT1IgLVxuICovXG52YXIgQkxFTkRfTU9ERVM7XG4oZnVuY3Rpb24gKEJMRU5EX01PREVTKSB7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJOT1JNQUxcIl0gPSAwXSA9IFwiTk9STUFMXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJBRERcIl0gPSAxXSA9IFwiQUREXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJNVUxUSVBMWVwiXSA9IDJdID0gXCJNVUxUSVBMWVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU0NSRUVOXCJdID0gM10gPSBcIlNDUkVFTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiT1ZFUkxBWVwiXSA9IDRdID0gXCJPVkVSTEFZXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEQVJLRU5cIl0gPSA1XSA9IFwiREFSS0VOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJMSUdIVEVOXCJdID0gNl0gPSBcIkxJR0hURU5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkNPTE9SX0RPREdFXCJdID0gN10gPSBcIkNPTE9SX0RPREdFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUl9CVVJOXCJdID0gOF0gPSBcIkNPTE9SX0JVUk5cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhBUkRfTElHSFRcIl0gPSA5XSA9IFwiSEFSRF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU09GVF9MSUdIVFwiXSA9IDEwXSA9IFwiU09GVF9MSUdIVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRElGRkVSRU5DRVwiXSA9IDExXSA9IFwiRElGRkVSRU5DRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiRVhDTFVTSU9OXCJdID0gMTJdID0gXCJFWENMVVNJT05cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkhVRVwiXSA9IDEzXSA9IFwiSFVFXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTQVRVUkFUSU9OXCJdID0gMTRdID0gXCJTQVRVUkFUSU9OXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJDT0xPUlwiXSA9IDE1XSA9IFwiQ09MT1JcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkxVTUlOT1NJVFlcIl0gPSAxNl0gPSBcIkxVTUlOT1NJVFlcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PUk1BTF9OUE1cIl0gPSAxN10gPSBcIk5PUk1BTF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkFERF9OUE1cIl0gPSAxOF0gPSBcIkFERF9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNDUkVFTl9OUE1cIl0gPSAxOV0gPSBcIlNDUkVFTl9OUE1cIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIk5PTkVcIl0gPSAyMF0gPSBcIk5PTkVcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIlNSQ19PVkVSXCJdID0gMF0gPSBcIlNSQ19PVkVSXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJTUkNfSU5cIl0gPSAyMV0gPSBcIlNSQ19JTlwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX09VVFwiXSA9IDIyXSA9IFwiU1JDX09VVFwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1JDX0FUT1BcIl0gPSAyM10gPSBcIlNSQ19BVE9QXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1ZFUlwiXSA9IDI0XSA9IFwiRFNUX09WRVJcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkRTVF9JTlwiXSA9IDI1XSA9IFwiRFNUX0lOXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfT1VUXCJdID0gMjZdID0gXCJEU1RfT1VUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJEU1RfQVRPUFwiXSA9IDI3XSA9IFwiRFNUX0FUT1BcIjtcbiAgICBCTEVORF9NT0RFU1tCTEVORF9NT0RFU1tcIkVSQVNFXCJdID0gMjZdID0gXCJFUkFTRVwiO1xuICAgIEJMRU5EX01PREVTW0JMRU5EX01PREVTW1wiU1VCVFJBQ1RcIl0gPSAyOF0gPSBcIlNVQlRSQUNUXCI7XG4gICAgQkxFTkRfTU9ERVNbQkxFTkRfTU9ERVNbXCJYT1JcIl0gPSAyOV0gPSBcIlhPUlwiO1xufSkoQkxFTkRfTU9ERVMgfHwgKEJMRU5EX01PREVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyB3ZWJnbCBkcmF3IG1vZGVzLiBUaGVzZSBjYW4gYmUgdXNlZCB0byBzcGVjaWZ5IHdoaWNoIEdMIGRyYXdNb2RlIHRvIHVzZVxuICogdW5kZXIgY2VydGFpbiBzaXR1YXRpb25zIGFuZCByZW5kZXJlcnMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRFJBV19NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT0lOVFMgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVTIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FX0xPT1AgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IExJTkVfU1RSSVAgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFUyAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gVFJJQU5HTEVfU1RSSVAgLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFRSSUFOR0xFX0ZBTiAtXG4gKi9cbnZhciBEUkFXX01PREVTO1xuKGZ1bmN0aW9uIChEUkFXX01PREVTKSB7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiUE9JTlRTXCJdID0gMF0gPSBcIlBPSU5UU1wiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVTXCJdID0gMV0gPSBcIkxJTkVTXCI7XG4gICAgRFJBV19NT0RFU1tEUkFXX01PREVTW1wiTElORV9MT09QXCJdID0gMl0gPSBcIkxJTkVfTE9PUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIkxJTkVfU1RSSVBcIl0gPSAzXSA9IFwiTElORV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFU1wiXSA9IDRdID0gXCJUUklBTkdMRVNcIjtcbiAgICBEUkFXX01PREVTW0RSQVdfTU9ERVNbXCJUUklBTkdMRV9TVFJJUFwiXSA9IDVdID0gXCJUUklBTkdMRV9TVFJJUFwiO1xuICAgIERSQVdfTU9ERVNbRFJBV19NT0RFU1tcIlRSSUFOR0xFX0ZBTlwiXSA9IDZdID0gXCJUUklBTkdMRV9GQU5cIjtcbn0pKERSQVdfTU9ERVMgfHwgKERSQVdfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBWYXJpb3VzIEdMIHRleHR1cmUvcmVzb3VyY2VzIGZvcm1hdHMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgRk9STUFUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbUkdCQT02NDA4XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JHQj02NDA3XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JHPTMzMzE5XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JFRD02NDAzXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JHQkFfSU5URUdFUj0zNjI0OV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSR0JfSU5URUdFUj0zNjI0OF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtSR19JTlRFR0VSPTMzMzIwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1JFRF9JTlRFR0VSPTM2MjQ0XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0FMUEhBPTY0MDZdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbTFVNSU5BTkNFPTY0MDldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbTFVNSU5BTkNFX0FMUEhBPTY0MTBdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbREVQVEhfQ09NUE9ORU5UPTY0MDJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbREVQVEhfU1RFTkNJTD0zNDA0MV0gLVxuICovXG52YXIgRk9STUFUUztcbihmdW5jdGlvbiAoRk9STUFUUykge1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQkFcIl0gPSA2NDA4XSA9IFwiUkdCQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIlJHQlwiXSA9IDY0MDddID0gXCJSR0JcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR1wiXSA9IDMzMzE5XSA9IFwiUkdcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSRURcIl0gPSA2NDAzXSA9IFwiUkVEXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkdCQV9JTlRFR0VSXCJdID0gMzYyNDldID0gXCJSR0JBX0lOVEVHRVJcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR0JfSU5URUdFUlwiXSA9IDM2MjQ4XSA9IFwiUkdCX0lOVEVHRVJcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJSR19JTlRFR0VSXCJdID0gMzMzMjBdID0gXCJSR19JTlRFR0VSXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiUkVEX0lOVEVHRVJcIl0gPSAzNjI0NF0gPSBcIlJFRF9JTlRFR0VSXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiQUxQSEFcIl0gPSA2NDA2XSA9IFwiQUxQSEFcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJMVU1JTkFOQ0VcIl0gPSA2NDA5XSA9IFwiTFVNSU5BTkNFXCI7XG4gICAgRk9STUFUU1tGT1JNQVRTW1wiTFVNSU5BTkNFX0FMUEhBXCJdID0gNjQxMF0gPSBcIkxVTUlOQU5DRV9BTFBIQVwiO1xuICAgIEZPUk1BVFNbRk9STUFUU1tcIkRFUFRIX0NPTVBPTkVOVFwiXSA9IDY0MDJdID0gXCJERVBUSF9DT01QT05FTlRcIjtcbiAgICBGT1JNQVRTW0ZPUk1BVFNbXCJERVBUSF9TVEVOQ0lMXCJdID0gMzQwNDFdID0gXCJERVBUSF9TVEVOQ0lMXCI7XG59KShGT1JNQVRTIHx8IChGT1JNQVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCB0YXJnZXQgdHlwZXMuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgVEFSR0VUU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV8yRD0zNTUzXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfQ1VCRV9NQVA9MzQwNjddIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV8yRF9BUlJBWT0zNTg2Nl0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1g9MzQwNjldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9YPTM0MDcwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWT0zNDA3MV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1k9MzQwNzJdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9aPTM0MDczXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1RFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWj0zNDA3NF0gLVxuICovXG52YXIgVEFSR0VUUztcbihmdW5jdGlvbiAoVEFSR0VUUykge1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfMkRcIl0gPSAzNTUzXSA9IFwiVEVYVFVSRV8yRFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBcIl0gPSAzNDA2N10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFXzJEX0FSUkFZXCJdID0gMzU4NjZdID0gXCJURVhUVVJFXzJEX0FSUkFZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9YXCJdID0gMzQwNjldID0gXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1hcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1hcIl0gPSAzNDA3MF0gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWFwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWVwiXSA9IDM0MDcxXSA9IFwiVEVYVFVSRV9DVUJFX01BUF9QT1NJVElWRV9ZXCI7XG4gICAgVEFSR0VUU1tUQVJHRVRTW1wiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9ZXCJdID0gMzQwNzJdID0gXCJURVhUVVJFX0NVQkVfTUFQX05FR0FUSVZFX1lcIjtcbiAgICBUQVJHRVRTW1RBUkdFVFNbXCJURVhUVVJFX0NVQkVfTUFQX1BPU0lUSVZFX1pcIl0gPSAzNDA3M10gPSBcIlRFWFRVUkVfQ1VCRV9NQVBfUE9TSVRJVkVfWlwiO1xuICAgIFRBUkdFVFNbVEFSR0VUU1tcIlRFWFRVUkVfQ1VCRV9NQVBfTkVHQVRJVkVfWlwiXSA9IDM0MDc0XSA9IFwiVEVYVFVSRV9DVUJFX01BUF9ORUdBVElWRV9aXCI7XG59KShUQVJHRVRTIHx8IChUQVJHRVRTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBHTCBkYXRhIGZvcm1hdCB0eXBlcy5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBUWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVU5TSUdORURfQllURT01MTIxXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX1NIT1JUPTUxMjNdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVU5TSUdORURfU0hPUlRfNV82XzU9MzM2MzVdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVU5TSUdORURfU0hPUlRfNF80XzRfND0zMjgxOV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVTlNJR05FRF9TSE9SVF81XzVfNV8xPTMyODIwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0lOVD01MTI1XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0lOVF8xMEZfMTFGXzExRl9SRVY9MzU4OTldIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWPTMzNjQwXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0lOVF8yNF84PTM0MDQyXSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW1VOU0lHTkVEX0lOVF81XzlfOV85X1JFVj0zNTkwMl0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtCWVRFPTUxMjBdIC1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbU0hPUlQ9NTEyMl0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtJTlQ9NTEyNF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtGTE9BVD01MTI2XSAtXG4gKiBAcHJvcGVydHkge251bWJlcn0gW0ZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVj0zNjI2OV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtIQUxGX0ZMT0FUPTM2MTkzXSAtXG4gKi9cbnZhciBUWVBFUztcbihmdW5jdGlvbiAoVFlQRVMpIHtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0JZVEVcIl0gPSA1MTIxXSA9IFwiVU5TSUdORURfQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRcIl0gPSA1MTIzXSA9IFwiVU5TSUdORURfU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX1NIT1JUXzVfNl81XCJdID0gMzM2MzVdID0gXCJVTlNJR05FRF9TSE9SVF81XzZfNVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiXSA9IDMyODE5XSA9IFwiVU5TSUdORURfU0hPUlRfNF80XzRfNFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiXSA9IDMyODIwXSA9IFwiVU5TSUdORURfU0hPUlRfNV81XzVfMVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfSU5UXCJdID0gNTEyNV0gPSBcIlVOU0lHTkVEX0lOVFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVlwiXSA9IDM1ODk5XSA9IFwiVU5TSUdORURfSU5UXzEwRl8xMUZfMTFGX1JFVlwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfSU5UXzJfMTBfMTBfMTBfUkVWXCJdID0gMzM2NDBdID0gXCJVTlNJR05FRF9JTlRfMl8xMF8xMF8xMF9SRVZcIjtcbiAgICBUWVBFU1tUWVBFU1tcIlVOU0lHTkVEX0lOVF8yNF84XCJdID0gMzQwNDJdID0gXCJVTlNJR05FRF9JTlRfMjRfOFwiO1xuICAgIFRZUEVTW1RZUEVTW1wiVU5TSUdORURfSU5UXzVfOV85XzlfUkVWXCJdID0gMzU5MDJdID0gXCJVTlNJR05FRF9JTlRfNV85XzlfOV9SRVZcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkJZVEVcIl0gPSA1MTIwXSA9IFwiQllURVwiO1xuICAgIFRZUEVTW1RZUEVTW1wiU0hPUlRcIl0gPSA1MTIyXSA9IFwiU0hPUlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIklOVFwiXSA9IDUxMjRdID0gXCJJTlRcIjtcbiAgICBUWVBFU1tUWVBFU1tcIkZMT0FUXCJdID0gNTEyNl0gPSBcIkZMT0FUXCI7XG4gICAgVFlQRVNbVFlQRVNbXCJGTE9BVF8zMl9VTlNJR05FRF9JTlRfMjRfOF9SRVZcIl0gPSAzNjI2OV0gPSBcIkZMT0FUXzMyX1VOU0lHTkVEX0lOVF8yNF84X1JFVlwiO1xuICAgIFRZUEVTW1RZUEVTW1wiSEFMRl9GTE9BVFwiXSA9IDM2MTkzXSA9IFwiSEFMRl9GTE9BVFwiO1xufSkoVFlQRVMgfHwgKFRZUEVTID0ge30pKTtcbi8qKlxuICogVmFyaW91cyBzYW1wbGVyIHR5cGVzLiBDb3JyZXNwb25kIHRvIGBzYW1wbGVyYCwgYGlzYW1wbGVyYCwgYHVzYW1wbGVyYCBHTFNMIHR5cGVzIHJlc3BlY3RpdmVseS5cbiAqIFdlYkdMMSB3b3JrcyBvbmx5IHdpdGggRkxPQVQuXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQG5hbWUgU0FNUExFUl9UWVBFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBbRkxPQVQ9MF0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtJTlQ9MV0gLVxuICogQHByb3BlcnR5IHtudW1iZXJ9IFtVSU5UPTJdIC1cbiAqL1xudmFyIFNBTVBMRVJfVFlQRVM7XG4oZnVuY3Rpb24gKFNBTVBMRVJfVFlQRVMpIHtcbiAgICBTQU1QTEVSX1RZUEVTW1NBTVBMRVJfVFlQRVNbXCJGTE9BVFwiXSA9IDBdID0gXCJGTE9BVFwiO1xuICAgIFNBTVBMRVJfVFlQRVNbU0FNUExFUl9UWVBFU1tcIklOVFwiXSA9IDFdID0gXCJJTlRcIjtcbiAgICBTQU1QTEVSX1RZUEVTW1NBTVBMRVJfVFlQRVNbXCJVSU5UXCJdID0gMl0gPSBcIlVJTlRcIjtcbn0pKFNBTVBMRVJfVFlQRVMgfHwgKFNBTVBMRVJfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBUaGUgc2NhbGUgbW9kZXMgdGhhdCBhcmUgc3VwcG9ydGVkIGJ5IHBpeGkuXG4gKlxuICogVGhlIHtAbGluayBQSVhJLnNldHRpbmdzLlNDQUxFX01PREV9IHNjYWxlIG1vZGUgYWZmZWN0cyB0aGUgZGVmYXVsdCBzY2FsaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIExJTkVBUiBvciBORUFSRVNULCBkZXBlbmRpbmcgdXBvbiBzdWl0YWJpbGl0eS5cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAbmFtZSBTQ0FMRV9NT0RFU1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBMSU5FQVIgU21vb3RoIHNjYWxpbmdcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBORUFSRVNUIFBpeGVsYXRpbmcgc2NhbGluZ1xuICovXG52YXIgU0NBTEVfTU9ERVM7XG4oZnVuY3Rpb24gKFNDQUxFX01PREVTKSB7XG4gICAgU0NBTEVfTU9ERVNbU0NBTEVfTU9ERVNbXCJORUFSRVNUXCJdID0gMF0gPSBcIk5FQVJFU1RcIjtcbiAgICBTQ0FMRV9NT0RFU1tTQ0FMRV9NT0RFU1tcIkxJTkVBUlwiXSA9IDFdID0gXCJMSU5FQVJcIjtcbn0pKFNDQUxFX01PREVTIHx8IChTQ0FMRV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSB3cmFwIG1vZGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSBwaXhpLlxuICpcbiAqIFRoZSB7QGxpbmsgUElYSS5zZXR0aW5ncy5XUkFQX01PREV9IHdyYXAgbW9kZSBhZmZlY3RzIHRoZSBkZWZhdWx0IHdyYXBwaW5nIG1vZGUgb2YgZnV0dXJlIG9wZXJhdGlvbnMuXG4gKiBJdCBjYW4gYmUgcmUtYXNzaWduZWQgdG8gZWl0aGVyIENMQU1QIG9yIFJFUEVBVCwgZGVwZW5kaW5nIHVwb24gc3VpdGFiaWxpdHkuXG4gKiBJZiB0aGUgdGV4dHVyZSBpcyBub24gcG93ZXIgb2YgdHdvIHRoZW4gY2xhbXAgd2lsbCBiZSB1c2VkIHJlZ2FyZGxlc3MgYXMgV2ViR0wgY2FuXG4gKiBvbmx5IHVzZSBSRVBFQVQgaWYgdGhlIHRleHR1cmUgaXMgcG8yLlxuICpcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICogQG5hbWUgV1JBUF9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xBTVAgLSBUaGUgdGV4dHVyZXMgdXZzIGFyZSBjbGFtcGVkXG4gKiBAcHJvcGVydHkge251bWJlcn0gUkVQRUFUIC0gVGhlIHRleHR1cmUgdXZzIHRpbGUgYW5kIHJlcGVhdFxuICogQHByb3BlcnR5IHtudW1iZXJ9IE1JUlJPUkVEX1JFUEVBVCAtIFRoZSB0ZXh0dXJlIHV2cyB0aWxlIGFuZCByZXBlYXQgd2l0aCBtaXJyb3JpbmdcbiAqL1xudmFyIFdSQVBfTU9ERVM7XG4oZnVuY3Rpb24gKFdSQVBfTU9ERVMpIHtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJDTEFNUFwiXSA9IDMzMDcxXSA9IFwiQ0xBTVBcIjtcbiAgICBXUkFQX01PREVTW1dSQVBfTU9ERVNbXCJSRVBFQVRcIl0gPSAxMDQ5N10gPSBcIlJFUEVBVFwiO1xuICAgIFdSQVBfTU9ERVNbV1JBUF9NT0RFU1tcIk1JUlJPUkVEX1JFUEVBVFwiXSA9IDMzNjQ4XSA9IFwiTUlSUk9SRURfUkVQRUFUXCI7XG59KShXUkFQX01PREVTIHx8IChXUkFQX01PREVTID0ge30pKTtcbi8qKlxuICogTWlwbWFwIGZpbHRlcmluZyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuTUlQTUFQX1RFWFRVUkVTfSBhZmZlY3RzIGRlZmF1bHQgdGV4dHVyZSBmaWx0ZXJpbmcuXG4gKiBNaXBtYXBzIGFyZSBnZW5lcmF0ZWQgZm9yIGEgYmFzZVRleHR1cmUgaWYgaXRzIGBtaXBtYXBgIGZpZWxkIGlzIGBPTmAsXG4gKiBvciBpdHMgYFBPVzJgIGFuZCB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvd2VycyBvZiAyLlxuICogRHVlIHRvIHBsYXRmb3JtIHJlc3RyaWN0aW9uLCBgT05gIG9wdGlvbiB3aWxsIHdvcmsgbGlrZSBgUE9XMmAgZm9yIHdlYmdsLTEuXG4gKlxuICogVGhpcyBwcm9wZXJ0eSBvbmx5IGFmZmVjdHMgV2ViR0wuXG4gKiBAbmFtZSBNSVBNQVBfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IE9GRiAtIE5vIG1pcG1hcHNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQT1cyIC0gR2VuZXJhdGUgbWlwbWFwcyBpZiB0ZXh0dXJlIGRpbWVuc2lvbnMgYXJlIHBvdzJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBPTiAtIEFsd2F5cyBnZW5lcmF0ZSBtaXBtYXBzXG4gKiBAcHJvcGVydHkge251bWJlcn0gT05fTUFOVUFMIC0gVXNlIG1pcG1hcHMsIGJ1dCBkbyBub3QgYXV0by1nZW5lcmF0ZSB0aGVtOyB0aGlzIGlzIHVzZWQgd2l0aCBhIHJlc291cmNlXG4gKiAgIHRoYXQgc3VwcG9ydHMgYnVmZmVyaW5nIGVhY2ggbGV2ZWwtb2YtZGV0YWlsLlxuICovXG52YXIgTUlQTUFQX01PREVTO1xuKGZ1bmN0aW9uIChNSVBNQVBfTU9ERVMpIHtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT0ZGXCJdID0gMF0gPSBcIk9GRlwiO1xuICAgIE1JUE1BUF9NT0RFU1tNSVBNQVBfTU9ERVNbXCJQT1cyXCJdID0gMV0gPSBcIlBPVzJcIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05cIl0gPSAyXSA9IFwiT05cIjtcbiAgICBNSVBNQVBfTU9ERVNbTUlQTUFQX01PREVTW1wiT05fTUFOVUFMXCJdID0gM10gPSBcIk9OX01BTlVBTFwiO1xufSkoTUlQTUFQX01PREVTIHx8IChNSVBNQVBfTU9ERVMgPSB7fSkpO1xuLyoqXG4gKiBIb3cgdG8gdHJlYXQgdGV4dHVyZXMgd2l0aCBwcmVtdWx0aXBsaWVkIGFscGhhXG4gKiBAbmFtZSBBTFBIQV9NT0RFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9fUFJFTVVMVElQTElFRF9BTFBIQSAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgbGVhdmUgaXQgbGlrZSB0aGF0LlxuICogIE9wdGlvbiBmb3IgY29tcHJlc3NlZCBhbmQgZGF0YSB0ZXh0dXJlcyB0aGF0IGFyZSBjcmVhdGVkIGZyb20gdHlwZWQgYXJyYXlzLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBSRU1VTFRJUExZX09OX1VQTE9BRCAtIFNvdXJjZSBpcyBub3QgcHJlbXVsdGlwbGllZCwgcHJlbXVsdGlwbHkgb24gdXBsb2FkLlxuICogIERlZmF1bHQgb3B0aW9uLCB1c2VkIGZvciBhbGwgbG9hZGVkIGltYWdlcy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBQUkVNVUxUSVBMSUVEX0FMUEhBIC0gU291cmNlIGlzIGFscmVhZHkgcHJlbXVsdGlwbGllZFxuICogIEV4YW1wbGU6IHNwaW5lIGF0bGFzZXMgd2l0aCBgX3BtYWAgc3VmZml4LlxuICogQHByb3BlcnR5IHtudW1iZXJ9IE5QTSAtIEFsaWFzIGZvciBOT19QUkVNVUxUSVBMSUVEX0FMUEhBLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFVOUEFDSyAtIERlZmF1bHQgb3B0aW9uLCBhbGlhcyBmb3IgUFJFTVVMVElQTFlfT05fVVBMT0FELlxuICogQHByb3BlcnR5IHtudW1iZXJ9IFBNQSAtIEFsaWFzIGZvciBQUkVNVUxUSVBMSUVEX0FMUEhBLlxuICovXG52YXIgQUxQSEFfTU9ERVM7XG4oZnVuY3Rpb24gKEFMUEhBX01PREVTKSB7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOUE1cIl0gPSAwXSA9IFwiTlBNXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJVTlBBQ0tcIl0gPSAxXSA9IFwiVU5QQUNLXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQTUFcIl0gPSAyXSA9IFwiUE1BXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJOT19QUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMF0gPSBcIk5PX1BSRU1VTFRJUExJRURfQUxQSEFcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX09OX1VQTE9BRFwiXSA9IDFdID0gXCJQUkVNVUxUSVBMWV9PTl9VUExPQURcIjtcbiAgICBBTFBIQV9NT0RFU1tBTFBIQV9NT0RFU1tcIlBSRU1VTFRJUExZX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExZX0FMUEhBXCI7XG4gICAgQUxQSEFfTU9ERVNbQUxQSEFfTU9ERVNbXCJQUkVNVUxUSVBMSUVEX0FMUEhBXCJdID0gMl0gPSBcIlBSRU1VTFRJUExJRURfQUxQSEFcIjtcbn0pKEFMUEhBX01PREVTIHx8IChBTFBIQV9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbmZpZ3VyZSB3aGV0aGVyIGZpbHRlciB0ZXh0dXJlcyBhcmUgY2xlYXJlZCBhZnRlciBiaW5kaW5nLlxuICpcbiAqIEZpbHRlciB0ZXh0dXJlcyBuZWVkIG5vdCBiZSBjbGVhcmVkIGlmIHRoZSBmaWx0ZXIgZG9lcyBub3QgdXNlIHBpeGVsIGJsZW5kaW5nLiB7QGxpbmsgQ0xFQVJfTU9ERVMuQkxJVH0gd2lsbCBkZXRlY3RcbiAqIHRoaXMgYW5kIHNraXAgY2xlYXJpbmcgYXMgYW4gb3B0aW1pemF0aW9uLlxuICogQG5hbWUgQ0xFQVJfTU9ERVNcbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAc3RhdGljXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMRU5EIC0gRG8gbm90IGNsZWFyIHRoZSBmaWx0ZXIgdGV4dHVyZS4gVGhlIGZpbHRlcidzIG91dHB1dCB3aWxsIGJsZW5kIG9uIHRvcCBvZiB0aGUgb3V0cHV0IHRleHR1cmUuXG4gKiBAcHJvcGVydHkge251bWJlcn0gQ0xFQVIgLSBBbHdheXMgY2xlYXIgdGhlIGZpbHRlciB0ZXh0dXJlLlxuICogQHByb3BlcnR5IHtudW1iZXJ9IEJMSVQgLSBDbGVhciBvbmx5IGlmIHtAbGluayBGaWx0ZXJTeXN0ZW0uZm9yY2VDbGVhcn0gaXMgc2V0IG9yIGlmIHRoZSBmaWx0ZXIgdXNlcyBwaXhlbCBibGVuZGluZy5cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOTyAtIEFsaWFzIGZvciBCTEVORCwgc2FtZSBhcyBgZmFsc2VgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBZRVMgLSBBbGlhcyBmb3IgQ0xFQVIsIHNhbWUgYXMgYHRydWVgIGluIGVhcmxpZXIgdmVyc2lvbnNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBVVRPIC0gQWxpYXMgZm9yIEJMSVRcbiAqL1xudmFyIENMRUFSX01PREVTO1xuKGZ1bmN0aW9uIChDTEVBUl9NT0RFUykge1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiTk9cIl0gPSAwXSA9IFwiTk9cIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIllFU1wiXSA9IDFdID0gXCJZRVNcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkFVVE9cIl0gPSAyXSA9IFwiQVVUT1wiO1xuICAgIENMRUFSX01PREVTW0NMRUFSX01PREVTW1wiQkxFTkRcIl0gPSAwXSA9IFwiQkxFTkRcIjtcbiAgICBDTEVBUl9NT0RFU1tDTEVBUl9NT0RFU1tcIkNMRUFSXCJdID0gMV0gPSBcIkNMRUFSXCI7XG4gICAgQ0xFQVJfTU9ERVNbQ0xFQVJfTU9ERVNbXCJCTElUXCJdID0gMl0gPSBcIkJMSVRcIjtcbn0pKENMRUFSX01PREVTIHx8IChDTEVBUl9NT0RFUyA9IHt9KSk7XG4vKipcbiAqIFRoZSBnYyBtb2RlcyB0aGF0IGFyZSBzdXBwb3J0ZWQgYnkgcGl4aS5cbiAqXG4gKiBUaGUge0BsaW5rIFBJWEkuc2V0dGluZ3MuR0NfTU9ERX0gR2FyYmFnZSBDb2xsZWN0aW9uIG1vZGUgZm9yIFBpeGlKUyB0ZXh0dXJlcyBpcyBBVVRPXG4gKiBJZiBzZXQgdG8gR0NfTU9ERSwgdGhlIHJlbmRlcmVyIHdpbGwgb2NjYXNpb25hbGx5IGNoZWNrIHRleHR1cmVzIHVzYWdlLiBJZiB0aGV5IGFyZSBub3RcbiAqIHVzZWQgZm9yIGEgc3BlY2lmaWVkIHBlcmlvZCBvZiB0aW1lIHRoZXkgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIEdQVS4gVGhleSB3aWxsIG9mIGNvdXJzZVxuICogYmUgdXBsb2FkZWQgYWdhaW4gd2hlbiB0aGV5IGFyZSByZXF1aXJlZC4gVGhpcyBpcyBhIHNpbGVudCBiZWhpbmQgdGhlIHNjZW5lcyBwcm9jZXNzIHRoYXRcbiAqIHNob3VsZCBlbnN1cmUgdGhhdCB0aGUgR1BVIGRvZXMgbm90ICBnZXQgZmlsbGVkIHVwLlxuICpcbiAqIEhhbmR5IGZvciBtb2JpbGUgZGV2aWNlcyFcbiAqIFRoaXMgcHJvcGVydHkgb25seSBhZmZlY3RzIFdlYkdMLlxuICogQG5hbWUgR0NfTU9ERVNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHByb3BlcnR5IHtudW1iZXJ9IEFVVE8gLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBoYXBwZW4gcGVyaW9kaWNhbGx5IGF1dG9tYXRpY2FsbHlcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBNQU5VQUwgLSBHYXJiYWdlIGNvbGxlY3Rpb24gd2lsbCBuZWVkIHRvIGJlIGNhbGxlZCBtYW51YWxseVxuICovXG52YXIgR0NfTU9ERVM7XG4oZnVuY3Rpb24gKEdDX01PREVTKSB7XG4gICAgR0NfTU9ERVNbR0NfTU9ERVNbXCJBVVRPXCJdID0gMF0gPSBcIkFVVE9cIjtcbiAgICBHQ19NT0RFU1tHQ19NT0RFU1tcIk1BTlVBTFwiXSA9IDFdID0gXCJNQU5VQUxcIjtcbn0pKEdDX01PREVTIHx8IChHQ19NT0RFUyA9IHt9KSk7XG4vKipcbiAqIENvbnN0YW50cyB0aGF0IHNwZWNpZnkgZmxvYXQgcHJlY2lzaW9uIGluIHNoYWRlcnMuXG4gKiBAbmFtZSBQUkVDSVNJT05cbiAqIEBtZW1iZXJvZiBQSVhJXG4gKiBAY29uc3RhbnRcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKiBAcHJvcGVydHkge3N0cmluZ30gW0xPVz0nbG93cCddIC1cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBbTUVESVVNPSdtZWRpdW1wJ10gLVxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtISUdIPSdoaWdocCddIC1cbiAqL1xudmFyIFBSRUNJU0lPTjtcbihmdW5jdGlvbiAoUFJFQ0lTSU9OKSB7XG4gICAgUFJFQ0lTSU9OW1wiTE9XXCJdID0gXCJsb3dwXCI7XG4gICAgUFJFQ0lTSU9OW1wiTUVESVVNXCJdID0gXCJtZWRpdW1wXCI7XG4gICAgUFJFQ0lTSU9OW1wiSElHSFwiXSA9IFwiaGlnaHBcIjtcbn0pKFBSRUNJU0lPTiB8fCAoUFJFQ0lTSU9OID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciBtYXNrIGltcGxlbWVudGF0aW9ucy5cbiAqIFdlIHVzZSBgdHlwZWAgc3VmZml4IGJlY2F1c2UgaXQgbGVhZHMgdG8gdmVyeSBkaWZmZXJlbnQgYmVoYXZpb3Vyc1xuICogQG5hbWUgTUFTS19UWVBFU1xuICogQG1lbWJlcm9mIFBJWElcbiAqIEBzdGF0aWNcbiAqIEBlbnVtIHtudW1iZXJ9XG4gKiBAcHJvcGVydHkge251bWJlcn0gTk9ORSAtIE1hc2sgaXMgaWdub3JlZFxuICogQHByb3BlcnR5IHtudW1iZXJ9IFNDSVNTT1IgLSBTY2lzc29yIG1hc2ssIHJlY3RhbmdsZSBvbiBzY3JlZW4sIGNoZWFwXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1RFTkNJTCAtIFN0ZW5jaWwgbWFzaywgMS1iaXQsIG1lZGl1bSwgd29ya3Mgb25seSBpZiByZW5kZXJlciBzdXBwb3J0cyBzdGVuY2lsXG4gKiBAcHJvcGVydHkge251bWJlcn0gU1BSSVRFIC0gTWFzayB0aGF0IHVzZXMgU3ByaXRlTWFza0ZpbHRlciwgdXNlcyB0ZW1wb3JhcnkgUmVuZGVyVGV4dHVyZVxuICovXG52YXIgTUFTS19UWVBFUztcbihmdW5jdGlvbiAoTUFTS19UWVBFUykge1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIk5PTkVcIl0gPSAwXSA9IFwiTk9ORVwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNDSVNTT1JcIl0gPSAxXSA9IFwiU0NJU1NPUlwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNURU5DSUxcIl0gPSAyXSA9IFwiU1RFTkNJTFwiO1xuICAgIE1BU0tfVFlQRVNbTUFTS19UWVBFU1tcIlNQUklURVwiXSA9IDNdID0gXCJTUFJJVEVcIjtcbn0pKE1BU0tfVFlQRVMgfHwgKE1BU0tfVFlQRVMgPSB7fSkpO1xuLyoqXG4gKiBDb25zdGFudHMgZm9yIG11bHRpLXNhbXBsaW5nIGFudGlhbGlhc2luZy5cbiAqIEBzZWUgUElYSS5GcmFtZWJ1ZmZlciNtdWx0aXNhbXBsZVxuICogQG5hbWUgTVNBQV9RVUFMSVRZXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBOT05FIC0gTm8gbXVsdGlzYW1wbGluZyBmb3IgdGhpcyByZW5kZXJUZXh0dXJlXG4gKiBAcHJvcGVydHkge251bWJlcn0gTE9XIC0gVHJ5IDIgc2FtcGxlc1xuICogQHByb3BlcnR5IHtudW1iZXJ9IE1FRElVTSAtIFRyeSA0IHNhbXBsZXNcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBISUdIIC0gVHJ5IDggc2FtcGxlc1xuICovXG52YXIgTVNBQV9RVUFMSVRZO1xuKGZ1bmN0aW9uIChNU0FBX1FVQUxJVFkpIHtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTk9ORVwiXSA9IDBdID0gXCJOT05FXCI7XG4gICAgTVNBQV9RVUFMSVRZW01TQUFfUVVBTElUWVtcIkxPV1wiXSA9IDJdID0gXCJMT1dcIjtcbiAgICBNU0FBX1FVQUxJVFlbTVNBQV9RVUFMSVRZW1wiTUVESVVNXCJdID0gNF0gPSBcIk1FRElVTVwiO1xuICAgIE1TQUFfUVVBTElUWVtNU0FBX1FVQUxJVFlbXCJISUdIXCJdID0gOF0gPSBcIkhJR0hcIjtcbn0pKE1TQUFfUVVBTElUWSB8fCAoTVNBQV9RVUFMSVRZID0ge30pKTtcbi8qKlxuICogQ29uc3RhbnRzIGZvciB2YXJpb3VzIGJ1ZmZlciB0eXBlcyBpbiBQaXhpXG4gKiBAc2VlIFBJWEkuQlVGRkVSX1RZUEVcbiAqIEBuYW1lIEJVRkZFUl9UWVBFXG4gKiBAbWVtYmVyb2YgUElYSVxuICogQHN0YXRpY1xuICogQGVudW0ge251bWJlcn1cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBFTEVNRU5UX0FSUkFZX0JVRkZFUiAtIGJ1ZmZlciB0eXBlIGZvciB1c2luZyBhcyBhbiBpbmRleCBidWZmZXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBBUlJBWV9CVUZGRVIgLSBidWZmZXIgdHlwZSBmb3IgdXNpbmcgYXR0cmlidXRlIGRhdGFcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBVTklGT1JNX0JVRkZFUiAtIHRoZSBidWZmZXIgdHlwZSBpcyBmb3IgdW5pZm9ybSBidWZmZXIgb2JqZWN0c1xuICovXG52YXIgQlVGRkVSX1RZUEU7XG4oZnVuY3Rpb24gKEJVRkZFUl9UWVBFKSB7XG4gICAgQlVGRkVSX1RZUEVbQlVGRkVSX1RZUEVbXCJFTEVNRU5UX0FSUkFZX0JVRkZFUlwiXSA9IDM0OTYzXSA9IFwiRUxFTUVOVF9BUlJBWV9CVUZGRVJcIjtcbiAgICBCVUZGRVJfVFlQRVtCVUZGRVJfVFlQRVtcIkFSUkFZX0JVRkZFUlwiXSA9IDM0OTYyXSA9IFwiQVJSQVlfQlVGRkVSXCI7XG4gICAgLy8gTk9UIFlFVCBTVVBQT1JURURcbiAgICBCVUZGRVJfVFlQRVtCVUZGRVJfVFlQRVtcIlVOSUZPUk1fQlVGRkVSXCJdID0gMzUzNDVdID0gXCJVTklGT1JNX0JVRkZFUlwiO1xufSkoQlVGRkVSX1RZUEUgfHwgKEJVRkZFUl9UWVBFID0ge30pKTtcblxuZnVuY3Rpb24gc29ydENoaWxkcmVuKGEsIGIpIHtcbiAgICBpZiAoYS56SW5kZXggPT09IGIuekluZGV4KSB7XG4gICAgICAgIHJldHVybiBhLl9sYXN0U29ydGVkSW5kZXggLSBiLl9sYXN0U29ydGVkSW5kZXg7XG4gICAgfVxuICAgIHJldHVybiBhLnpJbmRleCAtIGIuekluZGV4O1xufVxuLyoqXG4gKiBDb250YWluZXIgaXMgYSBnZW5lcmFsLXB1cnBvc2UgZGlzcGxheSBvYmplY3QgdGhhdCBob2xkcyBjaGlsZHJlbi4gSXQgYWxzbyBhZGRzIGJ1aWx0LWluIHN1cHBvcnQgZm9yIGFkdmFuY2VkXG4gKiByZW5kZXJpbmcgZmVhdHVyZXMgbGlrZSBtYXNraW5nIGFuZCBmaWx0ZXJpbmcuXG4gKlxuICogSXQgaXMgdGhlIGJhc2UgY2xhc3Mgb2YgYWxsIGRpc3BsYXkgb2JqZWN0cyB0aGF0IGFjdCBhcyBhIGNvbnRhaW5lciBmb3Igb3RoZXIgb2JqZWN0cywgaW5jbHVkaW5nIEdyYXBoaWNzXG4gKiBhbmQgU3ByaXRlLlxuICpcbiAqIGBgYGpzXG4gKiBpbXBvcnQgeyBCbHVyRmlsdGVyIH0gZnJvbSAnQHBpeGkvZmlsdGVyLWJsdXInO1xuICogaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSAnQHBpeGkvZGlzcGxheSc7XG4gKiBpbXBvcnQgeyBHcmFwaGljcyB9IGZyb20gJ0BwaXhpL2dyYXBoaWNzJztcbiAqIGltcG9ydCB7IFNwcml0ZSB9IGZyb20gJ0BwaXhpL3Nwcml0ZSc7XG4gKlxuICogbGV0IGNvbnRhaW5lciA9IG5ldyBDb250YWluZXIoKTtcbiAqIGxldCBzcHJpdGUgPSBTcHJpdGUuZnJvbShcImh0dHBzOi8vczMtdXMtd2VzdC0yLmFtYXpvbmF3cy5jb20vcy5jZHBuLmlvLzY5MzYxMi9JYVVydHRqLnBuZ1wiKTtcbiAqXG4gKiBzcHJpdGUud2lkdGggPSA1MTI7XG4gKiBzcHJpdGUuaGVpZ2h0ID0gNTEyO1xuICpcbiAqIC8vIEFkZHMgYSBzcHJpdGUgYXMgYSBjaGlsZCB0byB0aGlzIGNvbnRhaW5lci4gQXMgYSByZXN1bHQsIHRoZSBzcHJpdGUgd2lsbCBiZSByZW5kZXJlZCB3aGVuZXZlciB0aGUgY29udGFpbmVyXG4gKiAvLyBpcyByZW5kZXJlZC5cbiAqIGNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuICpcbiAqIC8vIEJsdXJzIHdoYXRldmVyIGlzIHJlbmRlcmVkIGJ5IHRoZSBjb250YWluZXJcbiAqIGNvbnRhaW5lci5maWx0ZXJzID0gW25ldyBCbHVyRmlsdGVyKCldO1xuICpcbiAqIC8vIE9ubHkgdGhlIGNvbnRlbnRzIHdpdGhpbiBhIGNpcmNsZSBhdCB0aGUgY2VudGVyIHNob3VsZCBiZSByZW5kZXJlZCBvbnRvIHRoZSBzY3JlZW4uXG4gKiBjb250YWluZXIubWFzayA9IG5ldyBHcmFwaGljcygpXG4gKiAgLmJlZ2luRmlsbCgweGZmZmZmZilcbiAqICAuZHJhd0NpcmNsZShzcHJpdGUud2lkdGggLyAyLCBzcHJpdGUuaGVpZ2h0IC8gMiwgTWF0aC5taW4oc3ByaXRlLndpZHRoLCBzcHJpdGUuaGVpZ2h0KSAvIDIpXG4gKiAgLmVuZEZpbGwoKTtcbiAqIGBgYFxuICogQG1lbWJlcm9mIFBJWElcbiAqL1xudmFyIENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ29udGFpbmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbnRhaW5lcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgX3RoaXMuc29ydGFibGVDaGlsZHJlbiA9IHNldHRpbmdzLnNldHRpbmdzLlNPUlRBQkxFX0NISUxEUkVOO1xuICAgICAgICBfdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgYWRkZWQgdG8gdGhpcyBDb250YWluZXIuXG4gICAgICAgICAqIEBldmVudCBQSVhJLkNvbnRhaW5lciNjaGlsZEFkZGVkXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCBhZGRlZCB0byB0aGUgQ29udGFpbmVyLlxuICAgICAgICAgKiBAcGFyYW0ge1BJWEkuQ29udGFpbmVyfSBjb250YWluZXIgLSBUaGUgY29udGFpbmVyIHRoYXQgYWRkZWQgdGhlIGNoaWxkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5kZXggLSBUaGUgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgYWRkZWQgY2hpbGQuXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogRmlyZWQgd2hlbiBhIERpc3BsYXlPYmplY3QgaXMgcmVtb3ZlZCBmcm9tIHRoaXMgQ29udGFpbmVyLlxuICAgICAgICAgKiBAZXZlbnQgUElYSS5EaXNwbGF5T2JqZWN0I3JlbW92ZWRGcm9tXG4gICAgICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZCAtIFRoZSBjaGlsZCByZW1vdmVkIGZyb20gdGhlIENvbnRhaW5lci5cbiAgICAgICAgICogQHBhcmFtIHtQSVhJLkNvbnRhaW5lcn0gY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciB0aGF0IHJlbW92ZWQgcmVtb3ZlZCB0aGUgY2hpbGQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCAtIFRoZSBmb3JtZXIgY2hpbGRyZW4ncyBpbmRleCBvZiB0aGUgcmVtb3ZlZCBjaGlsZFxuICAgICAgICAgKi9cbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGFibGUgbWV0aG9kIHRoYXQgY2FuIGJlIHVzZWQgYnkgQ29udGFpbmVyIHN1YmNsYXNzZXMgd2hlbmV2ZXIgdGhlIGNoaWxkcmVuIGFycmF5IGlzIG1vZGlmaWVkLlxuICAgICAqIEBwYXJhbSBfbGVuZ3RoXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5vbkNoaWxkcmVuQ2hhbmdlID0gZnVuY3Rpb24gKF9sZW5ndGgpIHtcbiAgICAgICAgLyogZW1wdHkgKi9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFkZHMgb25lIG9yIG1vcmUgY2hpbGRyZW4gdG8gdGhlIGNvbnRhaW5lci5cbiAgICAgKlxuICAgICAqIE11bHRpcGxlIGl0ZW1zIGNhbiBiZSBhZGRlZCBsaWtlIHNvOiBgbXlDb250YWluZXIuYWRkQ2hpbGQodGhpbmdPbmUsIHRoaW5nVHdvLCB0aGluZ1RocmVlKWBcbiAgICAgKiBAcGFyYW0gey4uLlBJWEkuRGlzcGxheU9iamVjdH0gY2hpbGRyZW4gLSBUaGUgRGlzcGxheU9iamVjdChzKSB0byBhZGQgdG8gdGhlIGNvbnRhaW5lclxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IC0gVGhlIGZpcnN0IGNoaWxkIHRoYXQgd2FzIGFkZGVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcnJheSBhbmQgYWRkIGFsbCBjaGlsZHJlblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItcmVzdC1wYXJhbXNcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgLy8gaWYgdGhlIGNoaWxkIGhhcyBhIHBhcmVudCB0aGVuIGxldHMgcmVtb3ZlIGl0IGFzIFBpeGlKUyBvYmplY3RzIGNhbiBvbmx5IGV4aXN0IGluIG9uZSBwbGFjZVxuICAgICAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgICAgIGNoaWxkLnBhcmVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgdGhpcy5zb3J0RGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgLy8gZW5zdXJlIGNoaWxkIHRyYW5zZm9ybSB3aWxsIGJlIHJlY2FsY3VsYXRlZFxuICAgICAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UodGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdCgnY2hpbGRBZGRlZCcsIGNoaWxkLCB0aGlzLCB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY2hpbGQgdG8gdGhlIGNvbnRhaW5lciBhdCBhIHNwZWNpZmllZCBpbmRleC4gSWYgdGhlIGluZGV4IGlzIG91dCBvZiBib3VuZHMgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd25cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gY2hpbGQgLSBUaGUgY2hpbGQgdG8gYWRkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGluZGV4IC0gVGhlIGluZGV4IHRvIHBsYWNlIHRoZSBjaGlsZCBpblxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBjaGlsZCB0aGF0IHdhcyBhZGRlZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmFkZENoaWxkQXQgPSBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPiB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGNoaWxkICsgXCJhZGRDaGlsZEF0OiBUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoaWxkLnBhcmVudCkge1xuICAgICAgICAgICAgY2hpbGQucGFyZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICB0aGlzLnNvcnREaXJ0eSA9IHRydWU7XG4gICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpO1xuICAgICAgICAvLyBlbnN1cmUgYm91bmRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkXG4gICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgIC8vIFRPRE8gLSBsZXRzIGVpdGhlciBkbyBhbGwgY2FsbGJhY2tzIG9yIGFsbCBldmVudHMuLiBub3QgYm90aCFcbiAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGluZGV4KTtcbiAgICAgICAgY2hpbGQuZW1pdCgnYWRkZWQnLCB0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0KCdjaGlsZEFkZGVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dhcHMgdGhlIHBvc2l0aW9uIG9mIDIgRGlzcGxheSBPYmplY3RzIHdpdGhpbiB0aGlzIGNvbnRhaW5lci5cbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBGaXJzdCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICogQHBhcmFtIGNoaWxkMiAtIFNlY29uZCBkaXNwbGF5IG9iamVjdCB0byBzd2FwXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zd2FwQ2hpbGRyZW4gPSBmdW5jdGlvbiAoY2hpbGQsIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgPT09IGNoaWxkMikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbmRleDEgPSB0aGlzLmdldENoaWxkSW5kZXgoY2hpbGQpO1xuICAgICAgICB2YXIgaW5kZXgyID0gdGhpcy5nZXRDaGlsZEluZGV4KGNoaWxkMik7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baW5kZXgxXSA9IGNoaWxkMjtcbiAgICAgICAgdGhpcy5jaGlsZHJlbltpbmRleDJdID0gY2hpbGQ7XG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleDEgPCBpbmRleDIgPyBpbmRleDEgOiBpbmRleDIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgaW5kZXggcG9zaXRpb24gb2YgYSBjaGlsZCBEaXNwbGF5T2JqZWN0IGluc3RhbmNlXG4gICAgICogQHBhcmFtIGNoaWxkIC0gVGhlIERpc3BsYXlPYmplY3QgaW5zdGFuY2UgdG8gaWRlbnRpZnlcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBpbmRleCBwb3NpdGlvbiBvZiB0aGUgY2hpbGQgZGlzcGxheSBvYmplY3QgdG8gaWRlbnRpZnlcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkSW5kZXggPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgc3VwcGxpZWQgRGlzcGxheU9iamVjdCBtdXN0IGJlIGEgY2hpbGQgb2YgdGhlIGNhbGxlcicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIHBvc2l0aW9uIG9mIGFuIGV4aXN0aW5nIGNoaWxkIGluIHRoZSBkaXNwbGF5IG9iamVjdCBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gY2hpbGQgLSBUaGUgY2hpbGQgRGlzcGxheU9iamVjdCBpbnN0YW5jZSBmb3Igd2hpY2ggeW91IHdhbnQgdG8gY2hhbmdlIHRoZSBpbmRleCBudW1iZXJcbiAgICAgKiBAcGFyYW0gaW5kZXggLSBUaGUgcmVzdWx0aW5nIGluZGV4IG51bWJlciBmb3IgdGhlIGNoaWxkIGRpc3BsYXkgb2JqZWN0XG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zZXRDaGlsZEluZGV4ID0gZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgaW5kZXggXCIgKyBpbmRleCArIFwiIHN1cHBsaWVkIGlzIG91dCBvZiBib3VuZHMgXCIgKyB0aGlzLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuZ2V0Q2hpbGRJbmRleChjaGlsZCk7XG4gICAgICAgIHV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGN1cnJlbnRJbmRleCwgMSk7IC8vIHJlbW92ZSBmcm9tIG9sZCBwb3NpdGlvblxuICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMCwgY2hpbGQpOyAvLyBhZGQgYXQgbmV3IHBvc2l0aW9uXG4gICAgICAgIHRoaXMub25DaGlsZHJlbkNoYW5nZShpbmRleCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjaGlsZCBhdCB0aGUgc3BlY2lmaWVkIGluZGV4XG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgYXRcbiAgICAgKiBAcmV0dXJucyAtIFRoZSBjaGlsZCBhdCB0aGUgZ2l2ZW4gaW5kZXgsIGlmIGFueS5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmdldENoaWxkQXQgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZ2V0Q2hpbGRBdDogSW5kZXggKFwiICsgaW5kZXggKyBcIikgZG9lcyBub3QgZXhpc3QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgb25lIG9yIG1vcmUgY2hpbGRyZW4gZnJvbSB0aGUgY29udGFpbmVyLlxuICAgICAqIEBwYXJhbSB7Li4uUElYSS5EaXNwbGF5T2JqZWN0fSBjaGlsZHJlbiAtIFRoZSBEaXNwbGF5T2JqZWN0KHMpIHRvIHJlbW92ZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLkRpc3BsYXlPYmplY3R9IFRoZSBmaXJzdCBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50cztcblxuICAgICAgICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGNoaWxkcmVuW19pXSA9IGFyZ3VtZW50cyQxW19pXTtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSBhcmd1bWVudCB3ZSBjYW4gYnlwYXNzIGxvb3BpbmcgdGhyb3VnaCB0aGUgdGhlbVxuICAgICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgLy8gbG9vcCB0aHJvdWdoIHRoZSBhcmd1bWVudHMgcHJvcGVydHkgYW5kIHJlbW92ZSBhbGwgY2hpbGRyZW5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGNoaWxkcmVuW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpXG4gICAgICAgICAgICAgICAgeyByZXR1cm4gbnVsbDsgfVxuICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBjaGlsZCB0cmFuc2Zvcm0gd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIGNoaWxkLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgIHV0aWxzLnJlbW92ZUl0ZW1zKHRoaXMuY2hpbGRyZW4sIGluZGV4LCAxKTtcbiAgICAgICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHRoaXMuX2JvdW5kc0lEKys7XG4gICAgICAgICAgICAvLyBUT0RPIC0gbGV0cyBlaXRoZXIgZG8gYWxsIGNhbGxiYWNrcyBvciBhbGwgZXZlbnRzLi4gbm90IGJvdGghXG4gICAgICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICAgICAgY2hpbGQuZW1pdCgncmVtb3ZlZCcsIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCBjaGlsZCwgdGhpcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjaGlsZHJlblswXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjaGlsZCBmcm9tIHRoZSBzcGVjaWZpZWQgaW5kZXggcG9zaXRpb24uXG4gICAgICogQHBhcmFtIGluZGV4IC0gVGhlIGluZGV4IHRvIGdldCB0aGUgY2hpbGQgZnJvbVxuICAgICAqIEByZXR1cm5zIFRoZSBjaGlsZCB0aGF0IHdhcyByZW1vdmVkLlxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVtb3ZlQ2hpbGRBdCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldENoaWxkQXQoaW5kZXgpO1xuICAgICAgICAvLyBlbnN1cmUgY2hpbGQgdHJhbnNmb3JtIHdpbGwgYmUgcmVjYWxjdWxhdGVkLi5cbiAgICAgICAgY2hpbGQucGFyZW50ID0gbnVsbDtcbiAgICAgICAgY2hpbGQudHJhbnNmb3JtLl9wYXJlbnRJRCA9IC0xO1xuICAgICAgICB1dGlscy5yZW1vdmVJdGVtcyh0aGlzLmNoaWxkcmVuLCBpbmRleCwgMSk7XG4gICAgICAgIC8vIGVuc3VyZSBib3VuZHMgd2lsbCBiZSByZWNhbGN1bGF0ZWRcbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgLy8gVE9ETyAtIGxldHMgZWl0aGVyIGRvIGFsbCBjYWxsYmFja3Mgb3IgYWxsIGV2ZW50cy4uIG5vdCBib3RoIVxuICAgICAgICB0aGlzLm9uQ2hpbGRyZW5DaGFuZ2UoaW5kZXgpO1xuICAgICAgICBjaGlsZC5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCgnY2hpbGRSZW1vdmVkJywgY2hpbGQsIHRoaXMsIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSB0aGlzIGNvbnRhaW5lciB0aGF0IGFyZSB3aXRoaW4gdGhlIGJlZ2luIGFuZCBlbmQgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0gYmVnaW5JbmRleCAtIFRoZSBiZWdpbm5pbmcgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIGVuZEluZGV4IC0gVGhlIGVuZGluZyBwb3NpdGlvbi4gRGVmYXVsdCB2YWx1ZSBpcyBzaXplIG9mIHRoZSBjb250YWluZXIuXG4gICAgICogQHJldHVybnMgLSBMaXN0IG9mIHJlbW92ZWQgY2hpbGRyZW5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLnJlbW92ZUNoaWxkcmVuID0gZnVuY3Rpb24gKGJlZ2luSW5kZXgsIGVuZEluZGV4KSB7XG4gICAgICAgIGlmIChiZWdpbkluZGV4ID09PSB2b2lkIDApIHsgYmVnaW5JbmRleCA9IDA7IH1cbiAgICAgICAgaWYgKGVuZEluZGV4ID09PSB2b2lkIDApIHsgZW5kSW5kZXggPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgfVxuICAgICAgICB2YXIgYmVnaW4gPSBiZWdpbkluZGV4O1xuICAgICAgICB2YXIgZW5kID0gZW5kSW5kZXg7XG4gICAgICAgIHZhciByYW5nZSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICB2YXIgcmVtb3ZlZDtcbiAgICAgICAgaWYgKHJhbmdlID4gMCAmJiByYW5nZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHJlbW92ZWQgPSB0aGlzLmNoaWxkcmVuLnNwbGljZShiZWdpbiwgcmFuZ2UpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVkW2ldLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVkW2ldLnRyYW5zZm9ybS5fcGFyZW50SUQgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9ib3VuZHNJRCsrO1xuICAgICAgICAgICAgdGhpcy5vbkNoaWxkcmVuQ2hhbmdlKGJlZ2luSW5kZXgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZW1vdmVkLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlZFtpXS5lbWl0KCdyZW1vdmVkJywgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbWl0KCdjaGlsZFJlbW92ZWQnLCByZW1vdmVkW2ldLCB0aGlzLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZW1vdmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJhbmdlID09PSAwICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3JlbW92ZUNoaWxkcmVuOiBudW1lcmljIHZhbHVlcyBhcmUgb3V0c2lkZSB0aGUgYWNjZXB0YWJsZSByYW5nZS4nKTtcbiAgICB9O1xuICAgIC8qKiBTb3J0cyBjaGlsZHJlbiBieSB6SW5kZXguIFByZXZpb3VzIG9yZGVyIGlzIG1haW50YWluZWQgZm9yIDIgY2hpbGRyZW4gd2l0aCB0aGUgc2FtZSB6SW5kZXguICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5zb3J0Q2hpbGRyZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzb3J0UmVxdWlyZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGNoaWxkLl9sYXN0U29ydGVkSW5kZXggPSBpO1xuICAgICAgICAgICAgaWYgKCFzb3J0UmVxdWlyZWQgJiYgY2hpbGQuekluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgc29ydFJlcXVpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc29ydFJlcXVpcmVkICYmIHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zb3J0KHNvcnRDaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICB9O1xuICAgIC8qKiBVcGRhdGVzIHRoZSB0cmFuc2Zvcm0gb24gYWxsIGNoaWxkcmVuIG9mIHRoaXMgY29udGFpbmVyIGZvciByZW5kZXJpbmcuICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS51cGRhdGVUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnNvcnRhYmxlQ2hpbGRyZW4gJiYgdGhpcy5zb3J0RGlydHkpIHtcbiAgICAgICAgICAgIHRoaXMuc29ydENoaWxkcmVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzSUQrKztcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0udXBkYXRlVHJhbnNmb3JtKHRoaXMucGFyZW50LnRyYW5zZm9ybSk7XG4gICAgICAgIC8vIFRPRE86IGNoZWNrIHJlbmRlciBmbGFncywgaG93IHRvIHByb2Nlc3Mgc3R1ZmYgaGVyZVxuICAgICAgICB0aGlzLndvcmxkQWxwaGEgPSB0aGlzLmFscGhhICogdGhpcy5wYXJlbnQud29ybGRBbHBoYTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjaGlsZC52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlVHJhbnNmb3JtKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIuXG4gICAgICpcbiAgICAgKiBUaGlzIGltcGxlbWVudGF0aW9uIHdpbGwgYXV0b21hdGljYWxseSBmaXQgdGhlIGNoaWxkcmVuJ3MgYm91bmRzIGludG8gdGhlIGNhbGN1bGF0aW9uLiBFYWNoIGNoaWxkJ3MgYm91bmRzXG4gICAgICogaXMgbGltaXRlZCB0byBpdHMgbWFzaydzIGJvdW5kcyBvciBmaWx0ZXJBcmVhLCBpZiBhbnkgaXMgYXBwbGllZC5cbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmNhbGN1bGF0ZUJvdW5kcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYm91bmRzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICBpZiAoIWNoaWxkLnZpc2libGUgfHwgIWNoaWxkLnJlbmRlcmFibGUpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmNhbGN1bGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgLy8gVE9ETzogZmlsdGVyK21hc2ssIG5lZWQgdG8gbWFzayBib3RoIHNvbWVob3dcbiAgICAgICAgICAgIGlmIChjaGlsZC5fbWFzaykge1xuICAgICAgICAgICAgICAgIHZhciBtYXNrT2JqZWN0ID0gKGNoaWxkLl9tYXNrLm1hc2tPYmplY3QgfHwgY2hpbGQuX21hc2spO1xuICAgICAgICAgICAgICAgIG1hc2tPYmplY3QuY2FsY3VsYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYm91bmRzLmFkZEJvdW5kc01hc2soY2hpbGQuX2JvdW5kcywgbWFza09iamVjdC5fYm91bmRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoaWxkLmZpbHRlckFyZWEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9ib3VuZHMuYWRkQm91bmRzQXJlYShjaGlsZC5fYm91bmRzLCBjaGlsZC5maWx0ZXJBcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2JvdW5kcy5hZGRCb3VuZHMoY2hpbGQuX2JvdW5kcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYm91bmRzLnVwZGF0ZUlEID0gdGhpcy5fYm91bmRzSUQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGxvY2FsIGJvdW5kcyBvZiB0aGUgZGlzcGxheU9iamVjdCBhcyBhIHJlY3RhbmdsZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBDYWxsaW5nIGBnZXRMb2NhbEJvdW5kc2AgbWF5IGludmFsaWRhdGUgdGhlIGBfYm91bmRzYCBvZiB0aGUgd2hvbGUgc3VidHJlZSBiZWxvdy4gSWYgdXNpbmcgaXQgaW5zaWRlIGEgcmVuZGVyKClcbiAgICAgKiBjYWxsLCBpdCBpcyBhZHZpc2VkIHRvIGNhbGwgYGdldEJvdW5kcygpYCBpbW1lZGlhdGVseSBhZnRlciB0byByZWNhbGN1bGF0ZSB0aGUgd29ybGQgYm91bmRzIG9mIHRoZSBzdWJ0cmVlLlxuICAgICAqIEBwYXJhbSByZWN0IC0gT3B0aW9uYWwgcmVjdGFuZ2xlIHRvIHN0b3JlIHRoZSByZXN1bHQgb2YgdGhlIGJvdW5kcyBjYWxjdWxhdGlvbi5cbiAgICAgKiBAcGFyYW0gc2tpcENoaWxkcmVuVXBkYXRlIC0gU2V0dGluZyB0byBgdHJ1ZWAgd2lsbCBzdG9wIHJlLWNhbGN1bGF0aW9uIG9mIGNoaWxkcmVuIHRyYW5zZm9ybXMsXG4gICAgICogIGl0IHdhcyBkZWZhdWx0IGJlaGF2aW91ciBvZiBwaXhpIDQuMC01LjIgYW5kIGNhdXNlZCBtYW55IHByb2JsZW1zIHRvIHVzZXJzLlxuICAgICAqIEByZXR1cm5zIC0gVGhlIHJlY3Rhbmd1bGFyIGJvdW5kaW5nIGFyZWEuXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5nZXRMb2NhbEJvdW5kcyA9IGZ1bmN0aW9uIChyZWN0LCBza2lwQ2hpbGRyZW5VcGRhdGUpIHtcbiAgICAgICAgaWYgKHNraXBDaGlsZHJlblVwZGF0ZSA9PT0gdm9pZCAwKSB7IHNraXBDaGlsZHJlblVwZGF0ZSA9IGZhbHNlOyB9XG4gICAgICAgIHZhciByZXN1bHQgPSBfc3VwZXIucHJvdG90eXBlLmdldExvY2FsQm91bmRzLmNhbGwodGhpcywgcmVjdCk7XG4gICAgICAgIGlmICghc2tpcENoaWxkcmVuVXBkYXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVUcmFuc2Zvcm0oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlY2FsY3VsYXRlcyB0aGUgY29udGVudCBib3VuZHMgb2YgdGhpcyBvYmplY3QuIFRoaXMgc2hvdWxkIGJlIG92ZXJyaWRlbiB0b1xuICAgICAqIGNhbGN1bGF0ZSB0aGUgYm91bmRzIG9mIHRoaXMgc3BlY2lmaWMgb2JqZWN0IChub3QgaW5jbHVkaW5nIGNoaWxkcmVuKS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5fY2FsY3VsYXRlQm91bmRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGSUxMIElOLy9cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhpcyBvYmplY3QgYW5kIGl0cyBjaGlsZHJlbiB3aXRoIGN1bGxpbmcuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UElYSS5SZW5kZXJlcn0gcmVuZGVyZXIgLSBUaGUgcmVuZGVyZXJcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXJXaXRoQ3VsbGluZyA9IGZ1bmN0aW9uIChyZW5kZXJlcikge1xuICAgICAgICB2YXIgc291cmNlRnJhbWUgPSByZW5kZXJlci5yZW5kZXJUZXh0dXJlLnNvdXJjZUZyYW1lO1xuICAgICAgICAvLyBJZiB0aGUgc291cmNlIGZyYW1lIGlzIGVtcHR5LCBzdG9wIHJlbmRlcmluZy5cbiAgICAgICAgaWYgKCEoc291cmNlRnJhbWUud2lkdGggPiAwICYmIHNvdXJjZUZyYW1lLmhlaWdodCA+IDApKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVuZGVyIHRoZSBjb250ZW50IG9mIHRoZSBjb250YWluZXIgb25seSBpZiBpdHMgYm91bmRzIGludGVyc2VjdCB3aXRoIHRoZSBzb3VyY2UgZnJhbWUuXG4gICAgICAgIC8vIEFsbCBmaWx0ZXJzIGFyZSBvbiB0aGUgc3RhY2sgYXQgdGhpcyBwb2ludCwgYW5kIHRoZSBmaWx0ZXIgc291cmNlIGZyYW1lIGlzIGJvdW5kOlxuICAgICAgICAvLyB0aGVyZWZvcmUsIGV2ZW4gaWYgdGhlIGJvdW5kcyB0byBub24gaW50ZXJzZWN0IHRoZSBmaWx0ZXIgZnJhbWUsIHRoZSBmaWx0ZXJcbiAgICAgICAgLy8gaXMgc3RpbGwgYXBwbGllZCBhbmQgYW55IGZpbHRlciBwYWRkaW5nIHRoYXQgaXMgaW4gdGhlIGZyYW1lIGlzIHJlbmRlcmVkIGNvcnJlY3RseS5cbiAgICAgICAgdmFyIGJvdW5kcztcbiAgICAgICAgdmFyIHRyYW5zZm9ybTtcbiAgICAgICAgLy8gSWYgY3VsbEFyZWEgaXMgc2V0LCB3ZSB1c2UgdGhpcyByZWN0YW5nbGUgaW5zdGVhZCBvZiB0aGUgYm91bmRzIG9mIHRoZSBvYmplY3QuIFRoZSBjdWxsQXJlYVxuICAgICAgICAvLyByZWN0YW5nbGUgbXVzdCBjb21wbGV0ZWx5IGNvbnRhaW4gdGhlIGNvbnRhaW5lciBhbmQgaXRzIGNoaWxkcmVuIGluY2x1ZGluZyBmaWx0ZXIgcGFkZGluZy5cbiAgICAgICAgaWYgKHRoaXMuY3VsbEFyZWEpIHtcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMuY3VsbEFyZWE7XG4gICAgICAgICAgICB0cmFuc2Zvcm0gPSB0aGlzLndvcmxkVHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBjb250YWluZXIgZG9lc24ndCBvdmVycmlkZSBfcmVuZGVyLCB3ZSBjYW4gc2tpcCB0aGUgYm91bmRzIGNhbGN1bGF0aW9uIGFuZCBpbnRlcnNlY3Rpb24gdGVzdC5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fcmVuZGVyICE9PSBDb250YWluZXIucHJvdG90eXBlLl9yZW5kZXIpIHtcbiAgICAgICAgICAgIGJvdW5kcyA9IHRoaXMuZ2V0Qm91bmRzKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbmRlciB0aGUgY29udGFpbmVyIGlmIHRoZSBzb3VyY2UgZnJhbWUgaW50ZXJzZWN0cyB0aGUgYm91bmRzLlxuICAgICAgICBpZiAoYm91bmRzICYmIHNvdXJjZUZyYW1lLmludGVyc2VjdHMoYm91bmRzLCB0cmFuc2Zvcm0pKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBib3VuZHMgYXJlIGRlZmluZWQgYnkgY3VsbEFyZWEgYW5kIGRvIG5vdCBpbnRlcnNlY3Qgd2l0aCB0aGUgc291cmNlIGZyYW1lLCBzdG9wIHJlbmRlcmluZy5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jdWxsQXJlYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVubGVzcyBjdWxsQXJlYSBpcyBzZXQsIHdlIGNhbm5vdCBza2lwIHRoZSBjaGlsZHJlbiBpZiB0aGUgYm91bmRzIG9mIHRoZSBjb250YWluZXIgZG8gbm90IGludGVyc2VjdFxuICAgICAgICAvLyB0aGUgc291cmNlIGZyYW1lLCBiZWNhdXNlIHRoZSBjaGlsZHJlbiBtaWdodCBoYXZlIGZpbHRlcnMgd2l0aCBub256ZXJvIHBhZGRpbmcsIHdoaWNoIG1heSBpbnRlcnNlY3RcbiAgICAgICAgLy8gd2l0aCB0aGUgc291cmNlIGZyYW1lIHdoaWxlIHRoZSBib3VuZHMgZG8gbm90OiBmaWx0ZXIgcGFkZGluZyBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGJvdW5kcy5cbiAgICAgICAgLy8gSWYgY3VsbEFyZWEgaXMgbm90IHNldCwgcmVuZGVyIHRoZSBjaGlsZHJlbiB3aXRoIGN1bGxpbmcgdGVtcG9yYXJpbHkgZW5hYmxlZCBzbyB0aGF0IHRoZXkgYXJlIG5vdCByZW5kZXJlZFxuICAgICAgICAvLyBpZiB0aGV5IGFyZSBvdXQgb2YgZnJhbWU7IG90aGVyd2lzZSwgcmVuZGVyIHRoZSBjaGlsZHJlbiBub3JtYWxseS5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGogPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGo7ICsraSkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIHZhciBjaGlsZEN1bGxhYmxlID0gY2hpbGQuY3VsbGFibGU7XG4gICAgICAgICAgICBjaGlsZC5jdWxsYWJsZSA9IGNoaWxkQ3VsbGFibGUgfHwgIXRoaXMuY3VsbEFyZWE7XG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgY2hpbGQuY3VsbGFibGUgPSBjaGlsZEN1bGxhYmxlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIHRoZSBvYmplY3QgdXNpbmcgdGhlIFdlYkdMIHJlbmRlcmVyLlxuICAgICAqXG4gICAgICogVGhlIFtfcmVuZGVyXXtAbGluayBQSVhJLkNvbnRhaW5lciNfcmVuZGVyfSBtZXRob2QgaXMgYmUgb3ZlcnJpZGVuIGZvciByZW5kZXJpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZVxuICAgICAqIGNvbnRhaW5lciBpdHNlbGYuIFRoaXMgYHJlbmRlcmAgbWV0aG9kIHdpbGwgaW52b2tlIGl0LCBhbmQgYWxzbyBpbnZva2UgdGhlIGByZW5kZXJgIG1ldGhvZHMgb2YgYWxsXG4gICAgICogY2hpbGRyZW4gYWZ0ZXJ3YXJkLlxuICAgICAqXG4gICAgICogSWYgYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYCBpcyBmYWxzZSBvciBpZiBgd29ybGRBbHBoYWAgaXMgbm90IHBvc2l0aXZlIG9yIGlmIGBjdWxsYWJsZWAgaXMgdHJ1ZSBhbmRcbiAgICAgKiB0aGUgYm91bmRzIG9mIHRoaXMgb2JqZWN0IGFyZSBvdXQgb2YgZnJhbWUsIHRoaXMgaW1wbGVtZW50YXRpb24gd2lsbCBlbnRpcmVseSBza2lwIHJlbmRlcmluZy5cbiAgICAgKiBTZWUge0BsaW5rIFBJWEkuRGlzcGxheU9iamVjdH0gZm9yIGNob29zaW5nIGJldHdlZW4gYHJlbmRlcmFibGVgIG9yIGB2aXNpYmxlYC4gR2VuZXJhbGx5LFxuICAgICAqIHNldHRpbmcgYWxwaGEgdG8gemVybyBpcyBub3QgcmVjb21tZW5kZWQgZm9yIHB1cmVseSBza2lwcGluZyByZW5kZXJpbmcuXG4gICAgICpcbiAgICAgKiBXaGVuIHlvdXIgc2NlbmUgYmVjb21lcyBsYXJnZSAoZXNwZWNpYWxseSB3aGVuIGl0IGlzIGxhcmdlciB0aGFuIGNhbiBiZSB2aWV3ZWQgaW4gYSBzaW5nbGUgc2NyZWVuKSwgaXQgaXNcbiAgICAgKiBhZHZpc2VkIHRvIGVtcGxveSAqKmN1bGxpbmcqKiB0byBhdXRvbWF0aWNhbGx5IHNraXAgcmVuZGVyaW5nIG9iamVjdHMgb3V0c2lkZSBvZiB0aGUgY3VycmVudCBzY3JlZW4uXG4gICAgICogU2VlIFtjdWxsYWJsZV17QGxpbmsgUElYSS5EaXNwbGF5T2JqZWN0I2N1bGxhYmxlfSBhbmQgW2N1bGxBcmVhXXtAbGluayBQSVhJLkRpc3BsYXlPYmplY3QjY3VsbEFyZWF9LlxuICAgICAqIE90aGVyIGN1bGxpbmcgbWV0aG9kcyBtaWdodCBiZSBiZXR0ZXIgc3VpdGVkIGZvciBhIGxhcmdlIG51bWJlciBzdGF0aWMgb2JqZWN0czsgc2VlXG4gICAgICogW0BwaXhpLWVzc2VudGlhbHMvY3VsbF17QGxpbmsgaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvQHBpeGktZXNzZW50aWFscy9jdWxsfSBhbmRcbiAgICAgKiBbcGl4aS1jdWxsXXtAbGluayBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9waXhpLWN1bGx9LlxuICAgICAqXG4gICAgICogVGhlIFtyZW5kZXJBZHZhbmNlZF17QGxpbmsgUElYSS5Db250YWluZXIjcmVuZGVyQWR2YW5jZWR9IG1ldGhvZCBpcyBpbnRlcm5hbGx5IHVzZWQgd2hlbiB3aGVuIG1hc2tpbmcgb3JcbiAgICAgKiBmaWx0ZXJpbmcgaXMgYXBwbGllZCBvbiBhIGNvbnRhaW5lci4gVGhpcyBkb2VzLCBob3dldmVyLCBicmVhayBiYXRjaGluZyBhbmQgY2FuIGFmZmVjdCBwZXJmb3JtYW5jZSB3aGVuXG4gICAgICogbWFza2luZyBhbmQgZmlsdGVyaW5nIGlzIGFwcGxpZWQgZXh0ZW5zaXZlbHkgdGhyb3VnaG91dCB0aGUgc2NlbmUgZ3JhcGguXG4gICAgICogQHBhcmFtIHJlbmRlcmVyIC0gVGhlIHJlbmRlcmVyXG4gICAgICovXG4gICAgQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgLy8gaWYgdGhlIG9iamVjdCBpcyBub3QgdmlzaWJsZSBvciB0aGUgYWxwaGEgaXMgMCB0aGVuIG5vIG5lZWQgdG8gcmVuZGVyIHRoaXMgZWxlbWVudFxuICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSB8fCB0aGlzLndvcmxkQWxwaGEgPD0gMCB8fCAhdGhpcy5yZW5kZXJhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gYSBxdWljayBjaGVjayB0byBzZWUgaWYgdGhpcyBlbGVtZW50IGhhcyBhIG1hc2sgb3IgYSBmaWx0ZXIuXG4gICAgICAgIGlmICh0aGlzLl9tYXNrIHx8ICh0aGlzLmZpbHRlcnMgJiYgdGhpcy5maWx0ZXJzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyQWR2YW5jZWQocmVuZGVyZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW5kZXIgdGhlIG9iamVjdCB1c2luZyB0aGUgV2ViR0wgcmVuZGVyZXIgYW5kIGFkdmFuY2VkIGZlYXR1cmVzLlxuICAgICAqIEBwYXJhbSByZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyQWR2YW5jZWQgPSBmdW5jdGlvbiAocmVuZGVyZXIpIHtcbiAgICAgICAgdmFyIGZpbHRlcnMgPSB0aGlzLmZpbHRlcnM7XG4gICAgICAgIHZhciBtYXNrID0gdGhpcy5fbWFzaztcbiAgICAgICAgLy8gcHVzaCBmaWx0ZXIgZmlyc3QgYXMgd2UgbmVlZCB0byBlbnN1cmUgdGhlIHN0ZW5jaWwgYnVmZmVyIGlzIGNvcnJlY3QgZm9yIGFueSBtYXNraW5nXG4gICAgICAgIGlmIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2VuYWJsZWRGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW5hYmxlZEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyc1tpXS5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLnB1c2goZmlsdGVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBmbHVzaCA9IChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHx8IChtYXNrICYmICghbWFzay5pc01hc2tEYXRhXG4gICAgICAgICAgICAgICAgfHwgKG1hc2suZW5hYmxlZCAmJiAobWFzay5hdXRvRGV0ZWN0IHx8IG1hc2sudHlwZSAhPT0gTUFTS19UWVBFUy5OT05FKSkpKTtcbiAgICAgICAgaWYgKGZsdXNoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5iYXRjaC5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzICYmIHRoaXMuX2VuYWJsZWRGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuZmlsdGVyLnB1c2godGhpcywgdGhpcy5fZW5hYmxlZEZpbHRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICByZW5kZXJlci5tYXNrLnB1c2godGhpcywgdGhpcy5fbWFzayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY3VsbGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcldpdGhDdWxsaW5nKHJlbmRlcmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcihyZW5kZXJlcik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaiA9IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpIDwgajsgKytpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXS5yZW5kZXIocmVuZGVyZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbHVzaCkge1xuICAgICAgICAgICAgcmVuZGVyZXIuYmF0Y2guZmx1c2goKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFzaykge1xuICAgICAgICAgICAgcmVuZGVyZXIubWFzay5wb3AodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMgJiYgdGhpcy5fZW5hYmxlZEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZW5kZXJlci5maWx0ZXIucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRvIGJlIG92ZXJyaWRkZW4gYnkgdGhlIHN1YmNsYXNzZXMuXG4gICAgICogQHBhcmFtIF9yZW5kZXJlciAtIFRoZSByZW5kZXJlclxuICAgICAqL1xuICAgIENvbnRhaW5lci5wcm90b3R5cGUuX3JlbmRlciA9IGZ1bmN0aW9uIChfcmVuZGVyZXIpIHtcbiAgICAgICAgLy8gdGhpcyBpcyB3aGVyZSBjb250ZW50IGl0c2VsZiBnZXRzIHJlbmRlcmVkLi4uXG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBpbnRlcm5hbCByZWZlcmVuY2VzIGFuZCBsaXN0ZW5lcnMgYXMgd2VsbCBhcyByZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGRpc3BsYXkgbGlzdC5cbiAgICAgKiBEbyBub3QgdXNlIGEgQ29udGFpbmVyIGFmdGVyIGNhbGxpbmcgYGRlc3Ryb3lgLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucyBwYXJhbWV0ZXIuIEEgYm9vbGVhbiB3aWxsIGFjdCBhcyBpZiBhbGwgb3B0aW9uc1xuICAgICAqICBoYXZlIGJlZW4gc2V0IHRvIHRoYXQgdmFsdWVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmNoaWxkcmVuPWZhbHNlXSAtIGlmIHNldCB0byB0cnVlLCBhbGwgdGhlIGNoaWxkcmVuIHdpbGwgaGF2ZSB0aGVpciBkZXN0cm95XG4gICAgICogIG1ldGhvZCBjYWxsZWQgYXMgd2VsbC4gJ29wdGlvbnMnIHdpbGwgYmUgcGFzc2VkIG9uIHRvIHRob3NlIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgdGV4dHVyZSBvZiB0aGUgY2hpbGQgc3ByaXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5iYXNlVGV4dHVyZT1mYWxzZV0gLSBPbmx5IHVzZWQgZm9yIGNoaWxkIFNwcml0ZXMgaWYgb3B0aW9ucy5jaGlsZHJlbiBpcyBzZXQgdG8gdHJ1ZVxuICAgICAqICBTaG91bGQgaXQgZGVzdHJveSB0aGUgYmFzZSB0ZXh0dXJlIG9mIHRoZSBjaGlsZCBzcHJpdGVcbiAgICAgKi9cbiAgICBDb250YWluZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICAgICAgdGhpcy5zb3J0RGlydHkgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlc3Ryb3lDaGlsZHJlbiA9IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgPyBvcHRpb25zIDogb3B0aW9ucyAmJiBvcHRpb25zLmNoaWxkcmVuO1xuICAgICAgICB2YXIgb2xkQ2hpbGRyZW4gPSB0aGlzLnJlbW92ZUNoaWxkcmVuKDAsIHRoaXMuY2hpbGRyZW4ubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRlc3Ryb3lDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGRDaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIG9sZENoaWxkcmVuW2ldLmRlc3Ryb3kob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb250YWluZXIucHJvdG90eXBlLCBcIndpZHRoXCIsIHtcbiAgICAgICAgLyoqIFRoZSB3aWR0aCBvZiB0aGUgQ29udGFpbmVyLCBzZXR0aW5nIHRoaXMgd2lsbCBhY3R1YWxseSBtb2RpZnkgdGhlIHNjYWxlIHRvIGFjaGlldmUgdGhlIHZhbHVlIHNldC4gKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zY2FsZS54ICogdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLndpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZS54ID0gdmFsdWUgLyB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl93aWR0aCA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENvbnRhaW5lci5wcm90b3R5cGUsIFwiaGVpZ2h0XCIsIHtcbiAgICAgICAgLyoqIFRoZSBoZWlnaHQgb2YgdGhlIENvbnRhaW5lciwgc2V0dGluZyB0aGlzIHdpbGwgYWN0dWFsbHkgbW9kaWZ5IHRoZSBzY2FsZSB0byBhY2hpZXZlIHRoZSB2YWx1ZSBzZXQuICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2NhbGUueSAqIHRoaXMuZ2V0TG9jYWxCb3VuZHMoKS5oZWlnaHQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5nZXRMb2NhbEJvdW5kcygpLmhlaWdodDtcbiAgICAgICAgICAgIGlmIChoZWlnaHQgIT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlLnkgPSB2YWx1ZSAvIGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oZWlnaHQgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBDb250YWluZXI7XG59KERpc3BsYXlPYmplY3QpKTtcbi8qKlxuICogQ29udGFpbmVyIGRlZmF1bHQgdXBkYXRlVHJhbnNmb3JtLCBkb2VzIHVwZGF0ZSBjaGlsZHJlbiBvZiBjb250YWluZXIuXG4gKiBXaWxsIGNyYXNoIGlmIHRoZXJlJ3Mgbm8gcGFyZW50IGVsZW1lbnQuXG4gKiBAbWVtYmVyb2YgUElYSS5Db250YWluZXIjXG4gKiBAbWV0aG9kIGNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybVxuICovXG5Db250YWluZXIucHJvdG90eXBlLmNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSA9IENvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlVHJhbnNmb3JtO1xuXG5leHBvcnRzLkJvdW5kcyA9IEJvdW5kcztcbmV4cG9ydHMuQ29udGFpbmVyID0gQ29udGFpbmVyO1xuZXhwb3J0cy5EaXNwbGF5T2JqZWN0ID0gRGlzcGxheU9iamVjdDtcbmV4cG9ydHMuVGVtcG9yYXJ5RGlzcGxheU9iamVjdCA9IFRlbXBvcmFyeURpc3BsYXlPYmplY3Q7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kaXNwbGF5LmpzLm1hcFxuIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwic2V0dGluZ3MiLCJtYXRoIiwidXRpbHMiLCJTT1JUQUJMRV9DSElMRFJFTiIsIkJvdW5kcyIsInRoaXMiLCJtaW5YIiwiSW5maW5pdHkiLCJtaW5ZIiwibWF4WCIsIm1heFkiLCJyZWN0IiwidXBkYXRlSUQiLCJwcm90b3R5cGUiLCJpc0VtcHR5IiwiY2xlYXIiLCJnZXRSZWN0YW5nbGUiLCJSZWN0YW5nbGUiLCJFTVBUWSIsIngiLCJ5Iiwid2lkdGgiLCJoZWlnaHQiLCJhZGRQb2ludCIsInBvaW50IiwiTWF0aCIsIm1pbiIsIm1heCIsImFkZFBvaW50TWF0cml4IiwibWF0cml4IiwiYSIsImIiLCJjIiwiZCIsInR4IiwidHkiLCJhZGRRdWFkIiwidmVydGljZXMiLCJhZGRGcmFtZSIsInRyYW5zZm9ybSIsIngwIiwieTAiLCJ4MSIsInkxIiwiYWRkRnJhbWVNYXRyaXgiLCJ3b3JsZFRyYW5zZm9ybSIsImFkZFZlcnRleERhdGEiLCJ2ZXJ0ZXhEYXRhIiwiYmVnaW5PZmZzZXQiLCJlbmRPZmZzZXQiLCJpIiwiYWRkVmVydGljZXMiLCJhZGRWZXJ0aWNlc01hdHJpeCIsInBhZFgiLCJwYWRZIiwicmF3WCIsInJhd1kiLCJhZGRCb3VuZHMiLCJib3VuZHMiLCJhZGRCb3VuZHNNYXNrIiwibWFzayIsIl9taW5YIiwiX21pblkiLCJfbWF4WCIsIl9tYXhZIiwiYWRkQm91bmRzTWF0cml4IiwiYWRkQm91bmRzQXJlYSIsImFyZWEiLCJwYWQiLCJwYWRkaW5nWCIsInBhZGRpbmdZIiwiYWRkRnJhbWVQYWQiLCJleHRlbmRTdGF0aWNzIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fZXh0ZW5kcyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJFTlYiLCJSRU5ERVJFUl9UWVBFIiwiQlVGRkVSX0JJVFMiLCJCTEVORF9NT0RFUyIsIkRSQVdfTU9ERVMiLCJGT1JNQVRTIiwiVEFSR0VUUyIsIlRZUEVTIiwiU0FNUExFUl9UWVBFUyIsIlNDQUxFX01PREVTIiwiV1JBUF9NT0RFUyIsIk1JUE1BUF9NT0RFUyIsIkFMUEhBX01PREVTIiwiQ0xFQVJfTU9ERVMiLCJHQ19NT0RFUyIsIlBSRUNJU0lPTiIsIk1BU0tfVFlQRVMiLCJNU0FBX1FVQUxJVFkiLCJCVUZGRVJfVFlQRSIsIkRpc3BsYXlPYmplY3QiLCJfc3VwZXIiLCJfdGhpcyIsImNhbGwiLCJ0ZW1wRGlzcGxheU9iamVjdFBhcmVudCIsIlRyYW5zZm9ybSIsImFscGhhIiwidmlzaWJsZSIsInJlbmRlcmFibGUiLCJjdWxsYWJsZSIsImN1bGxBcmVhIiwicGFyZW50Iiwid29ybGRBbHBoYSIsIl9sYXN0U29ydGVkSW5kZXgiLCJfekluZGV4IiwiZmlsdGVyQXJlYSIsImZpbHRlcnMiLCJfZW5hYmxlZEZpbHRlcnMiLCJfYm91bmRzIiwiX2xvY2FsQm91bmRzIiwiX2JvdW5kc0lEIiwiX2JvdW5kc1JlY3QiLCJfbG9jYWxCb3VuZHNSZWN0IiwiX21hc2siLCJfbWFza1JlZkNvdW50IiwiX2Rlc3Ryb3llZCIsImlzU3ByaXRlIiwiaXNNYXNrIiwibWl4aW4iLCJzb3VyY2UiLCJrZXlzIiwibGVuZ3RoIiwicHJvcGVydHlOYW1lIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9yZWN1cnNpdmVQb3N0VXBkYXRlVHJhbnNmb3JtIiwidXBkYXRlVHJhbnNmb3JtIiwiX3RlbXBEaXNwbGF5T2JqZWN0UGFyZW50IiwiZ2V0Qm91bmRzIiwic2tpcFVwZGF0ZSIsImNhbGN1bGF0ZUJvdW5kcyIsImdldExvY2FsQm91bmRzIiwidHJhbnNmb3JtUmVmIiwicGFyZW50UmVmIiwid29ybGRCb3VuZHMiLCJ3b3JsZEJvdW5kc0lEIiwidG9HbG9iYWwiLCJwb3NpdGlvbiIsImRpc3BsYXlPYmplY3RVcGRhdGVUcmFuc2Zvcm0iLCJhcHBseSIsInRvTG9jYWwiLCJmcm9tIiwiYXBwbHlJbnZlcnNlIiwic2V0UGFyZW50IiwiY29udGFpbmVyIiwiYWRkQ2hpbGQiLCJFcnJvciIsInNldFRyYW5zZm9ybSIsInNjYWxlWCIsInNjYWxlWSIsInJvdGF0aW9uIiwic2tld1giLCJza2V3WSIsInBpdm90WCIsInBpdm90WSIsInNjYWxlIiwic2tldyIsInBpdm90IiwiZGVzdHJveSIsIl9vcHRpb25zIiwicmVtb3ZlQ2hpbGQiLCJoaXRBcmVhIiwiaW50ZXJhY3RpdmUiLCJpbnRlcmFjdGl2ZUNoaWxkcmVuIiwiZW1pdCIsInJlbW92ZUFsbExpc3RlbmVycyIsIlRlbXBvcmFyeURpc3BsYXlPYmplY3QiLCJlbmFibGVUZW1wUGFyZW50IiwibXlQYXJlbnQiLCJkaXNhYmxlVGVtcFBhcmVudCIsImNhY2hlUGFyZW50Iiwic2V0IiwibG9jYWxUcmFuc2Zvcm0iLCJjb3B5RnJvbSIsIlJBRF9UT19ERUciLCJERUdfVE9fUkFEIiwic29ydERpcnR5IiwiaXRlbSIsIm1hc2tPYmplY3QiLCJFdmVudEVtaXR0ZXIiLCJhcmd1bWVudHMiLCJzb3J0Q2hpbGRyZW4iLCJ6SW5kZXgiLCJDb250YWluZXIiLCJjaGlsZHJlbiIsInNvcnRhYmxlQ2hpbGRyZW4iLCJvbkNoaWxkcmVuQ2hhbmdlIiwiX2xlbmd0aCIsImFyZ3VtZW50cyQxIiwiX2kiLCJjaGlsZCIsIl9wYXJlbnRJRCIsInB1c2giLCJhZGRDaGlsZEF0IiwiaW5kZXgiLCJzcGxpY2UiLCJzd2FwQ2hpbGRyZW4iLCJjaGlsZDIiLCJpbmRleDEiLCJnZXRDaGlsZEluZGV4IiwiaW5kZXgyIiwiaW5kZXhPZiIsInNldENoaWxkSW5kZXgiLCJjdXJyZW50SW5kZXgiLCJyZW1vdmVJdGVtcyIsImdldENoaWxkQXQiLCJyZW1vdmVDaGlsZEF0IiwicmVtb3ZlQ2hpbGRyZW4iLCJiZWdpbkluZGV4IiwiZW5kSW5kZXgiLCJyZW1vdmVkIiwiYmVnaW4iLCJyYW5nZSIsIlJhbmdlRXJyb3IiLCJzb3J0UmVxdWlyZWQiLCJqIiwic29ydCIsIl9jYWxjdWxhdGVCb3VuZHMiLCJza2lwQ2hpbGRyZW5VcGRhdGUiLCJyZXN1bHQiLCJfcmVuZGVyV2l0aEN1bGxpbmciLCJyZW5kZXJlciIsInNvdXJjZUZyYW1lIiwicmVuZGVyVGV4dHVyZSIsIl9yZW5kZXIiLCJpbnRlcnNlY3RzIiwiY2hpbGRDdWxsYWJsZSIsInJlbmRlciIsInJlbmRlckFkdmFuY2VkIiwiZW5hYmxlZCIsImZsdXNoIiwiaXNNYXNrRGF0YSIsImF1dG9EZXRlY3QiLCJ0eXBlIiwiTk9ORSIsImJhdGNoIiwiZmlsdGVyIiwicG9wIiwiX3JlbmRlcmVyIiwib3B0aW9ucyIsImRlc3Ryb3lDaGlsZHJlbiIsIm9sZENoaWxkcmVuIiwiX3dpZHRoIiwiX2hlaWdodCIsImNvbnRhaW5lclVwZGF0ZVRyYW5zZm9ybSJdLCJzb3VyY2VSb290IjoiIn0=